import{d as A,ar as E,ao as se,aa as S,ab as x,ae as te,af as N,a0 as T,o as m,b as p,h as s,a1 as r,e as O,a7 as R,a4 as $,al as n,aq as M,at as U,am as B,a6 as z,a8 as F,a2 as J,a3 as C,au as oe,av as le,j as W,aj as ae}from"./vendor.24572685.js";import{D as ne}from"./bootstrap.esm.f2db94b8.js";import{D as re,a as G,S as H}from"./simplebar.7698d9c5.js";import{_ as ce}from"./index.38c7dd9c.js";const j=v=>(oe("data-v-d6429306"),v=v(),le(),v),ie={id:"search-bar",class:"w-100 bg-white border-0 p-3 rounded-12 fs-14"},de={class:"row"},_e={class:"col-12 col-lg-11"},ue={class:"row mx-0"},me={class:"col-12 col-md-6 col-lg-4"},pe={class:"fw-medium mb-2"},he={class:"position-relative right-bar"},fe={class:"",style:{"padding-top":"12px","padding-bottom":"12px"}},be={class:"mb-1"},ge=C(),ve=j(()=>s("br",null,null,-1)),we={class:"fs-10"},ye={class:"mb-1"},Se=C(),je=j(()=>s("br",null,null,-1)),ke={class:"fs-10"},xe={class:"mb-1"},$e=C(),Be=j(()=>s("br",null,null,-1)),Ce={class:"fs-10"},De={class:"col-12 col-md-6 col-lg-4"},Le={class:"position-relative"},Ve={class:"fw-medium mb-2"},Ie=["placeholder"],qe={key:0,class:"position-relative"},Ae={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ee=["onClick"],Ne={class:"col-12 col-md-6 col-lg-4 offset-md-3 offset-lg-0 mt-md-2 mt-lg-0"},Te={class:"position-relative"},Oe={class:"fw-medium mb-2"},Re={class:"position-relative right-bar"},Me=["placeholder","disabled"],Ue={key:0,class:"position-relative"},ze={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Fe=["onClick"],Je={class:"col-12 col-md-4 col-lg-1 offset-md-4 offset-lg-0 mt-3 mt-lg-0 px-4 px-md-3 d-flex align-items-end search_button_container"},We={class:"d-lg-none"},Ge=j(()=>s("i",{class:"ms-2 ms-lg-0 fas fa-search fs-20 align-middle"},null,-1)),He=A({setup(v){const y=E();se();const w=S(null),i=S(null);let o=x({remote:"",location:{name:"",model:"",id:""},job_reference:{name:"",id:""}}),f=window.localStorage.getItem("userLang"),d="";f?d=f:(f=navigator.language,f.includes("es")?d="es":f.includes("fr")?d="fr":d="en"),te(()=>{const e=document.getElementById("loading");e&&(e.style.display="none");const t=[].slice.call(document.querySelectorAll(".search-bar__dropdown-toggle"));console.log(t),t.map(function(a){return new ne(a)})});const D=N(()=>o.remote=="nomad"&&o.job_reference.id!=""||o.remote!=""&&o.location.id!=""&&o.job_reference.id!=""),K=()=>{var e;o.remote="nomad",o.location.name="",o.location.id="",_.value="Worldwide",i.value&&((e=i.value)==null||e.focus())},L=e=>{var t;o.remote=e,i.value&&((t=i.value)==null||t.focus())};let _=S(""),b=x([]);const P=()=>{const e=`locations/searchLocation/${_.value}`;b.splice(0),_.value.length>2&&W.get(e,{params:{lang:d}}).then(t=>{const a=t.data;b.push(...a)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new H(t))})},Q=(e,t)=>{var u,l,c,k;let a="";return e.region?a=`${(l=(u=e==null?void 0:e.region)==null?void 0:u.country)==null?void 0:l.name}, ${(c=e==null?void 0:e.region)==null?void 0:c.name}, ${e==null?void 0:e.name}`:e.country?a=`${(k=e==null?void 0:e.country)==null?void 0:k.name}, ${e==null?void 0:e.name}`:a=e==null?void 0:e.name,a},V=()=>{_.value="",b.splice(0)},X=(e,t)=>{var a,u,l,c;o.location.name=e.name,o.location.id=e._id,e.region?o.location.name=`${(u=(a=e==null?void 0:e.region)==null?void 0:a.country)==null?void 0:u.name}, ${(l=e==null?void 0:e.region)==null?void 0:l.name}, ${e==null?void 0:e.name}`:e.country?o.location.name=`${(c=e==null?void 0:e.country)==null?void 0:c.name}, ${e==null?void 0:e.name}`:o.location.name=e==null?void 0:e.name,t==0?o.location.model="cities":t==1?o.location.model="regions":t==2?o.location.model="countries":t==3&&(o.location.model="continents"),V()};let h=S(""),g=x([]);const Y=()=>{const e=`job-reference/searchJobreference/${h.value}`;g.splice(0),h.value.length>2&&W.get(e,{params:{lang:d}}).then(t=>{const a=t.data;g.push(...a)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new H(t))})},I=e=>{let t="";return d=="fr"?t=e.name_fr:d=="es"?t=e.name_es:t=e.name_en,t},q=()=>{h.value="",g.splice(0)},Z=e=>{var t;o.job_reference.name=I(e),o.job_reference.id=e._id,q(),w.value&&((t=w.value)==null||t.focus())},ee=()=>{if(D.value){const e={};o.remote!=""&&(e.remote=o.remote),o.job_reference.id!=""&&(e.job_reference=o.job_reference.id),o.location.id!=""&&o.location.model!=""&&(e.locations=o.location.id),y.push({name:"TalentOpportunities",query:e})}};return(e,t)=>{const a=T("t"),u=T("debounce");return m(),p("div",ie,[s("div",de,[s("div",_e,[s("div",ue,[s("div",me,[r(s("p",pe,null,512),[[a,"SearchBar.remote.title"]]),s("div",he,[O(re,null,{dropdown_btn:R(()=>[s("div",fe,[s("span",null,$(n(o).remote==""?e.$t("SearchBar.remote.select"):e.$t(`SearchBar.remote.${n(o).remote}_title`)),1)])]),dropdown_li:R(()=>[s("ul",null,[s("li",{class:"my-2 py-2 clickable break-spaces dropdown-item fs-14 rounded",onClick:t[0]||(t[0]=l=>L("full_remote"))},[r(s("span",be,null,512),[[a,"SearchBar.remote.full_remote_title"]]),ge,ve,r(s("span",we,null,512),[[a,"SearchBar.remote.full_remote_sub-title"]])]),s("li",{class:"py-2 mb-2 clickable break-spaces dropdown-item fs-14 rounded",onClick:t[1]||(t[1]=l=>L("hybrid"))},[r(s("span",ye,null,512),[[a,"SearchBar.remote.hybrid_title"]]),Se,je,r(s("span",ke,null,512),[[a,"SearchBar.remote.hybrid_sub-title"]])]),s("li",{class:"mb-2 py-2 clickable break-spaces dropdown-item fs-14 rounded",onClick:K},[r(s("span",xe,null,512),[[a,"SearchBar.remote.nomad_title"]]),$e,Be,r(s("span",Ce,null,512),[[a,"SearchBar.remote.nomad_sub-title"]])])])]),_:1})])]),s("div",De,[s("div",Le,[r(s("p",Ve,null,512),[[a,"SearchBar.job_reference.title"]]),r(s("input",{type:"text",id:"job_reference-search",ref:(l,c)=>{c.job_reference_input=l,i.value=l},"onUpdate:modelValue":t[2]||(t[2]=l=>U(h)?h.value=l:h=l),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).job_reference.name==""?e.$t("SearchBar.job_reference.select"):n(o).job_reference.name},null,8,Ie),[[M,n(h)],[u,Y,"500ms"]]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(g).length<=0}])},[n(g).length>0?r((m(),p("div",qe,[s("ul",Ae,[(m(!0),p(z,null,F(n(g),l=>(m(),p("li",{class:"fs-14 clickable break-spaces dropdown-item",onClick:c=>Z(l)},[s("span",null,$(I(l)),1)],8,Ee))),256))])],512)),[[n(G.exports.directive),q]]):J("",!0)],2)])]),s("div",Ne,[s("div",Te,[r(s("p",Oe,null,512),[[a,"SearchBar.location.title"]]),s("div",Re,[r(s("input",{type:"text",id:"location-search",ref:(l,c)=>{c.location_input=l,w.value=l},"onUpdate:modelValue":t[3]||(t[3]=l=>U(_)?_.value=l:_=l),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).location.name==""?e.$t("SearchBar.location.select"):n(o).location.name,disabled:n(o).remote=="nomad"},null,8,Me),[[M,n(_)],[u,P,"500ms"]])]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(b).length<=0}])},[n(b).length>0?r((m(),p("div",Ue,[s("ul",ze,[(m(!0),p(z,null,F(n(b),(l,c)=>(m(),p("li",{class:"clickable break-spaces dropdown-item fs-14",onClick:k=>X(l,c)},[s("span",null,$(Q(l)),1)],8,Fe))),256))])],512)),[[n(G.exports.directive),V]]):J("",!0)],2)])])])]),s("div",Je,[s("button",{type:"button",class:B(["btn text-white bg-green-app w-100 px-2 py-2 search-bar-button",{disabled:!n(D)}]),style:{height:"47px"},onClick:ee},[r(s("span",We,null,512),[[a,"SearchBar.search_button"]]),Ge],2)])])])}}});var Ke=ce(He,[["__scopeId","data-v-d6429306"]]);const Pe={id:"searh_bar_page",class:"container"},Qe={class:"row mt-15"},Xe={class:"col-12 col-md-12 col-xl-10 offset-xl-1"},ts=A({setup(v){const y=ae(),w=E();y.commit("setLayout","BaseLayout");const i=N(()=>y.state.auth.userData);return i.value.filters&&i.value.filters.length>0&&w.push({name:"TalentOpportunities"}),(o,f)=>(m(),p("div",Pe,[s("div",Qe,[s("div",Xe,[O(Ke)])])]))}});export{ts as default};
