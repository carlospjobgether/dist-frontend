var qe=Object.defineProperty,we=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var _e=(e,s,n)=>s in e?qe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n,V=(e,s)=>{for(var n in s||(s={}))je.call(s,n)&&_e(e,n,s[n]);if(fe)for(var n of fe(s))Ae.call(s,n)&&_e(e,n,s[n]);return e},ae=(e,s)=>we(e,Ee(s));import{d as A,am as Le,ai as R,ah as me,r as j,e as D,o,f as c,i as t,an as ge,p as I,t as b,ao as _,h as r,l as O,aa as ee,q as L,g as v,ab as q,n as te,j as Ce,ap as K,ae as W,s as x,w as k,ac as T,v as De,aq as Te,m as se,ar as oe,as as ne,k as ye}from"./vendor.8ecd296d.js";import{b as Ne}from"./bootstrap.bundle.min.6f8196e0.js";import{h as Re}from"./moment.08a7f518.js";import{r as be,_ as U}from"./index.9220fcf4.js";import{g as ve}from"./utils.1fce72cf.js";import{D as Ie,P as xe}from"./bootstrap.esm.f2db94b8.js";import{D as X,S as $e}from"./simplebar.010e308c.js";var M;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(M||(M={}));var Oe;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(Oe||(Oe={}));var ie;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ie||(ie={}));var re;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(re||(re={}));const ke={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Qe=["id"],Fe={class:"row mx-0"},Ue={class:"col-9 pt-3 pb-2"},Be={class:"px-2 d-flex flex-column-reverse flex-md-row"},Ve={class:"flex-grow-1 pb-2"},Me={class:"mb-1 fs-20"},Je={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 fs-14 bg-light-yellow rounded-8"},Ye={class:"mb-0 d-flex align-items-center justify-content-between"},Pe={class:"fs-12"},ze={key:0,class:"fav_group_icon"},Ge=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),He=[Ge],Ke=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),We=[Ke],Xe={key:1,class:"archived_group_icon"},Ze=["data-bs-content"],et={class:"px-2"},tt={class:"mb-1 fw-light"},st=t("span",{class:"me-2 ms-2 px-2 py-1 fs-14 fw-500 bg-blue-app-20 rounded-8"},[t("em",{class:"fas fa-star"}),I(" Top flex ")],-1),nt={class:"mb-1 px-2 d-flex flex-column flex-md-row"},it={class:"mb-2 mb-md-0 pt-1 flex-grow-1 offer-content"},lt={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},at=["data-bs-content"],ot={key:2},rt={class:"mt-n1 d-flex align-items-center"},ct=["data-bs-content"],ut={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},dt=["data-bs-content"],pt={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},ht={class:"matching d-none"},ft={class:"me-2 matching__text d-none d-sm-inline"},_t=["data-bs-content"],mt={key:1,class:"fas fa-lock"},gt=I(" % "),yt=A({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo"],setup(e,{emit:s}){const n=e,i=Le();let m=R(()=>i.state.auth.userData.favorites?i.state.auth.userData.favorites:[]),g=R(()=>i.state.auth.userData._id),h=R(()=>i.state.auth.accessToken),d=R(()=>{var y;let p=[];if(((y=n.query_api)==null?void 0:y.flexibility)&&(p=n.query_api.flexibility.filter($=>{var w,S;return(S=(w=n.matchOffer)==null?void 0:w.company)==null?void 0:S.meta[$]})),p.length==0){let $=Object.keys(ke).filter(w=>{var S,C;return(C=(S=n.matchOffer)==null?void 0:S.company)==null?void 0:C.meta[w]});if($.length>0){let w=ve(0,$.length-1);p=[$[w-1]]}}return p}),a=R(()=>{var y,$,w;let p=[];if(((y=n.query_api)==null?void 0:y.remote)&&(p=n.query_api.remote.filter(S=>{var C;return(C=n.matchOffer)==null?void 0:C.meta.remote.some(B=>B==S)})),p.length==0){let S=(w=($=n.matchOffer)==null?void 0:$.meta)==null?void 0:w.remote;if(S.length>0){let C=ve(0,S.length-1);p=[S[C-1]]}}return p});me(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${n.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(y=>new Ne.exports.Popover(y));let p=document.getElementById("myPopover");p==null||p.addEventListener("hidden.bs.popover",function(){})});const l=R(()=>{var y,$;let p="";switch(($=(y=n.matchOffer)==null?void 0:y.meta)==null?void 0:$.currency){case"EUR":p="euro-sign";break;case"USD":p="dollar-sign";break;default:p="question"}return p}),u=R(()=>{var p,y,$;return((y=(p=n.matchOffer)==null?void 0:p.meta)==null?void 0:y.contractType)?($=n.matchOffer.meta)==null?void 0:$.contractType:""}),f=R(()=>{var y,$,w,S,C,B,J,Y,P,z,G,H;let p="";return(($=(y=n.matchOffer)==null?void 0:y.meta)==null?void 0:$.salary)&&((C=(S=(w=n.matchOffer)==null?void 0:w.meta)==null?void 0:S.salary)==null?void 0:C.min)&&((Y=(J=(B=n.matchOffer)==null?void 0:B.meta)==null?void 0:J.salary)==null?void 0:Y.max)&&(p=`${((z=(P=n.matchOffer.meta)==null?void 0:P.salary)==null?void 0:z.min)/1e3} - ${((H=(G=n.matchOffer.meta)==null?void 0:G.salary)==null?void 0:H.max)/1e3}K`),p}),E=R(()=>{let p=!1;return n.matchOfferType==M.Opportunity&&(p=n.matchOffer.companyInterest==ie.REJECTED||n.matchOffer.companyInterest==ie.REJECTED_BY_QA||n.matchOffer.userInterest==re.NOT_INTERESTED||n.matchOffer.archived==!0),n.matchOfferType==M.Interview&&(p=!1),n.matchOfferType==M.Archived&&(p=n.matchOffer.archived==!0),p}),F=R(()=>`opacity: ${n.matchOffer.percentage}%`);R(()=>{var y,$,w,S;let p="";return n.matchOffer.meta.locations&&((y=n.matchOffer.meta.locations)==null?void 0:y.length)!=0?(p=(S=(w=($=n.matchOffer)==null?void 0:$.meta)==null?void 0:w.locations)==null?void 0:S.map(C=>C.name).join(", "),p):"N/A"});function le(){s("click",n.matchOffer)}function ce(){if(h){let p={id:g.value,type:"favorites",value:n.matchOffer._id};i.commit("auth/update_user_data_array",p),i.dispatch("talent/update_profile_favorites",p)}else be.push({name:"TalentLogin"})}function Se(){if(h){let p={id:g.value,type:"archived_offers",value:n.matchOffer._id};i.commit("auth/update_user_data_array",p),i.dispatch("talent/update_profile_archived_offers",p)}else be.push({name:"TalentLogin"})}return(p,y)=>{var S,C,B,J,Y,P,z,G,H,ue,de,pe,he;const $=j("font-awesome-icon"),w=D("t");return o(),c("div",{class:te(["card match-card shadow-sm w-100 clickable p-0",{disabled:_(E)}]),onClick:y[4]||(y[4]=N=>le()),id:`match-offer-card-${n.matchOffer._id}`},[t("div",Fe,[t("div",{class:"col-3 border-end p-4 card-image",style:ge({"background-image":((B=(C=(S=e.matchOffer)==null?void 0:S.company)==null?void 0:C.meta)==null?void 0:B.picture)?`url(${(P=(Y=(J=e.matchOffer)==null?void 0:J.company)==null?void 0:Y.meta)==null?void 0:P.picture})`:""})},null,4),t("div",Ue,[t("div",Be,[t("div",Ve,[t("h4",Me,[I(b(e.matchOffer.title)+" ",1),t("span",Je,b(((G=(z=e.matchOffer.company)==null?void 0:z.meta)==null?void 0:G.flex_score)?e.matchOffer.company.meta.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",Ye,[t("span",Pe,b(_(Re)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?L("",!0):(o(),c("div",ze,[r(t("div",{class:"fav_icon",onClick:y[0]||(y[0]=ee(N=>ce(),["stop"]))},He,512),[[O,_(m).some(N=>N==n.matchOffer._id)]]),r(t("div",{class:"fav_icon",onClick:y[1]||(y[1]=ee(N=>ce(),["stop"]))},We,512),[[O,!_(m).some(N=>N==n.matchOffer._id)]])])),e.is_archived_view?(o(),c("div",Xe,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":p.$t("widget.matchOfferCard.unarchive"),onClick:y[2]||(y[2]=ee(N=>Se(),["stop"]))},[v($,{icon:"undo",class:"mr-1 text-primary"})],8,Ze)])):L("",!0)])])]),t("div",et,[t("p",tt,[I(b((ue=(H=e.matchOffer)==null?void 0:H.company)==null?void 0:ue.name)+" ",1),st])]),t("div",nt,[t("div",it,[t("ul",{class:"icon-list mt-0",onClick:y[3]||(y[3]=ee(()=>{},["stop"]))},[((de=e.matchOffer.meta)==null?void 0:de.location)?(o(),c("li",lt,[v($,{icon:"map-marker-alt",class:"text-dark-gray"}),t("span",null,b((he=(pe=e.matchOffer.meta)==null?void 0:pe.location)==null?void 0:he.name),1)])):L("",!0),_(u)!=""?(o(),c("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t(`dashboard.opportunities.contractType.${_(u)}`)},[v($,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,b(p.$t(`dashboard.opportunities.contractType.${_(u)}`).split(" ").map(N=>N.charAt(0).toUpperCase()).join("")),1)],8,at)):L("",!0),_(f)!=""?(o(),c("li",ot,[v($,{icon:_(l),class:"text-dark-gray"},null,8,["icon"]),I(" "+b(_(f)),1)])):L("",!0)])]),t("div",rt,[_(a).length>1?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(a).map(N=>p.$t(`searchEngine.filters.remote.${N}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ct)):_(a).length==1?r((o(),c("span",ut,null,512)),[[w,`searchEngine.filters.remote.${_(a)[0]}`]]):L("",!0),_(d).length>1?(o(),c("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(d).map(N=>p.$t(`searchEngine.filters.flexibility.${N}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,dt)):_(d).length==1?r((o(),c("span",pt,null,512)),[[w,`searchEngine.filters.flexibility.${_(d)[0]}`]]):L("",!0),t("div",ht,[r(t("span",ft,null,512),[[w,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t("widget.matchOfferCard.matching-popover"),style:ge(_(F))},[e.user?(o(),c(q,{key:0},[I(b(e.matchOffer.percentage),1)],64)):(o(),c("i",mt)),gt],12,_t)])])])])])],10,Qe)}}}),Q=A({props:{hideBorder:null},setup(e){return(s,n)=>(o(),c("div",{class:te(["py-3 position-relative",{"border-bottom":!e.hideBorder}])},[Ce(s.$slots,"default")],2))}}),bt={class:"mb-2"},vt={class:"fs-16 fw-bold"},$t={class:"py-2 fs-14"},Ot={class:"fs-14"},kt={class:"dropdown-item py-2"},St={class:"dropdown-item py-2"},qt={class:"dropdown-item py-2"},wt={class:"mb-0"},Et=["onClick"],jt=t("i",{class:"fas fa-times ms-1"},null,-1),At=A({emits:["updateApiQuery"],setup(e,{emit:s}){const n=K();let i=W([]);const m="remote";if(n.query.remote){let a=[];typeof n.query.remote=="string"?a.push(n.query.remote):a=n.query.remote,i.splice(0,0,...a)}me(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(l){return new Ie(l)})});const g=async a=>{let l=Object.assign({},n.query);i.indexOf(a)===-1?(i.push(a),l[m]=i.toString()):(i.splice(a,1),i.length==0?delete l[m]:l[m]=i.toString()),d()},h=a=>{let l=Object.assign({},n.query);const u=i.indexOf(a);i.splice(u,1),i.length==0?delete l[m]:l[m]=i.toString(),d()},d=async a=>{s("updateApiQuery",m,i)};return(a,l)=>{const u=D("t");return o(),x(Q,null,{default:k(()=>[t("p",bt,[r(t("span",vt,null,512),[[u,"searchEngine.filters.remote.title"]])]),v(X,null,{dropdown_btn:k(()=>[t("div",$t,[r(t("span",null,null,512),[[u,"searchEngine.filters.select"]])])]),dropdown_li:k(()=>[t("ul",Ot,[t("li",{class:"clickable",onClick:l[0]||(l[0]=f=>g("full_remote"))},[r(t("span",kt,null,512),[[u,"searchEngine.filters.remote.full_remote"]])]),t("li",{class:"clickable",onClick:l[1]||(l[1]=f=>g("hybrid"))},[r(t("span",St,null,512),[[u,"searchEngine.filters.remote.hybrid"]])]),t("li",{class:"clickable",onClick:l[2]||(l[2]=f=>g("nomad"))},[r(t("span",qt,null,512),[[u,"searchEngine.filters.remote.nomad"]])])])]),_:1}),r(t("p",wt,[(o(!0),c(q,null,T(_(i),(f,E)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:E,onClick:F=>h(f)},[I(b(a.$t(`searchEngine.filters.remote.${f}`))+" ",1),jt],8,Et))),128))],512),[[O,_(i).length!=0]])]),_:1})}}}),Lt=A({data(){return{lang:"",search:"",awaitingSearch:!1,results:[],optionsActives:[[]],selectedOptionsActives:[],open:!1}},directives:{clickOutside:De.directive,debounce:Te.exports.getDirective("3")},props:{options:{type:Array,default:[]},values:{type:Array,default:[]},propertyToValidate:{type:String,default:"_id"},propertyName:{type:String,default:"name"},placeholder:{type:String,default:""},requestLevel:{type:Array,default:[]},replaceURL:{type:String,default:":id"},attrToReplaceRequestURL:{type:String,default:"_id"},searchURL:{type:String,default:"/locations/searchLocation/"},allItems:{type:Array,default:[]},allItemsSelectable:{type:Boolean,default:!1},saveObject:{type:Boolean,default:!1},closeOnSaveSearched:{type:Boolean,default:!1}},watch:{options:function(e){this.optionsActives[0]=e}},computed:ae(V({},se("auth",["userData"])),{itemsList(){return this.optionsActives[this.level-1]},level(){return this.optionsActives.length},selectedOptionActive(){return this.level<=1?{}:this.selectedOptionsActives[this.level-2]}}),mounted(){this.lang=this.userData.language?this.userData.language:"en",Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),e=>new $e(e)),this.optionsActives[0]=this.options},methods:{openOptions(){this.open=!0},closeOptions(){this.open=!1},scrollToTop(){Array.prototype.forEach.call(document.querySelectorAll("#searchable-list__content-scroll .simplebar-content-wrapper"),e=>e.scrollTop=0)},validateClassOrder1(e){return this.allItems.includes(e[this.propertyName])||this.allItems.includes(e==null?void 0:e.name_en)||this.allItems.includes(e==null?void 0:e._id)},fetchResults(){this.axios.get(this.searchURL+this.search,{params:{lang:this.lang}}).then(e=>{this.results=(e==null?void 0:e.data)?e.data:[]}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".searched-scroll"),e=>new $e(e))})},validateSearchedItem(e,s){return this.results.length==1?this.values[this.values.length-1].includes(e[this.propertyToValidate].toString()):this.values[s].includes(e[this.propertyToValidate].toString())},closeSearchedList(){this.search="",this.results=[]},async clickItem(e){if(this.requestLevel.length>this.level-1){if(e.subMenu){const n=e.subMenu;this.optionsActives.push(n)}else{const n=this.requestLevel[this.level-1].replace(this.replaceURL,e[this.attrToReplaceRequestURL]);await this.axios.get(n,{params:{lang:this.lang}}).then(i=>{const m=i.data;this.optionsActives.push(m)})}let s=Object.assign({},e);delete s.subMenu,this.selectedOptionsActives.push(s),this.scrollToTop()}else this.saveData(e)},returnTitleName(e){return this.level<=1?this.returnNameItem(e):this.returnNameItem(this.selectedOptionActive)},returnNameItem(e){let s="";return e&&(e.hasOwnProperty(this.propertyName)?s=e[this.propertyName]:(e==null?void 0:e.name_fr)&&this.lang=="fr"?s=e.name_fr:(e==null?void 0:e.name_en)&&this.lang=="en"?s=e.name_en:(e==null?void 0:e.name_es)&&this.lang=="es"&&(s=e.name_es)),s},returnLevel(){this.optionsActives.pop(),this.selectedOptionsActives.pop()},saveData(e){let s=this.selectedOptionsActives;s.push(e),this.saveObject&&(s=e),this.$emit("selectOption",s)},saveSearched(e,s){this.closeOnSaveSearched&&this.closeSearchedList(),this.$emit("selectSearchedOption",e,s)}}}),Ct={class:"searchable-list position-relative"},Dt=["placeholder"],Tt={class:"position-absolute w-100 bg-white",style:{"z-index":"1"}},Nt={key:0,class:"list-group searched-scroll",style:{height:"250px",overflow:"auto"}},Rt=["onClick"],It={class:"ms-2 me-auto"},xt=t("i",{class:"far fa-square"},null,-1),Qt=[xt],Ft=t("i",{class:"fas fa-check-square"},null,-1),Ut=[Ft],Bt=["id"],Vt=t("span",{class:"ps-3 pe-2"},[t("i",{class:"far fa-angle-left"})],-1),Mt={class:"ms-2 me-auto"},Jt={key:0,class:"order-12 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable"},Yt=t("i",{class:"far fa-angle-left"},null,-1),Pt=[Yt],zt=["onClick"],Gt={class:"ms-2 me-auto"},Ht=t("i",{class:"far fa-square"},null,-1),Kt=[Ht],Wt=t("i",{class:"fas fa-check-square"},null,-1),Xt=[Wt],Zt=["onClick"],es={class:"ms-2 me-auto"},ts=t("i",{class:"far fa-square"},null,-1),ss=[ts],ns=t("i",{class:"fas fa-check-square"},null,-1),is=[ns],ls=t("i",{class:"far fa-angle-right"},null,-1),as=[ls];function os(e,s,n,i,m,g){const h=D("debounce"),d=D("click-outside");return r((o(),c("div",Ct,[r(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>e.search=a),class:"form-control searchable-list__input mb-1",placeholder:e.placeholder,onFocus:s[1]||(s[1]=(...a)=>e.openOptions&&e.openOptions(...a))},null,40,Dt),[[oe,e.search],[h,e.fetchResults,"1s"]]),r(t("div",Tt,[e.results.length!=0?(o(),c("ul",Nt,[(o(!0),c(q,null,T(e.results,(a,l)=>(o(),c(q,{key:"results-"+l},[(o(!0),c(q,null,T(a,(u,f)=>r((o(),c("li",{class:"list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",key:`results-index${l}${f}`,onClick:E=>e.saveSearched(u,l)},[t("div",It,b(e.returnNameItem(u)),1),r(t("span",null,Qt,512),[[O,!e.validateSearchedItem(u,l)]]),r(t("span",null,Ut,512),[[O,e.validateSearchedItem(u,l)]])],8,Rt)),[[O,a]])),128))],64))),128))])):L("",!0)],512),[[O,e.results.length!=0],[d,e.closeSearchedList]]),t("div",{class:te(["searchable-list__options",{open:e.open}])},[t("ul",{id:e.open?"searchable-list__content-scroll":"",class:"list-group custom-scroll",style:{height:"100%",overflow:"auto"}},[e.open?(o(),c(q,{key:0},[e.allItems.length==0&&e.level>1?(o(),c("li",{key:0,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:s[2]||(s[2]=(...a)=>e.returnLevel&&e.returnLevel(...a))},[Vt,t("div",Mt,b(e.returnNameItem(e.selectedOptionsActives[e.level-2])),1)])):L("",!0),(o(!0),c(q,null,T(e.itemsList,(a,l)=>(o(),c(q,{key:"list-"+l},[a&&e.validateClassOrder1(a)?(o(),c("li",Jt,[e.level>1?(o(),c("span",{key:0,class:"ps-3 pe-2",onClick:s[3]||(s[3]=(...u)=>e.returnLevel&&e.returnLevel(...u))},Pt)):L("",!0),t("div",{class:"d-flex flex-grow-1",onClick:u=>e.saveData(a)},[t("div",Gt,b(e.returnTitleName(a)),1),r(t("span",null,Kt,512),[[O,e.allItemsSelectable&&!e.values[e.level-1].includes(a[e.propertyToValidate].toString())]]),r(t("span",null,Xt,512),[[O,e.allItemsSelectable&&e.values[e.level-1].includes(a[e.propertyToValidate].toString())]])],8,zt)])):a&&!e.validateClassOrder1(a)?(o(),c("li",{key:1,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:u=>e.clickItem(a)},[t("div",es,b(e.returnNameItem(a)),1),r(t("span",null,ss,512),[[O,e.requestLevel.length==e.level-1&&!e.values[e.level-1].includes(a[e.propertyToValidate].toString())]]),r(t("span",null,is,512),[[O,e.requestLevel.length==e.level-1&&e.values[e.level-1].includes(a[e.propertyToValidate].toString())]]),r(t("span",null,as,512),[[O,e.requestLevel.length!=e.level-1]])],8,Zt)):L("",!0)],64))),128))],64)):L("",!0)],8,Bt)],2)],512)),[[d,e.closeOptions]])}var Z=U(Lt,[["render",os]]);const rs=A({components:{FilterLayout:Q,SearchableList:Z},data(){return{options:[],filtersNames:[],filters:[]}},created(){if(this.axios.get("/locations/getContinents").then(e=>{this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>{let s=[].concat(e.data.contients,e.data.countries,e.data.regions,e.data.cities);this.filtersNames=s})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.filters.indexOf(e._id.toString());n===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.filtersNames.push(e)):(this.filters.splice(n,1),this.filtersNames=this.filtersNames.filter(i=>i._id!=e._id&&i.property_name!=e.property_name),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){const s=e.pop();this.filter(s)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)}}}),cs={class:"mb-2"},us={class:"fs-16 fw-bold"},ds={class:"mb-0"},ps=["onClick"],hs=t("i",{class:"fas fa-times ms-1"},null,-1);function fs(e,s,n,i,m,g){const h=j("SearchableList"),d=j("FilterLayout"),a=D("t");return o(),x(d,null,{default:k(()=>[t("p",cs,[r(t("span",us,null,512),[[a,"searchEngine.filters.location.title"]])]),v(h,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",ds,[(o(!0),c(q,null,T(e.filtersNames,(l,u)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+u,onClick:f=>e.removeFilter(l)},[I(b(l.name)+" ",1),hs],8,ps))),128))],512),[[O,e.filtersNames.length!=0]])]),_:1})}var _s=U(rs,[["render",fs]]);const ms=A({components:{FilterLayout:Q,SearchableList:Z},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"job_reference",filterObjs:[],job_reference:[],lang:"fr",activeDevfilter:!1}},watch:{clear:function(){this.clear&&(this.filterObjs=[],this.job_reference=[],this.$emit("clearLock"),this.$emit("activeDevelopment",!1))}},mounted(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(s){return new xe(s)})},async created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query.job_reference){let s=[];typeof this.$route.query.job_reference=="string"?s.push(this.$route.query.job_reference):s=this.$route.query.job_reference,this.job_reference=this.job_reference.concat(s)}this.job_reference.length>0&&await this.check_filter_obj(),this.filterObjs.length>0&&(this.filterObjs.some(s=>s.job_reference_sub_category=="62312eb71cccbfccd84b3ced")||this.filterObjs.some(s=>s.name_en=="Development"))&&(this.activeDevfilter=!0,this.$emit("activeDevelopment",this.activeDevfilter))},methods:{async filter(e){var m;let s="";this.job_reference.indexOf(e._id.toString())!==-1&&(s="delete"),console.log(e);let n=Object.assign({},this.$route.query);e.name_en.includes("All categories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All subcategories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All references")&&s!="delete"&&(this.job_reference=[],this.filterObjs=[]),(e._id=="62312eb71cccbfccd84b3ced"||((m=e.job_reference_sub_category)==null?void 0:m.name_en)=="Development")&&(this.activeDevfilter=!0);const i=this.job_reference.indexOf(e._id.toString());i===-1?(this.job_reference.push(e._id.toString()),n[this.filter_name]=this.job_reference.toString(),this.check_filter_obj()):(this.job_reference.splice(i,1),this.check_filter_obj(),this.job_reference.length==0?delete n[this.filter_name]:n[this.filter_name]=this.job_reference.toString()),this.$emit("activeDevelopment",this.activeDevfilter),this.$emit("updateApiQuery",this.filter_name,this.job_reference)},clear_oid(e){let s="";return e.includes("0-")&&(s=e.split("-")[1]),s},async check_filter_obj(){await this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(e=>{this.filterObjs=e.data})},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),gs={class:"mb-2"},ys={class:"fs-16 fw-bold"},bs={class:"mb-0"},vs=["onClick"],$s=["data-bs-content"],Os={key:1},ks=t("i",{class:"fas fa-times ms-1"},null,-1);function Ss(e,s,n,i,m,g){const h=j("SearchableList"),d=j("FilterLayout"),a=D("t");return o(),x(d,null,{default:k(()=>[t("p",gs,[r(t("span",ys,null,512),[[a,"searchEngine.filters.job_refence.title"]])]),v(h,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItems:["All categories","All subcategories","All references"],allItemsSelectable:!0,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",bs,[(o(!0),c(q,null,T(e.filterObjs,l=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+l._id,onClick:u=>e.filter(l)},[e.show_item(e.lang,l).length>10?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-placement":"bottom","data-bs-content":e.show_item(e.lang,l)},b(e.show_item(e.lang,l).substr(0,10))+"... ",9,$s)):(o(),c("span",Os,b(e.show_item(e.lang,l)),1)),ks],8,vs))),128))],512),[[O,e.filterObjs.length!=0]])]),_:1})}var qs=U(ms,[["render",Ss]]);const ws=A({components:{FilterLayout:Q,SearchableList:Z},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr"}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.industries.indexOf(e._id.toString());n===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(n,1),this.industries_objs=this.industries_objs.filter(i=>i._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),Es={class:"mb-2"},js={class:"fs-16 fw-bold"},As={class:"mb-0"},Ls=["onClick"],Cs=t("i",{class:"fas fa-times ms-1"},null,-1);function Ds(e,s,n,i,m,g){const h=j("SearchableList"),d=j("FilterLayout"),a=D("t");return o(),x(d,null,{default:k(()=>[t("p",Es,[r(t("span",js,null,512),[[a,"searchEngine.filters.industries.title"]])]),v(h,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),r(t("p",As,[(o(!0),c(q,null,T(e.industries_objs,l=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_industry-"+l._id,onClick:u=>e.filter(l)},[r(t("span",null,b(l.name_fr),513),[[O,e.lang=="fr"]]),r(t("span",null,b(l.name_en),513),[[O,e.lang=="en"]]),r(t("span",null,b(l.name_es),513),[[O,e.lang=="es"]]),Cs],8,Ls))),128))],512),[[O,e.industries_objs.length!=0]])]),_:1})}var Ts=U(ws,[["render",Ds]]);const Ns=A({components:{FilterLayout:Q,SearchableList:Z},data(){return{options:[],filter_name:"companies",companies_objs:[],companies:[]}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query.companies)if(typeof this.$route.query.companies=="string"){const e=[];e.push(this.$route.query.companies),this.companies=e}else this.companies=this.$route.query.companies;this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.companies.indexOf(e._id.toString());n===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(n,1),this.companies_objs=this.companies_objs.filter(i=>i._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)}}}),Rs={class:"mb-2"},Is={class:"fs-16 fw-bold"},xs={class:"mb-0"},Qs=["onClick"],Fs=t("i",{class:"fas fa-times ms-1"},null,-1);function Us(e,s,n,i,m,g){const h=j("SearchableList"),d=j("FilterLayout"),a=D("t");return o(),x(d,null,{default:k(()=>[t("p",Rs,[r(t("span",Is,null,512),[[a,"searchEngine.filters.company.title"]])]),v(h,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,searchURL:"/company/searchCompanies/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",xs,[(o(!0),c(q,null,T(e.companies_objs,l=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+l._id,onClick:u=>e.filter(l)},[I(b(l.name)+" ",1),Fs],8,Qs))),128))],512),[[O,e.companies_objs.length!=0]])]),_:1})}var Bs=U(Ns,[["render",Us]]);const Vs={class:"mb-2"},Ms={class:"fs-16 fw-bold"},Js={class:"py-2 fs-14"},Ys={class:"fs-14"},Ps=["onClick"],zs={class:"dropdown-item py-2"},Gs={class:"mb-0"},Hs=["onClick"],Ks=I(),Ws=t("i",{class:"fas fa-times ms-1"},null,-1),Xs=A({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const n=K();let i=W([]);const m=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],g="contract";if(n.query.contract){let l=[];typeof n.query.contract=="string"?l.push(n.query.contract):l=n.query.contract,i.splice(0,0,...l)}const h=async l=>{let u=Object.assign({},n.query);const f=i.indexOf(l);f===-1?(i.push(l),u[g]=i.toString()):(i.splice(f,1),i.length==0?delete u[g]:u[g]=i.toString()),a()},d=l=>{let u=Object.assign({},n.query);const f=i.indexOf(l);i.splice(f,1),i.length==0?delete u[g]:u[g]=i.toString(),a()},a=async l=>{s("updateApiQuery",g,i)};return(l,u)=>{const f=D("t");return o(),x(Q,{id:"filter-contrat"},{default:k(()=>[t("p",Vs,[r(t("span",Ms,null,512),[[f,"searchEngine.filters.contract.title"]])]),v(X,null,{dropdown_btn:k(()=>[t("div",Js,[r(t("span",null,null,512),[[f,"searchEngine.filters.select"]])])]),dropdown_li:k(()=>[t("ul",Ys,[(o(),c(q,null,T(m,E=>t("li",{class:"clickable",onClick:F=>h(E)},[r(t("span",zs,null,512),[[f,`searchEngine.filters.contract.${E}`]])],8,Ps)),64))])]),_:1}),r(t("p",Gs,[(o(!0),c(q,null,T(_(i),(E,F)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:F,onClick:le=>d(E)},[r(t("span",null,null,512),[[f,`searchEngine.filters.contract.${E}`]]),Ks,Ws],8,Hs))),128))],512),[[O,_(i).length!=0]])]),_:1})}}}),Zs={class:"mb-2"},en={class:"fs-16 fw-bold"},tn={class:"custom-scroll",style:{"max-height":"205px"}},sn={class:"form-check mt-2 d-flex fs-14"},nn=["checked","id","value","onClick"],ln=["for"],an=A({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const n=K();let i=W([]);const m="flexibility";if(n.query.flexibility){let h=[];typeof n.query.flexibility=="string"?h.push(n.query.flexibility):h=n.query.flexibility,i.splice(0,0,...h)}const g=async h=>{let d=Object.assign({},n.query);const a=i.indexOf(h);a===-1?(i.push(h),d[m]=i.toString()):(i.splice(a,1),i.length==0?delete d[m]:d[m]=i.toString()),s("updateApiQuery",m,i)};return(h,d)=>{const a=D("t");return o(),x(Q,null,{default:k(()=>[t("p",Zs,[r(t("span",en,null,512),[[a,"searchEngine.filters.flexibility.title"]]),t("span",{class:te(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",_(i).length>9?"px-1":"px-2"])},b(_(i).length),3)]),t("div",tn,[(o(!0),c(q,null,T(Object.keys(_(ke)),l=>(o(),c("div",sn,[t("input",{class:"form-check-input",checked:_(i).includes(l),type:"checkbox",id:l,value:l,onClick:u=>g(l)},null,8,nn),r(t("label",{class:"form-check-label",for:l},null,8,ln),[[a,`searchEngine.filters.flexibility.${l}`]])]))),256))])]),_:1})}}}),on={class:"mb-2"},rn={class:"fs-16 fw-bold"},cn={class:"py-2 fs-14"},un={class:"fs-14"},dn=["onClick"],pn={class:"dropdown-item"},hn={class:"mb-0"},fn=["onClick"],_n=I(),mn=t("i",{class:"fas fa-times ms-1"},null,-1),gn=A({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const n=K();let i=W([]);const m=["internships","entry_level","junior","mid_level","senior","expert"],g="experience";if(n.query.experience){let l=[];typeof n.query.experience=="string"?l.push(n.query.experience):l=n.query.experience,i.splice(0,0,...l)}const h=async l=>{let u=Object.assign({},n.query);const f=i.indexOf(l);f===-1?(i.push(l),u[g]=i.toString()):(i.splice(f,1),i.length==0?delete u[g]:u[g]=i.toString()),a()},d=l=>{let u=Object.assign({},n.query);const f=i.indexOf(l);i.splice(f,1),i.length==0?delete u[g]:u[g]=i.toString(),a()},a=async l=>{s("updateApiQuery",g,i)};return(l,u)=>{const f=D("t");return o(),x(Q,null,{default:k(()=>[t("p",on,[r(t("span",rn,null,512),[[f,"searchEngine.filters.experience.title"]])]),v(X,null,{dropdown_btn:k(()=>[t("div",cn,[r(t("span",null,null,512),[[f,"searchEngine.filters.select"]])])]),dropdown_li:k(()=>[t("ul",un,[(o(),c(q,null,T(m,E=>t("li",{class:"clickable",onClick:F=>h(E)},[r(t("span",pn,null,512),[[f,`searchEngine.filters.experience.${E}`]])],8,dn)),64))])]),_:1}),r(t("p",hn,[(o(!0),c(q,null,T(_(i),(E,F)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:F,onClick:le=>d(E)},[r(t("span",null,null,512),[[f,`searchEngine.filters.experience.${E}`]]),_n,mn],8,fn))),128))],512),[[O,_(i).length!=0]])]),_:1})}}}),yn=A({components:{FilterLayout:Q,SearchableList:Z},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const n=this.languages.indexOf(e._id.toString());n===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(n,1),this.filter_objs=this.filter_objs.filter(i=>i._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),bn={class:"mb-2"},vn={class:"fs-16 fw-bold"},$n={class:"mb-0"},On=["onClick"],kn=t("i",{class:"fas fa-times ms-1"},null,-1);function Sn(e,s,n,i,m,g){const h=j("SearchableList"),d=j("FilterLayout"),a=D("t");return o(),x(d,null,{default:k(()=>[t("p",bn,[r(t("span",vn,null,512),[[a,"searchEngine.filters.languages.title"]])]),v(h,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.languages],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",$n,[(o(!0),c(q,null,T(e.filter_objs,l=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+l._id,onClick:u=>e.filter(l)},[r(t("span",null,b(l.name_fr),513),[[O,e.lang=="fr"]]),r(t("span",null,b(l.name_en),513),[[O,e.lang=="en"]]),r(t("span",null,b(l.name_es),513),[[O,e.lang=="es"]]),kn],8,On))),128))],512),[[O,e.filter_objs.length!=0]])]),_:1})}var qn=U(yn,[["render",Sn]]);const wn={class:"mb-2"},En={class:"fs-16 fw-bold"},jn={class:"py-2 fs-14"},An={class:"fs-14"},Ln=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),Cn=[Ln],Dn=t("span",{class:"dropdown-item"},"USD ($)",-1),Tn=[Dn],Nn={class:"input-group my-2 position-relative"},Rn=["placeholder"],In={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},xn={class:"my-1"},Qn={class:"input-group mb-1 position-relative"},Fn=["min","placeholder"],Un={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Bn=A({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const n=K();let i=W({currency:"Euro",salary_min:null,salary_max:null});const m=R(()=>i.currency=="Euro"?"\u20AC":"$");n.query.currency&&(i.currency=n.query.currency.toString()),n.query.salary_min&&(i.salary_min=n.query.salary_min.toString()),n.query.salary_max&&(i.salary_max=n.query.salary_max.toString());const g=d=>{i.currency=d,h("currency")},h=async d=>{let a=Object.assign({},n.query);!i[d]||i[d].length==0?delete a[d]:a[d]=i[d],d!="currency"&&s("updateApiQuery","currency",i.currency),s("updateApiQuery",d,i[d])};return(d,a)=>{const l=D("t");return o(),x(Q,{hideBorder:!0},{default:k(()=>[t("p",wn,[r(t("span",En,null,512),[[l,"searchEngine.filters.salary.title"]])]),v(X,null,{dropdown_btn:k(()=>[t("div",jn,[t("span",null,b(_(i).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)])]),dropdown_li:k(()=>[t("ul",An,[t("li",{class:"clickable",onClick:a[0]||(a[0]=u=>g("EUR"))},Cn),t("li",{class:"clickable",onClick:a[1]||(a[1]=u=>g("USD"))},Tn)])]),_:1}),t("div",Nn,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":a[2]||(a[2]=u=>_(i).salary_min=u),onBlur:a[3]||(a[3]=u=>h("salary_min")),placeholder:d.$t("searchEngine.filters.salary.min")},null,40,Rn),[[oe,_(i).salary_min]]),t("span",In,b(_(m)),1)]),r(t("p",xn,null,512),[[l,"searchEngine.filters.salary.to"]]),t("div",Qn,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":a[4]||(a[4]=u=>_(i).salary_max=u),min:_(i).salary_min?_(i).salary_min:"1000",onBlur:a[5]||(a[5]=u=>h("salary_max")),placeholder:d.$t("searchEngine.filters.salary.max")},null,40,Fn),[[oe,_(i).salary_max]]),t("span",Un,b(_(m)),1)])]),_:1})}}});const Vn={id:"search-engine__filters",class:"bg-white p-3 card"},Mn={class:"filters__header border-bottom"},Jn={class:"mb-2"},Yn={class:"fs-16 fw-bold ff-nexa"},Pn={class:"text-center filters__btn-filter px-4"},zn={key:0,class:"btn btn-primary w-100 py-2"},Gn=t("span",null," 4 204 ",-1),Hn={key:1,class:"btn btn-primary w-100 py-2"},Kn=A({emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const n=window.localStorage.getItem("accessToken"),i=(g,h)=>{s("updateApiQuery",g,h)},m=()=>{s("clearApiQuery")};return(g,h)=>{const d=j("i18n-t"),a=D("t");return o(),c("div",Vn,[t("div",Mn,[t("p",Jn,[r(t("span",Yn,null,512),[[a,"searchEngine.filters.title"]]),r(t("span",{class:"fs-12 float-end clickable",onClick:m},null,512),[[a,"searchEngine.filters.erase"]])])]),v(At,{onUpdateApiQuery:i}),v(_s,{onUpdateApiQuery:i}),v(qs,{onUpdateApiQuery:i}),v(Ts,{onUpdateApiQuery:i}),v(Bs,{onUpdateApiQuery:i}),v(Xs,{onUpdateApiQuery:i}),v(an,{onUpdateApiQuery:i}),v(gn,{onUpdateApiQuery:i}),v(qn,{onUpdateApiQuery:i}),v(Bn,{onUpdateApiQuery:i}),t("div",Pn,[_(n)?r((o(),c("button",Hn,null,512)),[[a,"searchEngine.filters.save_filters"]]):(o(),c("button",zn,[v(d,{keypath:"searchEngine.filters.filter"},{cant:k(()=>[Gn]),_:1})]))])])}}});const Wn=A({name:"SearchEngine",components:{MatchOfferCard:yt,Filters:Kn,DropdownVanilla:X},props:{filters:{type:Object,required:!1}},setup(){function e(s){let n=s;return function(i,m){clearTimeout(n),n=setTimeout(()=>{i()},m||500)}}return{debounce:e(null)}},data(){return{matchOfferType:M.Opportunity,joboffers:[],query_api:{sort:"Date"},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!0,page:1,loading:!0,loading_more:!1,countResult:0}},computed:V(V({},se("auth",["userData","accessToken"])),se("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},async created(){this.setLayout("BaseLayout"),await this.setquery()},mounted(){},methods:ae(V({},ye(["setLayout"])),{sort(e){this.query_api.sort=e,this.can_scroll&&(this.can_scroll=!1,this.loading=!0,this.update_query_api("sort",e))},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s,this.loading_more||(this.loading=!0,this.query_api.page=1,this.page=1)},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://jobgether-filter-dev.azurewebsites.net",params:this.query_api}).then(e=>{this.joboffers=e.data.data,this.countResult=e.data.total}).finally(()=>{this.loading=!1,this.loading_more=!1,this.can_scroll=!0;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",params:{id:e._id}})},update_url_query(e){this.$router.push({query:e}).catch(s=>{s.name!=="NavigationDuplicated"&&console.log(s)})},clear_api_query(){this.query_api={sort:"Date"},this.update_url_query(this.query_api)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}},setquery(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let n=[];Array.isArray(e[s])?n=e[s]:n.push(e[s]),this.query_api[s]=n}}}})}),Xn={class:"container"},Zn={class:"row gx-3"},ei={class:"col-12 col-lg-10 col-xl-9 offset-lg-2 offset-xl-3 ff-nexa"},ti={class:"fw-medium mb-2 ff-nexa-bold"},si={class:"d-flex flex-column flex-lg-row"},ni={class:"flex-grow-1"},ii={class:"mb-1 pt-1"},li={class:"d-flex flex-row-reverse"},ai={class:"row"},oi={for:"sort",class:"col col-form-label p-0 pt-1"},ri={class:"col px-0 position-relative"},ci={class:"pt-1"},ui={class:"text-primary"},di={class:""},pi={class:"dropdown-item"},hi={class:"dropdown-item"},fi={class:"row gx-3 flex-column-reverse flex-lg-row"},_i={class:"col-10 col-md-6 col-lg-3 offset-1 offset-md-3 offset-lg-0 my-2"},mi={class:"col-12 col-lg-9"},gi={key:0,class:"d-flex flex-column"},yi={key:1,class:"col-12 col-lg-12 d-flex justify-content-center align-items-center"},bi=t("div",{class:"spinner-border",role:"status"},null,-1),vi=[bi],$i={key:1,class:"text-center mt-5 fw-medium"},Oi={key:1,class:"col-12 col-lg-9 d-flex justify-content-center align-items-center"},ki=t("div",{class:"spinner-border",role:"status"},null,-1),Si=[ki];function qi(e,s,n,i,m,g){const h=j("i18n-t"),d=j("DropdownVanilla"),a=j("Filters"),l=j("MatchOfferCard"),u=D("t");return o(),c("div",Xn,[t("div",Zn,[t("div",ei,[t("p",ti,[v(h,{keypath:"searchEngine.cantJobs"},{cant:k(()=>[t("span",null,b(e.countResult),1)]),_:1})]),t("div",si,[t("div",ni,[r(t("p",ii,null,512),[[u,"searchEngine.cantJobs_subtitle"]])]),t("div",li,[t("div",ai,[r(t("label",oi,null,512),[[u,"searchEngine.sort"]]),t("div",ri,[v(d,{button_bg_color:"transparent"},{dropdown_btn:k(()=>[t("div",ci,[t("span",ui,b(e.query_api.sort),1)])]),dropdown_li:k(()=>[t("ul",di,[t("li",{class:"clickbale",onClick:s[0]||(s[0]=f=>e.sort("Date"))},[r(t("span",pi,null,512),[[u,"searchEngine.sort_dropdown.date"]])]),t("li",{class:"clickbale",onClick:s[1]||(s[1]=f=>e.sort("Points"))},[r(t("span",hi,null,512),[[u,"searchEngine.sort_dropdown.points"]])])])]),_:1})])])])])])]),t("div",fi,[t("div",_i,[v(a,{onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["onUpdateApiQuery","onClearApiQuery"])]),t("div",mi,[e.loading?L("",!0):(o(),c("div",gi,[e.joboffers.length>0?(o(),c(q,{key:0},[(o(!0),c(q,null,T(e.joboffers,f=>(o(),x(l,{"match-offer":f,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:f._id,onClick:E=>e.openMatch(f)},null,8,["match-offer","match-offer-type","onClick"]))),128)),e.can_scroll?r((o(),c("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[2]||(s[2]=(...f)=>e.show_more&&e.show_more(...f))},null,512)),[[u,"searchEngine.show_more"]]):L("",!0),e.loading_more?(o(),c("div",yi,vi)):L("",!0)],64)):r((o(),c("p",$i,null,512)),[[u,"searchEngine.not_found"]])])),e.loading?(o(),c("div",Oi,Si)):L("",!0)])])])}var wi=U(Wn,[["render",qi]]);const Ei=A({name:"Opportunities",components:{SearchEngine:wi},computed:V({},se("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:V({},ye(["setLayout"]))}),ji={id:"opportunities",class:"my-auto"};function Ai(e,s,n,i,m,g){const h=j("search-engine");return o(),c("div",ji,[v(h)])}var Qi=U(Ei,[["render",Ai]]);export{Qi as default};
