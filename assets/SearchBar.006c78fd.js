import{d as E,as as T,ap as se,ad as k,ae as x,ah as te,ai as O,e as R,o as i,f as d,i as s,h as r,g as M,w as U,t as B,ao as n,ar as z,au as F,n as C,av as J,ab as $,ac as D,q as W,p as L,aw as oe,ax as le,y as G,am as ae}from"./vendor.8ecd296d.js";import{D as ne}from"./bootstrap.esm.f2db94b8.js";import{D as re,S as H}from"./simplebar.da46584e.js";import{_ as ce}from"./index.e77c4b1e.js";const j=w=>(oe("data-v-408f40e8"),w=w(),le(),w),ie={id:"search-bar",class:"w-100 bg-white border-0 p-3 rounded-12 fs-14"},de={class:"row"},_e={class:"col-12 col-lg-11"},ue={class:"row mx-0"},me={class:"col-12 col-md-6 col-lg-4"},pe={class:"fw-medium mb-2"},he={class:"position-relative right-bar"},fe={class:"",style:{"padding-top":"12px","padding-bottom":"12px"}},be={class:"mb-1"},ge=L(),ve=j(()=>s("br",null,null,-1)),we={class:"fs-10"},ye={class:"mb-1"},Se=L(),ke=j(()=>s("br",null,null,-1)),$e={class:"fs-10"},je={class:"mb-1"},xe=L(),Be=j(()=>s("br",null,null,-1)),Ce={class:"fs-10"},De={class:"col-12 col-md-6 col-lg-4"},Le={class:"position-relative"},Ve={class:"fw-medium mb-2"},qe={class:"position-relative right-bar"},Ae=["placeholder","disabled"],Ie={key:0,class:"position-relative"},Ne={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ee=["onClick"],Te={class:"col-12 col-md-6 col-lg-4 offset-md-3 offset-lg-0 mt-md-2 mt-lg-0"},Oe={class:"position-relative"},Re={class:"fw-medium mb-2"},Me=["placeholder"],Ue={key:0,class:"position-relative"},ze={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Fe=["onClick"],Je={class:"col-12 col-md-4 col-lg-1 offset-md-4 offset-lg-0 mt-3 mt-lg-0 px-4 px-md-3 d-flex align-items-end search_button_container"},We={class:"d-lg-none"},Ge=j(()=>s("i",{class:"ms-2 ms-lg-0 fas fa-search fs-20 align-middle"},null,-1)),He=E({setup(w){const S=T();se();const y=k(null),_=k(null);let t=x({remote:"",location:{name:"",model:"",id:""},job_reference:{name:"",id:""}}),b=window.localStorage.getItem("userLang"),u="";b?u=b:(b=navigator.language,b.includes("es")?u="es":b.includes("fr")?u="fr":u="en"),te(()=>{const e=[].slice.call(document.querySelectorAll(".search-bar__dropdown-toggle"));console.log(e),e.map(function(o){return new ne(o)})});const V=O(()=>t.remote=="nomad"&&t.job_reference.id!=""||t.remote!=""&&t.location.id!=""&&t.job_reference.id!=""),K=()=>{var e;t.remote="nomad",t.location.name="",t.location.id="",m.value="Worldwide",_.value&&((e=_.value)==null||e.focus())},q=e=>{var o;t.remote=e,y.value&&((o=y.value)==null||o.focus())};let m=k(""),g=x([]);const P=()=>{const e=`locations/searchLocation/${m.value}`;g.splice(0),m.value.length>2&&G.get(e,{params:{lang:u}}).then(o=>{const a=o.data;g.push(...a)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),o=>new H(o))})},Q=(e,o)=>{var p,l,c,h;let a="";return o==0?a=`${(l=(p=e==null?void 0:e.region)==null?void 0:p.country)==null?void 0:l.name}, ${(c=e==null?void 0:e.region)==null?void 0:c.name}, ${e==null?void 0:e.name}`:o==1?a=`${(h=e==null?void 0:e.country)==null?void 0:h.name}, ${e==null?void 0:e.name}`:a=e==null?void 0:e.name,a},A=()=>{m.value="",g.splice(0)},X=(e,o)=>{var a,p,l,c,h;t.location.name=e.name,t.location.id=e._id,e.region?t.location.name=`${e==null?void 0:e.name}, ${(a=e==null?void 0:e.region)==null?void 0:a.name}, ${(l=(p=e==null?void 0:e.region)==null?void 0:p.country)==null?void 0:l.name}`:e.country?t.location.name=`${(c=e==null?void 0:e.country)==null?void 0:c.name}, ${e==null?void 0:e.name}`:t.location.name=e==null?void 0:e.name,o==0?t.location.model="cities":o==1?t.location.model="regions":o==2?t.location.model="countries":o==3&&(t.location.model="continents"),A(),_.value&&((h=_.value)==null||h.focus())};let f=k(""),v=x([]);const Y=()=>{const e=`job-reference/searchJobreference/${f.value}`;v.splice(0),f.value.length>2&&G.get(e,{params:{lang:u}}).then(o=>{const a=o.data;v.push(...a)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),o=>new H(o))})},I=e=>{let o="";return u=="fr"?o=e.name_fr:u=="es"?o=e.name_es:o=e.name_en,o},N=()=>{f.value="",v.splice(0)},Z=e=>{t.job_reference.name=I(e),t.job_reference.id=e._id,N()},ee=()=>{if(V.value){const e={};t.remote!=""&&(e.remote=t.remote),t.job_reference.id!=""&&(e.job_reference=t.job_reference.id),t.location.id!=""&&t.location.model!=""&&(e[t.location.model]=t.location.id),S.push({name:"TalentOpportunities",query:e})}};return(e,o)=>{const a=R("t"),p=R("debounce");return i(),d("div",ie,[s("div",de,[s("div",_e,[s("div",ue,[s("div",me,[r(s("p",pe,null,512),[[a,"SearchBar.remote.title"]]),s("div",he,[M(re,null,{dropdown_btn:U(()=>[s("div",fe,[s("span",null,B(n(t).remote==""?e.$t("SearchBar.remote.select"):e.$t(`SearchBar.remote.${n(t).remote}_title`)),1)])]),dropdown_li:U(()=>[s("ul",null,[s("li",{class:"my-2 py-2 clickable break-spaces dropdown-item fs-14 rounded",onClick:o[0]||(o[0]=l=>q("full_remote"))},[r(s("span",be,null,512),[[a,"SearchBar.remote.full_remote_title"]]),ge,ve,r(s("span",we,null,512),[[a,"SearchBar.remote.full_remote_sub-title"]])]),s("li",{class:"py-2 mb-2 clickable break-spaces dropdown-item fs-14",onClick:o[1]||(o[1]=l=>q("hybrid"))},[r(s("span",ye,null,512),[[a,"SearchBar.remote.hybrid_title"]]),Se,ke,r(s("span",$e,null,512),[[a,"SearchBar.remote.hybrid_sub-title"]])]),s("li",{class:"mb-2 py-2 clickable break-spaces dropdown-item fs-14",onClick:K},[r(s("span",je,null,512),[[a,"SearchBar.remote.nomad_title"]]),xe,Be,r(s("span",Ce,null,512),[[a,"SearchBar.remote.nomad_sub-title"]])])])]),_:1})])]),s("div",De,[s("div",Le,[r(s("p",Ve,null,512),[[a,"SearchBar.location.title"]]),s("div",qe,[r(s("input",{type:"text",id:"location-search",ref:(l,c)=>{c.location_input=l,y.value=l},"onUpdate:modelValue":o[2]||(o[2]=l=>F(m)?m.value=l:m=l),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(t).location.name==""?e.$t("SearchBar.location.select"):n(t).location.name,disabled:n(t).remote=="nomad"},null,8,Ae),[[z,n(m)],[p,P,"500ms"]])]),s("div",{class:C(["position-absolute custom-scroll w-100",{h_0:n(g).length<=0}])},[n(g).length>0?r((i(),d("div",Ie,[s("ul",Ne,[(i(!0),d($,null,D(n(g),(l,c)=>(i(),d($,null,[(i(!0),d($,null,D(l,h=>(i(),d("li",{class:"clickable break-spaces dropdown-item fs-14",onClick:Ye=>X(h,c)},[s("span",null,B(Q(h,c)),1)],8,Ee))),256))],64))),256))])],512)),[[n(J.exports.directive),A]]):W("",!0)],2)])]),s("div",Te,[s("div",Oe,[r(s("p",Re,null,512),[[a,"SearchBar.job_reference.title"]]),r(s("input",{type:"text",id:"job_reference-search",ref:(l,c)=>{c.job_reference_input=l,_.value=l},"onUpdate:modelValue":o[3]||(o[3]=l=>F(f)?f.value=l:f=l),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(t).job_reference.name==""?e.$t("SearchBar.job_reference.select"):n(t).job_reference.name},null,8,Me),[[z,n(f)],[p,Y,"500ms"]]),s("div",{class:C(["position-absolute custom-scroll w-100",{h_0:n(v).length<=0}])},[n(v).length>0?r((i(),d("div",Ue,[s("ul",ze,[(i(!0),d($,null,D(n(v),l=>(i(),d("li",{class:"fs-14 clickable break-spaces dropdown-item",onClick:c=>Z(l)},[s("span",null,B(I(l)),1)],8,Fe))),256))])],512)),[[n(J.exports.directive),N]]):W("",!0)],2)])])])]),s("div",Je,[s("button",{type:"button",class:C(["btn text-white bg-green-app w-100 px-2 py-2 search-bar-button",{disabled:!n(V)}]),style:{height:"47px"},onClick:ee},[r(s("span",We,null,512),[[a,"SearchBar.search_button"]]),Ge],2)])])])}}});var Ke=ce(He,[["__scopeId","data-v-408f40e8"]]);const Pe={id:"searh_bar_page",class:"container"},Qe={class:"row mt-15"},Xe={class:"col-12 col-md-12 col-xl-10 offset-xl-1"},os=E({setup(w){const S=ae(),y=T();S.commit("setLayout","BaseLayout");const _=O(()=>S.state.auth.userData);return _.value.filters&&_.value.filters.length>0&&y.push({name:"TalentOpportunities"}),(t,b)=>(i(),d("div",Pe,[s("div",Qe,[s("div",Xe,[M(Ke)])])]))}});export{os as default};
