var je=Object.defineProperty,Ae=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var re=(e,s,l)=>s in e?je(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,V=(e,s)=>{for(var l in s||(s={}))Le.call(s,l)&&re(e,l,s[l]);if(_e)for(var l of _e(s))Ce.call(s,l)&&re(e,l,s[l]);return e},ce=(e,s)=>Ae(e,Ee(s));var U=(e,s,l)=>(re(e,typeof s!="symbol"?s+"":s,l),l);import{d as T,au as Te,ai as M,ah as me,r as E,e as D,o as n,f as i,i as t,aw as ge,p as R,t as _,ao as g,h as r,l as b,aa as ae,q,g as k,ab as O,n as ee,j as De,an as te,ae as J,s as F,w as j,ac as I,v as Ie,ax as ye,m as se,ap as oe,am as ne,k as be}from"./vendor.e144c39d.js";import{b as ve}from"./bootstrap.bundle.min.6348bf06.js";import{h as Re}from"./moment.08a7f518.js";import{g as $e}from"./utils.1fce72cf.js";import{D as Ne,P as Me,M as de}from"./bootstrap.esm.f2db94b8.js";import{D as le,S as ke}from"./DropdownVanilla.47e4c29f.js";import{_ as B}from"./index.c06a3c76.js";import{A as we}from"./alertify.fb318b4d.js";var z;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(z||(z={}));var Oe;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(Oe||(Oe={}));var ie;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ie||(ie={}));var ue;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(ue||(ue={}));const Se={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Fe=["id"],Qe={class:"row mx-0"},Ue={class:"col-9 pt-3 pb-2"},Be={class:"d-flex px-2 flex-column-reverse flex-md-row"},Ve={class:"flex-grow-1 pb-2"},Pe={class:"mb-1 fs-20 d-flex flex-column flex-md-row align-items-start"},xe={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 bg-light-yellow rounded-8 fs-14"},Je={class:"d-flex align-items-center mb-0 justify-content-between"},ze={class:"fs-12"},Ye={key:0,class:"fav_group_icon"},Ge=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),He=[Ge],Ke=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),We=[Ke],Xe={key:1,class:"archived_group_icon"},Ze=["data-bs-content"],et={class:"px-2"},tt={class:"mb-1 fw-light"},st={key:0,class:"bg-blue-app-20 me-2 ms-3 px-2 py-1 rounded-8 fs-14 fw-500"},lt=t("em",{class:"fas fa-star"},null,-1),at=R(" Top flex "),ot=[lt,at],nt={class:"d-flex px-2 mb-1 flex-column flex-md-row"},it={class:"flex-grow-1 offer-content pt-1 mb-2 mb-md-0"},rt={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},ct=["data-bs-content"],dt={key:1,class:"ms-1"},ut=["data-bs-content"],ht={key:2},pt={class:"mt-n1 d-flex align-items-center"},ft=["data-bs-content"],_t={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},mt=["data-bs-content"],gt={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},yt={class:"matching d-none"},bt={class:"me-2 matching__text d-none d-sm-inline"},vt=["data-bs-content"],$t={key:1,class:"fas fa-lock"},kt=R(" % "),wt=T({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo","modal"],setup(e,{emit:s}){const l=e,o=Te();let h=M(()=>o.state.auth.userData.favorites?o.state.auth.userData.favorites:[]),y=M(()=>window.localStorage.userLang=="en"?"name_en":window.localStorage.userLang=="es"?"name_es":window.localStorage.userLang=="fr"?"name_fr":"name_en");M(()=>o.state.auth.userData._id),M(()=>o.state.auth.accessToken!=null),M(()=>{var m,v,w,A,S,C;return((w=(v=(m=l.matchOffer)==null?void 0:m.company)==null?void 0:v.meta)==null?void 0:w.flex_score)?(C=(S=(A=l.matchOffer)==null?void 0:A.company)==null?void 0:S.meta)==null?void 0:C.flex_score:0});let u=M(()=>{var v;let m=[];if(((v=l.query_api)==null?void 0:v.flexibility)&&(m=l.query_api.flexibility.filter(w=>{var A,S;return(S=(A=l.matchOffer)==null?void 0:A.company)==null?void 0:S.meta[w]})),m.length==0){let w=Object.keys(Se).filter(A=>{var S,C;return(C=(S=l.matchOffer)==null?void 0:S.company)==null?void 0:C.meta[A]});if(w.length>0){let A=$e(0,w.length-1);m=[w[A-1]]}}return m}),f=M(()=>{var v,w,A;let m=[];if(((v=l.query_api)==null?void 0:v.remote)&&(m=l.query_api.remote.filter(S=>{var C;return(C=l.matchOffer)==null?void 0:C.meta.remote.some(x=>x==S)})),m.length==0){let S=(A=(w=l.matchOffer)==null?void 0:w.meta)==null?void 0:A.remote;if(S.length>0){let C=$e(0,S.length-1);m=[S[C-1]]}}return m});me(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${l.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(v=>new ve.exports.Popover(v));let m=document.getElementById("myPopover");m==null||m.addEventListener("hidden.bs.popover",function(){})});const c=M(()=>{var v,w;let m="";switch((w=(v=l.matchOffer)==null?void 0:v.meta)==null?void 0:w.currency){case"EUR":m="euro-sign";break;case"USD":m="dollar-sign";break;default:m="question"}return m}),a=M(()=>{var m,v,w;return((v=(m=l.matchOffer)==null?void 0:m.meta)==null?void 0:v.contractType)?(w=l.matchOffer.meta)==null?void 0:w.contractType:""}),d=M(()=>{var v,w,A,S,C,x,G,H,K,W,X,Z;let m="";return((w=(v=l.matchOffer)==null?void 0:v.meta)==null?void 0:w.salary)&&((C=(S=(A=l.matchOffer)==null?void 0:A.meta)==null?void 0:S.salary)==null?void 0:C.min)&&((H=(G=(x=l.matchOffer)==null?void 0:x.meta)==null?void 0:G.salary)==null?void 0:H.max)&&(m=`${((W=(K=l.matchOffer.meta)==null?void 0:K.salary)==null?void 0:W.min)/1e3} - ${((Z=(X=l.matchOffer.meta)==null?void 0:X.salary)==null?void 0:Z.max)/1e3}K`),m}),p=M(()=>{let m=!1;return l.matchOfferType==z.Opportunity&&(m=l.matchOffer.companyInterest==ie.REJECTED||l.matchOffer.companyInterest==ie.REJECTED_BY_QA||l.matchOffer.userInterest==ue.NOT_INTERESTED||l.matchOffer.archived==!0),l.matchOfferType==z.Interview&&(m=!1),l.matchOfferType==z.Archived&&(m=l.matchOffer.archived==!0),m}),$=M(()=>`opacity: ${l.matchOffer.percentage}%`);M(()=>{var v,w,A,S;let m="";return l.matchOffer.meta.locations&&((v=l.matchOffer.meta.locations)==null?void 0:v.length)!=0?(m=(S=(A=(w=l.matchOffer)==null?void 0:w.meta)==null?void 0:A.locations)==null?void 0:S.map(C=>C.name).join(", "),m):"N/A"});function N(){s("click",l.matchOffer)}function P(m){s("modal",m)}function qe(m){s("modal",m)}return(m,v)=>{var S,C,x,G,H,K,W,X,Z,he,pe,fe;const w=E("font-awesome-icon"),A=D("t");return n(),i("div",{class:ee(["card match-card shadow-sm w-100 clickable p-0",{disabled:g(p)}]),onClick:v[4]||(v[4]=L=>N()),id:`match-offer-card-${l.matchOffer._id}`},[t("div",Qe,[t("div",{class:"col-3 border-end p-4 card-image",style:ge({"background-image":((x=(C=(S=e.matchOffer)==null?void 0:S.company)==null?void 0:C.meta)==null?void 0:x.picture)?`url(${(K=(H=(G=e.matchOffer)==null?void 0:G.company)==null?void 0:H.meta)==null?void 0:K.picture})`:""})},null,4),t("div",Ue,[t("div",Be,[t("div",Ve,[t("h4",Pe,[R(_(e.matchOffer.title)+" ",1),t("span",xe,_(((X=(W=e.matchOffer.company)==null?void 0:W.meta)==null?void 0:X.flex_score)?(he=(Z=e.matchOffer.company)==null?void 0:Z.meta)==null?void 0:he.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",Je,[t("span",ze,_(g(Re)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?q("",!0):(n(),i("div",Ye,[r(t("div",{class:"fav_icon",onClick:v[0]||(v[0]=ae(L=>P("LOGIN"),["stop"]))},He,512),[[b,g(h).some(L=>L==l.matchOffer._id)]]),r(t("div",{class:"fav_icon",onClick:v[1]||(v[1]=ae(L=>P("LOGIN"),["stop"]))},We,512),[[b,!g(h).some(L=>L==l.matchOffer._id)]])])),e.is_archived_view?(n(),i("div",Xe,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":m.$t("widget.matchOfferCard.unarchive"),onClick:v[2]||(v[2]=ae(L=>qe("LOGIN"),["stop"]))},[k(w,{icon:"undo",class:"mr-1 text-primary"})],8,Ze)])):q("",!0)])])]),t("div",et,[t("p",tt,[R(_((fe=(pe=e.matchOffer)==null?void 0:pe.company)==null?void 0:fe.name)+" ",1),!!e.matchOffer&&!!e.matchOffer.company&&!!e.matchOffer.company.meta&&!!e.matchOffer.company.meta.flex_score&&e.matchOffer.company.meta.flex_score>=90?(n(),i("span",st,ot)):q("",!0)])]),t("div",nt,[t("div",it,[t("ul",{class:"icon-list mt-0",onClick:v[3]||(v[3]=ae(()=>{},["stop"]))},[e.matchOffer.meta.locations&&e.matchOffer.meta.locations.length>0?(n(),i("li",rt,[k(w,{icon:"map-marker-alt",class:"text-dark-gray"}),e.matchOffer.meta.locations.length>3?(n(),i("span",{key:0,class:"ms-1","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.matchOffer.meta.locations.map(L=>L.name).join(", ")},_(e.matchOffer.meta.locations.map(L=>L.name).slice(0,3).join(", "))+"... ",9,ct)):(n(),i("span",dt,_(e.matchOffer.meta.locations.map(L=>L.name).join(", ")),1))])):q("",!0),g(a)!=""?(n(),i("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":m.$t(`dashboard.opportunities.contractType.${g(a)}`)},[k(w,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,_(m.$t(`dashboard.opportunities.contractType.${g(a)}`).split(" ").map(L=>L.charAt(0).toUpperCase()).join("")),1)],8,ut)):q("",!0),g(d)!=""?(n(),i("li",ht,[k(w,{icon:g(c),class:"text-dark-gray"},null,8,["icon"]),R(" "+_(g(d)),1)])):q("",!0)])]),t("div",pt,[g(f).length>1?(n(),i("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":g(f).map(L=>m.$t(`searchEngine.filters.remote.${L}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ft)):g(f).length==1?r((n(),i("span",_t,null,512)),[[A,`searchEngine.filters.remote.${g(f)[0]}`]]):q("",!0),g(u).length>1?(n(),i("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":g(u).map(L=>m.$t(`searchEngine.filters.flexibility.${L}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,mt)):e.matchOffer.meta.benefitPersonal?(n(),i("span",gt,_(e.matchOffer.meta.benefitPersonal[0][g(y)]),1)):q("",!0),t("div",yt,[r(t("span",bt,null,512),[[A,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":m.$t("widget.matchOfferCard.matching-popover"),style:ge(g($))},[e.user?(n(),i(O,{key:0},[R(_(e.matchOffer.percentage),1)],64)):(n(),i("i",$t)),kt],12,vt)])])])])])],10,Fe)}}}),Q=T({props:{hideBorder:null},setup(e){return(s,l)=>(n(),i("div",{class:ee(["py-3 position-relative",{"border-bottom":!e.hideBorder}])},[De(s.$slots,"default")],2))}}),Ot={class:"mb-2"},St={class:"fs-16 fw-bold"},qt={class:"py-2 fs-14"},jt={class:"fs-14"},At={class:"dropdown-item py-2"},Et={class:"dropdown-item py-2"},Lt={class:"dropdown-item py-2"},Ct={class:"mb-0 d-flex flex-wrap"},Tt=["onClick"],Dt=t("i",{class:"fas fa-times ms-1"},null,-1),It=T({props:{initial_query:null,clear:null},emits:["updateApiQuery","clearLock"],setup(e,{emit:s}){const l=e,o=te();let h=J([]);const y="remote";if(o.query.remote){let a=[];typeof o.query.remote=="string"?a.push(o.query.remote):a=o.query.remote,h.splice(0,0,...a)}l.initial_query.remote=h,me(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(d){return new Ne(d)})});const u=async a=>{let d=Object.assign({},o.query);h.indexOf(a)===-1?(h.push(a),d[y]=h.toString()):(h.splice(a,1),h.length==0?delete d[y]:d[y]=h.toString()),c()},f=a=>{let d=Object.assign({},o.query);const p=h.indexOf(a);h.splice(p,1),h.length==0?delete d[y]:d[y]=h.toString(),c()},c=async a=>{s("updateApiQuery",y,h)};return(a,d)=>{const p=D("t");return n(),F(Q,null,{default:j(()=>[t("p",Ot,[r(t("span",St,null,512),[[p,"searchEngine.filters.remote.title"]])]),k(le,null,{dropdown_btn:j(()=>[t("div",qt,[r(t("span",null,null,512),[[p,"searchEngine.filters.select"]])])]),dropdown_li:j(()=>[t("ul",jt,[t("li",{class:"clickable",onClick:d[0]||(d[0]=$=>u("full_remote"))},[r(t("span",At,null,512),[[p,"searchEngine.filters.remote.full_remote"]])]),t("li",{class:"clickable",onClick:d[1]||(d[1]=$=>u("hybrid"))},[r(t("span",Et,null,512),[[p,"searchEngine.filters.remote.hybrid"]])]),t("li",{class:"clickable",onClick:d[2]||(d[2]=$=>u("nomad"))},[r(t("span",Lt,null,512),[[p,"searchEngine.filters.remote.nomad"]])])])]),_:1}),r(t("p",Ct,[(n(!0),i(O,null,I(g(h),($,N)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:N,onClick:P=>f($)},[R(_(a.$t(`searchEngine.filters.remote.${$}`))+" ",1),Dt],8,Tt))),128))],512),[[b,g(h).length!=0]])]),_:1})}}}),Rt=T({data(){return{lang:"",search:"",awaitingSearch:!1,results:[],optionsActives:[[]],selectedOptionsActives:[],open:!1}},directives:{clickOutside:Ie.directive,debounce:ye.exports.getDirective("3")},props:{options:{type:Array,default:[]},values:{type:Array,default:[]},propertyToValidate:{type:String,default:"_id"},propertyName:{type:String,default:"name"},placeholder:{type:String,default:""},requestLevel:{type:Array,default:[]},replaceURL:{type:String,default:":id"},attrToReplaceRequestURL:{type:String,default:"_id"},searchURL:{type:String,default:"/locations/searchLocation/"},allItems:{type:Array,default:[]},allItemsSelectable:{type:Boolean,default:!1},saveObject:{type:Boolean,default:!1},closeOnSaveSearched:{type:Boolean,default:!1}},watch:{options:function(e){this.optionsActives[0]=e}},computed:ce(V({},se("auth",["userData"])),{itemsList(){return this.optionsActives[this.level-1]},level(){return this.optionsActives.length},selectedOptionActive(){return this.level<=1?{}:this.selectedOptionsActives[this.level-2]}}),mounted(){let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),s=>new ke(s)),this.optionsActives[0]=this.options},methods:{openOptions(){this.open=!0},closeOptions(){this.open=!1},scrollToTop(){Array.prototype.forEach.call(document.querySelectorAll("#searchable-list__content-scroll .simplebar-content-wrapper"),e=>e.scrollTop=0)},validateClassOrder1(e){return this.allItems.includes(e[this.propertyName])||this.allItems.includes(e==null?void 0:e.name_en)||this.allItems.includes(e==null?void 0:e._id)},fetchResults(){this.axios.get(this.searchURL+this.search,{params:{lang:this.lang}}).then(e=>{this.results=(e==null?void 0:e.data)?e.data:[]}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".searched-scroll"),e=>new ke(e))})},validateSearchedItem(e,s){if(this.results.length==1)return this.values[this.values.length-1].includes(e[this.propertyToValidate].toString());if(this.values[s])return this.values[s].includes(e[this.propertyToValidate].toString())},closeSearchedList(){this.search="",this.results=[]},async clickItem(e){if(this.requestLevel.length>this.level-1){if(e.subMenu){const l=e.subMenu;this.optionsActives.push(l)}else{const l=this.requestLevel[this.level-1].replace(this.replaceURL,e[this.attrToReplaceRequestURL]);await this.axios.get(l,{params:{lang:this.lang}}).then(o=>{const h=o.data;this.optionsActives.push(h)})}let s=Object.assign({},e);delete s.subMenu,this.selectedOptionsActives.push(s),this.scrollToTop()}else this.saveData(e)},returnTitleName(e){return this.level<=1?this.returnNameItem(e):this.returnNameItem(this.selectedOptionActive)},returnNameItem(e){let s="";return e&&(e.hasOwnProperty(this.propertyName)?s=e[this.propertyName]:(e==null?void 0:e.name_fr)&&this.lang=="fr"?s=e.name_fr:(e==null?void 0:e.name_en)&&this.lang=="en"?s=e.name_en:(e==null?void 0:e.name_es)&&this.lang=="es"&&(s=e.name_es)),s},returnLevel(){this.optionsActives.pop(),this.selectedOptionsActives.pop()},saveData(e){let s=this.selectedOptionsActives;s.push(e),this.saveObject&&(s=e),this.$emit("selectOption",s)},saveSearched(e,s){this.closeOnSaveSearched&&this.closeSearchedList(),this.$emit("selectSearchedOption",e,s)}}}),Nt={class:"searchable-list position-relative"},Mt=["placeholder"],Ft={class:"position-absolute w-100 bg-white",style:{"z-index":"1"}},Qt={key:0,class:"list-group searched-scroll",style:{height:"250px",overflow:"auto"}},Ut=["onClick"],Bt={class:"ms-2 me-auto"},Vt=t("i",{class:"far fa-square"},null,-1),Pt=[Vt],xt=t("i",{class:"fas fa-check-square"},null,-1),Jt=[xt],zt=["id"],Yt=t("span",{class:"ps-3 pe-2"},[t("i",{class:"far fa-angle-left"})],-1),Gt={class:"ms-2 me-auto"},Ht={key:0,class:"order-12 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable"},Kt=t("i",{class:"far fa-angle-left"},null,-1),Wt=[Kt],Xt=["onClick"],Zt={class:"ms-2 me-auto"},es=t("i",{class:"far fa-square"},null,-1),ts=[es],ss=t("i",{class:"fas fa-check-square"},null,-1),ls=[ss],as=["onClick"],os={class:"ms-2 me-auto"},ns=t("i",{class:"far fa-square"},null,-1),is=[ns],rs=t("i",{class:"fas fa-check-square"},null,-1),cs=[rs],ds=t("i",{class:"far fa-angle-right"},null,-1),us=[ds];function hs(e,s,l,o,h,y){const u=D("debounce"),f=D("click-outside");return r((n(),i("div",Nt,[r(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=c=>e.search=c),class:"form-control searchable-list__input mb-1",placeholder:e.placeholder,onFocus:s[1]||(s[1]=(...c)=>e.openOptions&&e.openOptions(...c))},null,40,Mt),[[oe,e.search],[u,e.fetchResults,"1s"]]),r(t("div",Ft,[e.results.length!=0?(n(),i("ul",Qt,[(n(!0),i(O,null,I(e.results,(c,a)=>r((n(),i("li",{key:"results-"+a,class:"list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:d=>e.saveSearched(c,a)},[t("div",Bt,_(e.returnNameItem(c)),1),r(t("span",null,Pt,512),[[b,!e.validateSearchedItem(c,a)]]),r(t("span",null,Jt,512),[[b,e.validateSearchedItem(c,a)]])],8,Ut)),[[b,c]])),128))])):q("",!0)],512),[[b,e.results.length!=0],[f,e.closeSearchedList]]),t("div",{class:ee(["searchable-list__options",{open:e.open}])},[t("ul",{id:e.open?"searchable-list__content-scroll":"",class:"list-group custom-scroll",style:{height:"100%",overflow:"auto"}},[e.open?(n(),i(O,{key:0},[e.allItems.length==0&&e.level>1?(n(),i("li",{key:0,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:s[2]||(s[2]=(...c)=>e.returnLevel&&e.returnLevel(...c))},[Yt,t("div",Gt,_(e.returnNameItem(e.selectedOptionsActives[e.level-2])),1)])):q("",!0),(n(!0),i(O,null,I(e.itemsList,(c,a)=>(n(),i(O,{key:"list-"+a},[c&&e.validateClassOrder1(c)?(n(),i("li",Ht,[e.level>1?(n(),i("span",{key:0,class:"ps-3 pe-2",onClick:s[3]||(s[3]=(...d)=>e.returnLevel&&e.returnLevel(...d))},Wt)):q("",!0),t("div",{class:"d-flex flex-grow-1",onClick:d=>e.saveData(c)},[t("div",Zt,_(e.returnTitleName(c)),1),r(t("span",null,ts,512),[[b,e.allItemsSelectable&&!e.values[e.level-1].includes(c[e.propertyToValidate].toString())]]),r(t("span",null,ls,512),[[b,e.allItemsSelectable&&e.values[e.level-1].includes(c[e.propertyToValidate].toString())]])],8,Xt)])):c&&!e.validateClassOrder1(c)?(n(),i("li",{key:1,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:d=>e.clickItem(c)},[t("div",os,_(e.returnNameItem(c)),1),r(t("span",null,is,512),[[b,e.requestLevel.length==e.level-1&&!e.values[e.level-1].includes(c[e.propertyToValidate].toString())]]),r(t("span",null,cs,512),[[b,e.requestLevel.length==e.level-1&&e.values[e.level-1].includes(c[e.propertyToValidate].toString())]]),r(t("span",null,us,512),[[b,e.requestLevel.length!=e.level-1]])],8,as)):q("",!0)],64))),128))],64)):q("",!0)],8,zt)],2)],512)),[[f,e.closeOptions]])}var Y=B(Rt,[["render",hs]]);class ps{constructor(){U(this,"remote");U(this,"job_reference");U(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const fs=T({components:{FilterLayout:Q,SearchableList:Y},props:{initial_query:{type:ps,required:!0},clear:{type:Boolean,default:!1}},data(){return{options:[],filtersNames:[],filters:[]}},watch:{clear:function(){this.clear&&(this.filtersNames=[],this.filters=[],this.$emit("clearLock"))}},async created(){if(this.axios.get("/locations/getContinents").then(e=>{let s=e.data.findIndex(o=>o.name=="Other Europe");e.data[s].name="Europe (Other)";let l=e.data[s];e.data.splice(s,1),e.data.splice(5,0,l),this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&await this.check_filter_obj().then(e=>{this.initial_query.locations=[...e.data.contients,...e.data.countries,...e.data.regions,...e.data.cities]})},mounted(){Array.from(document.querySelectorAll('#list-locations-continued [data-bs-toggle="popover"]')).forEach(s=>new ve.exports.Popover(s));let e=document.getElementById("myPopover");e==null||e.addEventListener("hidden.bs.popover",function(){})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.filters.indexOf(e._id.toString());console.log(e),l===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.check_filter_obj()):(this.filters.splice(l,1),this.check_filter_obj(),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){console.log(e),this.filter(e)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)},async check_filter_obj(){return this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>(this.filtersNames=[...e.data.contients,...e.data.countries,...e.data.regions,...e.data.cities],e))},getNameLocationAll(e){let s="";return e.name.includes("All countries")||e.name.includes("All location_regions")||e.name.includes("All location_cities")?e.continent?s=e.continent.name:e.country?s=e.country.name:e.region&&(s=e.region.name):s=e.name,s}}}),_s={class:"mb-2"},ms={class:"fs-16 fw-bold"},gs={key:0,class:"mb-0"},ys=["onClick"],bs=t("i",{class:"fas fa-times ms-1"},null,-1),vs=["data-bs-content"],$s={class:"fw-bold"},ks={key:1,class:"mb-0"},ws=["onClick"],Os=t("i",{class:"fas fa-times ms-1"},null,-1);function Ss(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",_s,[r(t("span",ms,null,512),[[c,"searchEngine.filters.location.title"]])]),k(u,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,propertyToValidate:"_id",saveObject:!0,values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filtersNames.length>5?r((n(),i("p",gs,[(n(!0),i(O,null,I(e.filtersNames.slice(0,4),(a,d)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+d,onClick:p=>e.removeFilter(a)},[R(_(e.getNameLocationAll(a))+" ",1),bs],8,ys))),128)),t("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.filtersNames.join(","),id:"list-locations-continued"},[t("span",$s,"+"+_(e.filtersNames.length-5),1)],8,vs)],512)),[[b,e.filtersNames.length!=0]]):r((n(),i("p",ks,[(n(!0),i(O,null,I(e.filtersNames,(a,d)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+d,onClick:p=>e.removeFilter(a)},[R(_(e.getNameLocationAll(a))+" ",1),Os],8,ws))),128))],512)),[[b,e.filtersNames.length!=0]])]),_:1})}var qs=B(fs,[["render",Ss]]);class js{constructor(){U(this,"remote");U(this,"job_reference");U(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const As=T({components:{FilterLayout:Q,SearchableList:Y},props:{clear:{type:Boolean,default:!1},initial_query:{type:js,required:!0}},data(){return{options:[],filter_name:"job_reference",filterObjs:[],job_reference:[],lang:"fr",activeDevfilter:!1,popover_selected_id:""}},watch:{clear:function(){this.clear&&(this.filterObjs=[],this.job_reference=[],this.$emit("clearLock"),this.$emit("activeDevelopment",!1))}},mounted(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(s){return new Me(s)})},async created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query.job_reference){let s=[];typeof this.$route.query.job_reference=="string"?s.push(this.$route.query.job_reference):s=this.$route.query.job_reference,this.job_reference=this.job_reference.concat(s)}this.job_reference.length>0&&await this.check_filter_obj(),this.filterObjs.length>0&&(this.filterObjs.some(s=>s.job_reference_sub_category=="62312eb71cccbfccd84b3ced")||this.filterObjs.some(s=>s.name_en=="Development"))&&(this.activeDevfilter=!0,this.$emit("activeDevelopment",this.activeDevfilter))},methods:{show_popover(e){this.popover_selected_id=e},hide_popover(){this.popover_selected_id=""},async filter(e){var h;let s="";this.job_reference.indexOf(e._id.toString())!==-1&&(s="delete"),console.log(e);let l=Object.assign({},this.$route.query);e.name_en.includes("All categories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All subcategories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All references")&&s!="delete"&&(this.job_reference=[],this.filterObjs=[]),(e._id=="62312eb71cccbfccd84b3ced"||((h=e.job_reference_sub_category)==null?void 0:h.name_en)=="Development")&&(this.activeDevfilter=!0);const o=this.job_reference.indexOf(e._id.toString());o===-1?(this.job_reference.push(e._id.toString()),l[this.filter_name]=this.job_reference.toString(),this.check_filter_obj()):(this.job_reference.splice(o,1),this.check_filter_obj(),this.job_reference.length==0?delete l[this.filter_name]:l[this.filter_name]=this.job_reference.toString()),this.$emit("activeDevelopment",this.activeDevfilter),this.$emit("updateApiQuery",this.filter_name,this.job_reference)},clear_oid(e){let s="";return e.includes("0-")&&(s=e.split("-")[1]),s},async check_filter_obj(){await this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(e=>{this.filterObjs=e.data,this.initial_query.job_reference=e.data})},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),Es={class:"mb-2"},Ls={class:"fs-16 fw-bold"},Cs={key:0,class:"mb-0 d-flex flex-wrap"},Ts=["onClick","onMouseover"],Ds={key:0},Is={class:"popover-vanilla"},Rs={key:1},Ns=t("em",{class:"fas fa-times ms-1"},null,-1),Ms={class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app fw-bold"},Fs={key:1,class:"mb-0 d-flex flex-wrap"},Qs=["onClick","onMouseover"],Us={key:0},Bs={class:"popover-vanilla second_popover"},Vs={key:1},Ps=t("em",{class:"fas fa-times ms-1"},null,-1);function xs(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",Es,[r(t("span",Ls,null,512),[[c,"searchEngine.filters.job_refence.title"]])]),k(u,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItems:["All categories","All subcategories","All references"],allItemsSelectable:!0,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filterObjs.length>5?r((n(),i("p",Cs,[(n(!0),i(O,null,I(e.filterObjs.slice(0,4),(a,d)=>(n(),i("span",{class:"d-flex justify-content-center badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app position-relative",key:"filter_JR-"+d,onClick:p=>e.filter(a),onMouseover:p=>e.show_popover(a._id),onMouseleave:s[0]||(s[0]=(...p)=>e.hide_popover&&e.hide_popover(...p))},[e.show_item(e.lang,a).length>35?(n(),i("div",Ds,[r(t("div",Is,[t("span",null,_(e.show_item(e.lang,a)),1)],512),[[b,e.popover_selected_id==a._id]]),t("span",null,_(e.show_item(e.lang,a).substr(0,35))+"... ",1)])):(n(),i("div",Rs,[t("span",null,_(e.show_item(e.lang,a)),1)])),Ns],40,Ts))),128)),t("span",Ms,"+"+_(e.filterObjs.length-5),1)],512)),[[b,e.filterObjs.length!=0]]):r((n(),i("p",Fs,[(n(!0),i(O,null,I(e.filterObjs,(a,d)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+d,onClick:p=>e.filter(a),onMouseover:p=>e.show_popover(a._id),onMouseleave:s[1]||(s[1]=(...p)=>e.hide_popover&&e.hide_popover(...p))},[e.show_item(e.lang,a).length>35?(n(),i("div",Us,[r(t("div",Bs,[t("span",null,_(e.show_item(e.lang,a)),1)],512),[[b,e.popover_selected_id==a._id]]),t("span",null,_(e.show_item(e.lang,a).substr(0,35))+"... ",1)])):(n(),i("div",Vs,[t("span",null,_(e.show_item(e.lang,a)),1)])),Ps],40,Qs))),128))],512)),[[b,e.filterObjs.length!=0]])]),_:1})}var Js=B(As,[["render",xs]]);const zs=T({components:{FilterLayout:Q,SearchableList:Y},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr",popover_selected_id:""}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{show_popover(e){this.popover_selected_id=e},hide_popover(){this.popover_selected_id=""},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es},async filter(e){let s=Object.assign({},this.$route.query);const l=this.industries.indexOf(e._id.toString());l===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(l,1),this.industries_objs=this.industries_objs.filter(o=>o._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),Ys={class:"mb-2"},Gs={class:"fs-16 fw-bold"},Hs={class:"mb-0"},Ks=["onClick","onMouseover"],Ws={key:0},Xs={class:"popover-vanilla"},Zs={key:1},el=t("em",{class:"fas fa-times ms-1"},null,-1);function tl(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",Ys,[r(t("span",Gs,null,512),[[c,"searchEngine.filters.industries.title"]])]),k(u,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),r(t("p",Hs,[(n(!0),i(O,null,I(e.industries_objs,a=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app position-relative",key:"filter_industry-"+a._id,onClick:d=>e.filter(a),onMouseover:d=>e.show_popover(a._id),onMouseleave:s[0]||(s[0]=(...d)=>e.hide_popover&&e.hide_popover(...d))},[e.show_item(e.lang,a).length>15?(n(),i("div",Ws,[r(t("div",Xs,[t("span",null,_(e.show_item(e.lang,a)),1)],512),[[b,e.popover_selected_id==a._id]]),t("span",null,_(e.show_item(e.lang,a).substr(0,15))+"... ",1)])):(n(),i("div",Zs,[t("span",null,_(e.show_item(e.lang,a)),1)])),el],40,Ks))),128))],512),[[b,e.industries_objs.length!=0]])]),_:1})}var sl=B(zs,[["render",tl]]);const ll=T({components:{FilterLayout:Q,SearchableList:Y},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"companies",companies_objs:[],companies:[],value_top:!1}},watch:{clear:function(){this.clear&&(this.companies_objs=[],this.companies=[],this.$emit("clearLock"))}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query.companies)if(typeof this.$route.query.companies=="string"){const e=[];e.push(this.$route.query.companies),this.companies=e}else this.companies=this.$route.query.companies;this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},computed:{valueCheck(){let e=!1;return this.$route.query.top_flex&&(e=!0),e}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.companies.indexOf(e._id.toString());l===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(l,1),this.companies_objs=this.companies_objs.filter(o=>o._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)},topFlex(e){this.companies=[],this.companies_objs=[],this.value_top=!e,e?this.$emit("updateApiQuery","top_flex",e):this.$emit("updateApiQuery","top_flex","")}}}),al={class:"mb-2"},ol={class:"fs-16 fw-bold"},nl={class:"mb-0"},il=["onClick"],rl=t("i",{class:"fas fa-times ms-1"},null,-1),cl={class:"form-check mt-2 d-flex"},dl=["checked"],ul=t("label",{class:"form-check-label fs-14 fw-bold",for:"check_top"},[t("em",{class:"fas fa-star me-1"}),R(" Top flex company only")],-1);function hl(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",al,[r(t("span",ol,null,512),[[c,"searchEngine.filters.company.title"]])]),k(u,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,searchURL:"/company/searchCompanies/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",nl,[(n(!0),i(O,null,I(e.companies_objs,a=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+a._id,onClick:d=>e.filter(a)},[R(_(a.name)+" ",1),rl],8,il))),128))],512),[[b,e.companies_objs.length!=0]]),t("div",cl,[t("input",{class:"form-check-input",checked:e.valueCheck,type:"checkbox",id:"check_top",onClick:s[0]||(s[0]=a=>e.topFlex(!e.valueCheck))},null,8,dl),ul])]),_:1})}var pl=B(ll,[["render",hl]]);const fl={class:"mb-2"},_l={class:"fs-16 fw-bold"},ml={class:"py-2 fs-14"},gl={class:"fs-14"},yl=["onClick"],bl={class:"dropdown-item py-2"},vl={class:"mb-0"},$l=["onClick"],kl=R(),wl=t("i",{class:"fas fa-times ms-1"},null,-1),Ol=T({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const l=te();let o=J([]);const h=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],y="contract";if(l.query.contract){let a=[];typeof l.query.contract=="string"?a.push(l.query.contract):a=l.query.contract,o.splice(0,0,...a)}const u=async a=>{let d=Object.assign({},l.query);const p=o.indexOf(a);p===-1?(o.push(a),d[y]=o.toString()):(o.splice(p,1),o.length==0?delete d[y]:d[y]=o.toString()),c()},f=a=>{let d=Object.assign({},l.query);const p=o.indexOf(a);o.splice(p,1),o.length==0?delete d[y]:d[y]=o.toString(),c()},c=async a=>{s("updateApiQuery",y,o)};return(a,d)=>{const p=D("t");return n(),F(Q,{id:"filter-contrat"},{default:j(()=>[t("p",fl,[r(t("span",_l,null,512),[[p,"searchEngine.filters.contract.title"]])]),k(le,null,{dropdown_btn:j(()=>[t("div",ml,[r(t("span",null,null,512),[[p,"searchEngine.filters.select"]])])]),dropdown_li:j(()=>[t("ul",gl,[(n(),i(O,null,I(h,$=>t("li",{class:"clickable",onClick:N=>u($)},[r(t("span",bl,null,512),[[p,`searchEngine.filters.contract.${$}`]])],8,yl)),64))])]),_:1}),r(t("p",vl,[(n(!0),i(O,null,I(g(o),($,N)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:N,onClick:P=>f($)},[r(t("span",null,null,512),[[p,`searchEngine.filters.contract.${$}`]]),kl,wl],8,$l))),128))],512),[[b,g(o).length!=0]])]),_:1})}}}),Sl={class:"mb-2"},ql={class:"fs-16 fw-bold"},jl={class:"custom-scroll",style:{"max-height":"205px"}},Al={class:"form-check mt-2 d-flex fs-14"},El=["checked","id","value","onClick"],Ll=["for"],Cl=T({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const l=te();let o=J([]);const h="flexibility";if(l.query.flexibility){let u=[];typeof l.query.flexibility=="string"?u.push(l.query.flexibility):u=l.query.flexibility,o.splice(0,0,...u)}const y=async u=>{let f=Object.assign({},l.query);const c=o.indexOf(u);c===-1?(o.push(u),f[h]=o.toString()):(o.splice(c,1),o.length==0?delete f[h]:f[h]=o.toString()),s("updateApiQuery",h,o)};return(u,f)=>{const c=D("t");return n(),F(Q,null,{default:j(()=>[t("p",Sl,[r(t("span",ql,null,512),[[c,"searchEngine.filters.flexibility.title"]]),t("span",{class:ee(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",g(o).length>9?"px-1":"px-2"])},_(g(o).length),3)]),t("div",jl,[(n(!0),i(O,null,I(Object.keys(g(Se)),a=>(n(),i("div",Al,[t("input",{class:"form-check-input",checked:g(o).includes(a),type:"checkbox",id:a,value:a,onClick:d=>y(a)},null,8,El),r(t("label",{class:"form-check-label",for:a},null,8,Ll),[[c,`searchEngine.filters.flexibility.${a}`]])]))),256))])]),_:1})}}}),Tl={class:"mb-2"},Dl={class:"fs-16 fw-bold"},Il={class:"py-2 fs-14"},Rl={class:"fs-14"},Nl=["onClick"],Ml={class:"dropdown-item"},Fl={class:"mb-0"},Ql=["onClick"],Ul=R(),Bl=t("i",{class:"fas fa-times ms-1"},null,-1),Vl=T({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const l=te();let o=J([]);const h=["internships","entry_level","junior","mid_level","senior","expert"],y="experience";if(l.query.experience){let a=[];typeof l.query.experience=="string"?a.push(l.query.experience):a=l.query.experience,o.splice(0,0,...a)}const u=async a=>{let d=Object.assign({},l.query);const p=o.indexOf(a);p===-1?(o.push(a),d[y]=o.toString()):(o.splice(p,1),o.length==0?delete d[y]:d[y]=o.toString()),c()},f=a=>{let d=Object.assign({},l.query);const p=o.indexOf(a);o.splice(p,1),o.length==0?delete d[y]:d[y]=o.toString(),c()},c=async a=>{s("updateApiQuery",y,o)};return(a,d)=>{const p=D("t");return n(),F(Q,null,{default:j(()=>[t("p",Tl,[r(t("span",Dl,null,512),[[p,"searchEngine.filters.experience.title"]])]),k(le,null,{dropdown_btn:j(()=>[t("div",Il,[r(t("span",null,null,512),[[p,"searchEngine.filters.select"]])])]),dropdown_li:j(()=>[t("ul",Rl,[(n(),i(O,null,I(h,$=>t("li",{class:"clickable",onClick:N=>u($)},[r(t("span",Ml,null,512),[[p,`searchEngine.filters.experience.${$}`]])],8,Nl)),64))])]),_:1}),r(t("p",Fl,[(n(!0),i(O,null,I(g(o),($,N)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:N,onClick:P=>f($)},[r(t("span",null,null,512),[[p,`searchEngine.filters.experience.${$}`]]),Ul,Bl],8,Ql))),128))],512),[[b,g(o).length!=0]])]),_:1})}}}),Pl=T({components:{FilterLayout:Q,SearchableList:Y},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.languages.indexOf(e._id.toString());l===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(l,1),this.filter_objs=this.filter_objs.filter(o=>o._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),xl={class:"mb-2"},Jl={class:"fs-16 fw-bold"},zl={class:"mb-0"},Yl=["onClick"],Gl=t("i",{class:"fas fa-times ms-1"},null,-1);function Hl(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",xl,[r(t("span",Jl,null,512),[[c,"searchEngine.filters.languages.title"]])]),k(u,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,propertyToValidate:"_id",values:[e.languages],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,searchURL:"/language/searchlanguage/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",zl,[(n(!0),i(O,null,I(e.filter_objs,a=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+a._id,onClick:d=>e.filter(a)},[r(t("span",null,_(a.name_fr),513),[[b,e.lang=="fr"]]),r(t("span",null,_(a.name_en),513),[[b,e.lang=="en"]]),r(t("span",null,_(a.name_es),513),[[b,e.lang=="es"]]),Gl],8,Yl))),128))],512),[[b,e.filter_objs.length!=0]])]),_:1})}var Kl=B(Pl,[["render",Hl]]);const Wl={class:"mb-2"},Xl={class:"fs-16 fw-bold"},Zl={class:"py-2 fs-14"},ea={class:"fs-14"},ta=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),sa=[ta],la=t("span",{class:"dropdown-item"},"USD ($)",-1),aa=[la],oa={class:"input-group my-2 position-relative"},na=["placeholder"],ia={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},ra={class:"my-1"},ca={class:"input-group mb-1 position-relative"},da=["min","placeholder"],ua={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},ha=T({emits:["updateApiQuery"],setup(e,{emit:s}){ne();const l=te();let o=J({currency:"Euro",salary_min:null,salary_max:null});const h=M(()=>o.currency=="Euro"?"\u20AC":"$");l.query.currency&&(o.currency=l.query.currency.toString()),l.query.salary_min&&(o.salary_min=l.query.salary_min.toString()),l.query.salary_max&&(o.salary_max=l.query.salary_max.toString());const y=f=>{o.currency=f,u("currency")},u=async f=>{let c=Object.assign({},l.query);!o[f]||o[f].length==0?delete c[f]:c[f]=o[f],f!="currency"&&s("updateApiQuery","currency",o.currency),s("updateApiQuery",f,o[f])};return(f,c)=>{const a=D("t");return n(),F(Q,{hideBorder:!0},{default:j(()=>[t("p",Wl,[r(t("span",Xl,null,512),[[a,"searchEngine.filters.salary.title"]])]),k(le,null,{dropdown_btn:j(()=>[t("div",Zl,[t("span",null,_(g(o).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)])]),dropdown_li:j(()=>[t("ul",ea,[t("li",{class:"clickable",onClick:c[0]||(c[0]=d=>y("EUR"))},sa),t("li",{class:"clickable",onClick:c[1]||(c[1]=d=>y("USD"))},aa)])]),_:1}),t("div",oa,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":c[2]||(c[2]=d=>g(o).salary_min=d),onBlur:c[3]||(c[3]=d=>u("salary_min")),placeholder:f.$t("searchEngine.filters.salary.min")},null,40,na),[[oe,g(o).salary_min]]),t("span",ia,_(g(h)),1)]),r(t("p",ra,null,512),[[a,"searchEngine.filters.salary.to"]]),t("div",ca,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":c[4]||(c[4]=d=>g(o).salary_max=d),min:g(o).salary_min?g(o).salary_min:"1000",onBlur:c[5]||(c[5]=d=>u("salary_max")),placeholder:f.$t("searchEngine.filters.salary.max")},null,40,da),[[oe,g(o).salary_max]]),t("span",ua,_(g(h)),1)])]),_:1})}}}),pa=T({components:{FilterLayout:Q,SearchableList:Y},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"technology",filter_objs:[],technology:[],lang:"en"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/technology/getTechnologies").then(s=>{this.options=s.data}),this.$route.query.technology)if(typeof this.$route.query.technology=="string"){const s=[];s.push(this.$route.query.technology),this.technology=s}else this.technology=this.$route.query.technology;this.axios.get("/technology/by-ids",{params:{technology:this.technology}}).then(s=>{this.filter_objs=s.data})},watch:{clear:function(){this.clear&&(this.filter_objs=[],this.technology=[],this.$emit("clearLock"))}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.technology.indexOf(e._id.toString());l===-1?(this.technology.push(e._id.toString()),s[this.filter_name]=this.technology.toString(),this.filter_objs.push(e)):(this.technology.splice(l,1),this.filter_objs=this.filter_objs.filter(o=>o._id!=e._id),this.technology.length==0?delete s[this.filter_name]:s[this.filter_name]=this.technology.toString()),this.$emit("updateApiQuery",this.filter_name,this.technology)}}}),fa={class:"mb-2"},_a={class:"fs-16 fw-bold"},ma={key:0,class:"mb-0"},ga=["onClick"],ya=t("i",{class:"fas fa-times ms-1"},null,-1),ba={class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app fw-bold"},va={key:1,class:"mb-0"},$a=["onClick"],ka=t("i",{class:"fas fa-times ms-1"},null,-1);function wa(e,s,l,o,h,y){const u=E("SearchableList"),f=E("FilterLayout"),c=D("t");return n(),F(f,null,{default:j(()=>[t("p",fa,[r(t("span",_a,null,512),[[c,"searchEngine.filters.technology.title"]])]),k(u,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.technology],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filter_objs.length>5?r((n(),i("p",ma,[(n(!0),i(O,null,I(e.filter_objs.slice(0,4),(a,d)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+d,onClick:p=>e.filter(a)},[r(t("span",null,_(a.name_fr),513),[[b,e.lang=="fr"]]),r(t("span",null,_(a.name_en),513),[[b,e.lang=="en"]]),r(t("span",null,_(a.name_es),513),[[b,e.lang=="es"]]),ya],8,ga))),128)),t("span",ba,"+"+_(e.filter_objs.length-5),1)],512)),[[b,e.filter_objs.length!=0]]):r((n(),i("p",va,[(n(!0),i(O,null,I(e.filter_objs,(a,d)=>(n(),i("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+d,onClick:p=>e.filter(a)},[r(t("span",null,_(a.name_fr),513),[[b,e.lang=="fr"]]),r(t("span",null,_(a.name_en),513),[[b,e.lang=="en"]]),r(t("span",null,_(a.name_es),513),[[b,e.lang=="es"]]),ka],8,$a))),128))],512)),[[b,e.filter_objs.length!=0]])]),_:1})}var Oa=B(pa,[["render",wa]]);const Sa={id:"search-engine__filters",class:"bg-white p-3 card"},qa={class:"filters__header border-bottom"},ja={class:"mb-2"},Aa={class:"fs-16 fw-bold ff-nexa"},Ea={class:"text-center filters__btn-filter px-4"},La=T({props:{countResult:null,initial_query:null},emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const l=window.localStorage.getItem("accessToken");let o=J({active:!1}),h=J({active:!1});const y=()=>{console.log("lockClear"),h.active=!1},u=(d,p)=>{s("updateApiQuery",d,p)},f=()=>{window.scrollTo(0,0)},c=d=>{o.active=d},a=()=>{h.active=!0,console.log("clear_filters",h),s("clearApiQuery")};return(d,p)=>{const $=E("i18n-t"),N=D("t");return n(),i("div",Sa,[t("div",qa,[t("p",ja,[r(t("span",Aa,null,512),[[N,"searchEngine.filters.title"]]),r(t("span",{class:"fs-12 float-end clickable",onClick:a},null,512),[[N,"searchEngine.filters.erase"]])])]),k(It,{initial_query:e.initial_query,onUpdateApiQuery:u,clear:g(h).active,onClearLock:y},null,8,["initial_query","clear"]),k(qs,{initial_query:e.initial_query,onUpdateApiQuery:u,clear:g(h).active,onClearLock:y},null,8,["initial_query","clear"]),k(Js,{initial_query:e.initial_query,onUpdateApiQuery:u,onActiveDevelopment:c,clear:g(h).active,onClearLock:y},null,8,["initial_query","clear"]),g(o).active?(n(),F(Oa,{key:0,onUpdateApiQuery:u,clear:g(h).active,onClearLock:y},null,8,["clear"])):q("",!0),k(sl,{onUpdateApiQuery:u,clear:g(h).active},null,8,["clear"]),k(pl,{onUpdateApiQuery:u,clear:g(h).active},null,8,["clear"]),k(Ol,{onUpdateApiQuery:u}),k(Cl,{onUpdateApiQuery:u}),k(Vl,{onUpdateApiQuery:u}),k(Kl,{onUpdateApiQuery:u,clear:g(h).active,onClearLock:y},null,8,["clear"]),k(ha,{onUpdateApiQuery:u}),t("div",Ea,[g(l)?r((n(),i("button",{key:1,class:"btn btn-primary w-100 py-2",onClick:p[1]||(p[1]=P=>f())},null,512)),[[N,"searchEngine.filters.save_filters"]]):(n(),i("button",{key:0,class:"btn btn-primary w-100 py-2",onClick:p[0]||(p[0]=P=>f())},[k($,{keypath:"searchEngine.filters.filter"},{cant:j(()=>[t("span",null,_(e.countResult),1)]),_:1})]))])])}}});class Ca{constructor(){U(this,"remote");U(this,"job_reference");U(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const Ta=T({name:"ModalEmailAlerts",props:{query_alert:{type:Object,required:!0},initial_query:{type:Ca,required:!0}},directives:{debounce:ye.exports.getDirective("3")},data(){return{email:"",valid_email:0,modalAlertShow:!1,error:!1,lang:"fr"}},computed:V({},se("auth",["userData","accessToken"])),created(){let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en")},mounted(){const e=this;this.accessToken||this.delayModalEmailAlert();const s=document.getElementById("saveAlertModal");s&&s.addEventListener("hidden.bs.modal",l=>{e.delayModalEmailAlert()})},methods:{showModal(e){new de(document.getElementById(e)).show()},hideModal(e){new de(document.getElementById(e)).hide()},delayModalEmailAlert(){setTimeout(()=>{!this.accessToken&&this.modalAlertShow==!1&&(this.showModal("saveAlertModal"),this.modalAlertShow=!0)},3e5)},validate_email(){const e=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g;this.email.match(e)?this.valid_email=1:this.valid_email=0},async createFirstAlert(e){let s={alert:this.query_alert,email:e.email,authid:e._id};await this.axios.patch("/alert/create_first_alert",s).then(l=>{console.log(l)}).catch(l=>{we.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},async signupUser(){let e=await this.randomPassword(),s={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",connection:"Username-Password-Authentication",email:this.email,password:e,username:this.email.split("@",8)[0].substring(0,15),blocked:!1,email_verified:!1,phone_verified:!1};this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/signup",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:s}).then(async l=>{let o=this.createFirstAlert(l.data);const h={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",email:l.data.email,connection:"Username-Password-Authentication"};return await this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/change_password",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:h}),o}).catch(()=>{this.error=!0,we.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},randomPassword(){var e=`${Math.random().toString(36).slice(-6)}3$`;return e},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),Da={class:"modal fade",id:"saveAlertModal",tabindex:"-1","aria-labelledby":"saveAlertModalLabel","aria-hidden":"true"},Ia={class:"modal-dialog modal-dialog-centered modal-lg"},Ra={class:"modal-content"},Na={class:"modal-header border-transparent"},Ma={class:"modal-body px-5"},Fa={class:"text-left fw-bold fs-16"},Qa=R(" \xA0 "),Ua={key:0},Ba=R(" - "),Va={key:1},Pa=R(" - "),xa={key:2},Ja={class:"text-left fs-14"},za={class:"w-50"},Ya={class:"form-label text-primary fw-bold"},Ga={class:"input-group mb-3"},Ha={class:"text-left"},Ka={class:"modal-footer fs-12"},Wa={class:"modal fade",id:"alertMerciModal",tabindex:"-1","aria-labelledby":"alertMerciModalLabel","aria-hidden":"true"},Xa={class:"modal-dialog modal-dialog-centered modal-lg"},Za={class:"modal-content"},eo={class:"modal-header"},to={key:0,class:"modal-title fw-bold fs-16"},so={key:1,class:"modal-title fw-bold fs-16"},lo=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ao={class:"modal-body"},oo={key:0,class:"text-left fs-14"},no={key:1,class:"text-left fs-14"},io={key:2,class:"text-left fs-14"};function ro(e,s,l,o,h,y){const u=D("t"),f=D("debounce");return n(),i(O,null,[t("div",Da,[t("div",Ia,[t("div",Ra,[t("div",Na,[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=c=>e.modalAlertShow=!1)})]),t("div",Ma,[t("p",Fa,[r(t("span",null,null,512),[[u,"emailAlert.modalAlert.title"]]),Qa,e.initial_query.job_reference[0]?(n(),i("u",Ua,_(e.show_item(e.lang,e.initial_query.job_reference[0])),1)):q("",!0),Ba,e.initial_query.remote[0]?r((n(),i("u",Va,null,512)),[[u,`SearchBar.remote.${e.initial_query.remote[0]}_title`]]):q("",!0),Pa,e.initial_query.locations[0]?(n(),i("u",xa,_(e.initial_query.locations[0].name),1)):q("",!0)]),r(t("p",Ja,null,512),[[u,"emailAlert.modalAlert.subTitle"]]),t("div",za,[r(t("label",Ya,null,512),[[u,"emailAlert.modalAlert.label"]]),t("div",Ga,[r(t("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=c=>e.email=c),class:"form-control",name:"email"},null,512),[[f,e.validate_email,"700ms"],[oe,e.email]])])]),t("div",Ha,[r(t("button",{class:ee(["btn btn-primary",{disabled:!e.valid_email}]),type:"button","data-bs-toggle":"modal","data-bs-target":"#alertMerciModal",onClick:s[2]||(s[2]=c=>e.signupUser())},null,2),[[u,"emailAlert.modalAlert.send"]])])]),t("div",Ka,[r(t("p",null,null,512),[[u,"emailAlert.modalAlert.footer"]])])])])]),t("div",Wa,[t("div",Xa,[t("div",Za,[t("div",eo,[e.error?r((n(),i("p",so,null,512)),[[u,"emailAlert.error"]]):r((n(),i("p",to,null,512)),[[u,"emailAlert.modalMerci.title"]]),lo]),t("div",ao,[e.error?q("",!0):r((n(),i("p",oo,null,512)),[[u,"emailAlert.modalMerci.text1"]]),e.error?r((n(),i("p",io,null,512)),[[u,"emailAlert.error"]]):r((n(),i("p",no,null,512)),[[u,"emailAlert.modalMerci.text2"]])])])])])],64)}var co=B(Ta,[["render",ro]]);const uo=T({name:"SearchEngine",components:{MatchOfferCard:wt,Filters:La,DropdownVanilla:le,ModalEmailAlerts:co},props:{filters:{type:Object,required:!1}},setup(){function e(s){let l=s;return function(o,h){clearTimeout(l),l=setTimeout(()=>{o()},h||500)}}return{debounce:e(null)}},data(){return{matchOfferType:z.Opportunity,joboffers:[],query_api:{sort:"Date",page:1},initial_query:{remote:[],job_reference:[],locations:[]},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!1,page:1,loading:!0,loading_more:!1,countResult:0,modalType:""}},computed:V(V({},se("auth",["userData","accessToken"])),se("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},async created(){if(this.$route.query.refresh)if(typeof this.$route.fullPath=="string"){let e=this.$route.fullPath.split("&");e.pop(),location.replace(e.join("&"))}else console.log(typeof this.$route.fullPath);this.setLayout("BaseLayout"),await this.setquery()},mounted(){},methods:ce(V({},be(["setLayout"])),{sort(e){this.query_api.sort=e,this.can_scroll&&(this.can_scroll=!1,this.loading=!0,this.update_query_api("sort",e))},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s,this.loading_more||(this.loading=!0,this.query_api.page=1,this.page=1)},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://jobgether-filter-dev.azurewebsites.net",params:this.query_api}).then(e=>{if(this.countResult=e.data.total,e.data.data.length<e.data.total?this.can_scroll=!0:this.can_scroll=!1,this.query_api.top_flex){this.joboffers=e.data.data.filter(l=>{var o,h;return((h=(o=l.company)==null?void 0:o.meta)==null?void 0:h.flex_score)>=90});let s=this.countResult-this.joboffers.length;this.countResult=this.countResult-s}else this.joboffers=e.data.data}).finally(()=>{this.loading=!1,this.loading_more=!1;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",query:{id:e._id}})},update_url_query(e,s=!1){this.$router.push({query:e}).then(()=>{s&&location.replace("https://dev.jobgether.com/search-offers?sort=Date&page=1")}).catch(l=>{l.name!=="NavigationDuplicated"&&console.log(l)})},async clear_api_query(){this.query_api={sort:"Date",page:1},await this.update_url_query(this.query_api,!0)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}},setquery(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let l=[];Array.isArray(e[s])?l=e[s]:l.push(e[s]),this.query_api[s]=l}}},modal_(e){this.modalType=e,new de(document.getElementById("modalLogin")).show()},goLogin(){location.replace("https://dev.jobgether.com/talent/login")}})}),ho={class:"modal fade",id:"modalLogin",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},po={class:"modal-dialog modal-dialog-centered"},fo={class:"modal-content rounded-12 border-0"},_o=t("div",{class:"modal-header"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),mo={key:0,class:"modal-body px-5"},go={class:"fs-20 fw-bold transition text-center mb-4"},yo={class:"px-4 mb-4 pb-3"},bo={class:"me-2"},vo=t("i",{class:"far fa-sign-in-alt fs-20"},null,-1),$o={class:"container"},ko={class:"row gx-3"},wo={class:"col-12 col-lg-10 col-xl-9 offset-lg-2 offset-xl-3 ff-nexa"},Oo={class:"fw-medium mb-2 ff-nexa-bold"},So={class:"d-flex flex-column flex-lg-row"},qo={class:"flex-grow-1"},jo={class:"mb-1 pt-1"},Ao={class:"d-flex flex-row-reverse"},Eo={class:"row mx-0"},Lo={for:"sort",class:"col col-form-label p-0 pt-1"},Co={class:"col px-0 position-relative dropdown_container"},To={class:"pt-1"},Do={class:"text-primary"},Io={class:"text-primary"},Ro={class:""},No={class:"dropdown-item"},Mo={class:"dropdown-item"},Fo={class:"row gx-3 flex-column-reverse flex-lg-row"},Qo={class:"col-10 col-md-6 col-lg-3 offset-1 offset-md-3 offset-lg-0 my-2"},Uo={class:"col-12 col-lg-9"},Bo={key:0,class:"d-flex flex-column"},Vo={key:1,class:"col-12 d-flex justify-content-center align-items-center"},Po=t("div",{class:"spinner-border",role:"status"},null,-1),xo=[Po],Jo={key:1,class:"text-center mt-5 fw-medium"},zo={key:1,class:"col-12 d-flex justify-content-center align-items-center loading_container"},Yo=t("div",{class:"spinner-border",role:"status"},null,-1),Go=[Yo];function Ho(e,s,l,o,h,y){const u=E("i18n-t"),f=E("DropdownVanilla"),c=E("Filters"),a=E("MatchOfferCard"),d=E("ModalEmailAlerts"),p=D("t");return n(),i(O,null,[t("div",ho,[t("div",po,[t("div",fo,[_o,e.modalType=="LOGIN"?(n(),i("div",mo,[r(t("h2",go,null,512),[[p,"auth.redirection"]]),t("p",yo,[t("button",{class:"btn btn-primary w-100 bg-google-color border-0",type:"button",onClick:s[0]||(s[0]=(...$)=>e.goLogin&&e.goLogin(...$))},[r(t("span",bo,null,512),[[p,"auth.login.btn_submit"]]),vo])])])):q("",!0)])])]),t("div",$o,[t("div",ko,[t("div",wo,[t("p",Oo,[k(u,{keypath:"searchEngine.cantJobs"},{cant:j(()=>[t("span",null,_(e.countResult),1)]),_:1})]),t("div",So,[t("div",qo,[r(t("p",jo,null,512),[[p,"searchEngine.cantJobs_subtitle"]])]),t("div",Ao,[t("div",Eo,[r(t("span",Lo,null,512),[[p,"searchEngine.sort"]]),t("div",Co,[k(f,{button_bg_color:"transparent"},{dropdown_btn:j(()=>[t("div",To,[r(t("span",Do,null,512),[[b,e.query_api.sort=="Date"],[p,"searchEngine.sort_dropdown.date"]]),r(t("span",Io,null,512),[[b,e.query_api.sort=="Points"],[p,"searchEngine.sort_dropdown.points"]])])]),dropdown_li:j(()=>[t("ul",Ro,[t("li",{class:"clickbale",onClick:s[1]||(s[1]=$=>e.sort("Date"))},[r(t("span",No,null,512),[[p,"searchEngine.sort_dropdown.date"]])]),t("li",{class:"clickbale",onClick:s[2]||(s[2]=$=>e.sort("Points"))},[r(t("span",Mo,null,512),[[p,"searchEngine.sort_dropdown.points"]])])])]),_:1})])])])])])]),t("div",Fo,[t("div",Qo,[k(c,{initial_query:e.initial_query,onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["initial_query","onUpdateApiQuery","onClearApiQuery"])]),t("div",Uo,[e.loading?q("",!0):(n(),i("div",Bo,[e.joboffers.length>0?(n(),i(O,{key:0},[(n(!0),i(O,null,I(e.joboffers,$=>(n(),F(a,{"match-offer":$,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:$._id,onClick:N=>e.openMatch($),onModal:e.modal_},null,8,["match-offer","match-offer-type","onClick","onModal"]))),128)),e.can_scroll?r((n(),i("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[3]||(s[3]=(...$)=>e.show_more&&e.show_more(...$))},null,512)),[[p,"searchEngine.show_more"]]):q("",!0),e.loading_more?(n(),i("div",Vo,xo)):q("",!0)],64)):r((n(),i("p",Jo,null,512)),[[p,"searchEngine.not_found"]])])),e.loading?(n(),i("div",zo,Go)):q("",!0)])]),k(d,{query_alert:e.query_api,initial_query:e.initial_query},null,8,["query_alert","initial_query"])])],64)}var Ko=B(uo,[["render",Ho]]);const Wo=T({name:"Opportunities",components:{SearchEngine:Ko},computed:V({},se("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:V({},be(["setLayout"]))}),Xo={id:"opportunities",class:"my-auto"};function Zo(e,s,l,o,h,y){const u=E("search-engine");return n(),i("div",Xo,[k(u)])}var dn=B(Wo,[["render",Zo]]);export{dn as default};
