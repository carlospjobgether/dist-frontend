var Oe=Object.defineProperty,qe=Object.defineProperties;var je=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable;var ae=(e,s,l)=>s in e?Oe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,P=(e,s)=>{for(var l in s||(s={}))Ee.call(s,l)&&ae(e,l,s[l]);if(pe)for(var l of pe(s))Se.call(s,l)&&ae(e,l,s[l]);return e},_e=(e,s)=>qe(e,je(s));var Q=(e,s,l)=>(ae(e,typeof s!="symbol"?s+"":s,l),l);import{d as x,ao as Ae,ai as N,ah as me,r as E,e as D,o as a,f as r,i as t,au as ge,p as T,t as y,ap as _,h as o,l as w,aa as se,q as C,g as v,ab as S,n as oe,an as ee,ae as J,s as I,w as q,ac as R,am as le,aw as re,av as Le,m as ie,k as ye}from"./vendor.40f1fa49.js";import{b as be}from"./bootstrap.bundle.min.04417f18.js";import{h as Ce}from"./moment.08a7f518.js";import{g as $e}from"./utils.1fce72cf.js";import{D as xe,P as De,M as ce}from"./bootstrap.esm.f2db94b8.js";import{D as te,_ as F,S as z}from"./SearchableList.534017e6.js";import{_ as U}from"./index.0c3a57c2.js";import{A as ve}from"./alertify.3ff51797.js";var Y;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(Y||(Y={}));var ke;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(ke||(ke={}));var ne;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ne||(ne={}));var de;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(de||(de={}));const we={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Te=["id"],Re={class:"row mx-0"},Me={class:"col-9 pt-3 pb-2"},Ne={class:"d-flex px-2 flex-column-reverse flex-md-row"},Ie={class:"flex-grow-1 pb-2"},Fe={class:"mb-1 fs-20 d-flex flex-column flex-md-row align-items-start"},Qe={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 bg-light-yellow rounded-8 fs-14"},Ue={class:"d-flex align-items-center mb-0 justify-content-between"},Be={class:"fs-12"},Pe={key:0,class:"fav_group_icon"},Je=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),Ve=[Je],ze=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),Ye=[ze],Ge={key:1,class:"archived_group_icon"},He=["data-bs-content"],Ke={class:"px-2"},We={class:"mb-1 fw-light"},Xe={key:0,class:"bg-blue-app-20 me-2 ms-3 px-2 py-1 rounded-8 fs-14 fw-500"},Ze=t("em",{class:"fas fa-star"},null,-1),et=T(" Top flex "),tt=[Ze,et],st={class:"d-flex px-2 mb-1 flex-column flex-md-row"},lt={class:"flex-grow-1 offer-content pt-1 mb-2 mb-md-0"},it={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},nt=["data-bs-content"],at={key:1,class:"ms-1"},ot=["data-bs-content"],rt={key:2},ct={class:"mt-n1 d-flex align-items-center"},dt=["data-bs-content"],ut={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},ft=["data-bs-content"],ht={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},pt={class:"matching d-none"},_t={class:"me-2 matching__text d-none d-sm-inline"},mt=["data-bs-content"],gt={key:1,class:"fas fa-lock"},yt=T(" % "),bt=x({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo","modal"],setup(e,{emit:s}){const l=e,i=Ae();let u=N(()=>i.state.auth.userData.favorites?i.state.auth.userData.favorites:[]);N(()=>window.localStorage.userLang=="en"?"name_en":window.localStorage.userLang=="es"?"name_es":window.localStorage.userLang=="fr"?"name_fr":"name_en"),N(()=>i.state.auth.userData._id),N(()=>i.state.auth.accessToken!=null),N(()=>{var p,b,k,j,O,L;return((k=(b=(p=l.matchOffer)==null?void 0:p.company)==null?void 0:b.meta)==null?void 0:k.flex_score)?(L=(O=(j=l.matchOffer)==null?void 0:j.company)==null?void 0:O.meta)==null?void 0:L.flex_score:0});let g=N(()=>{var b;let p=[];if(((b=l.query_api)==null?void 0:b.flexibility)&&(p=l.query_api.flexibility.filter(k=>{var j,O;return(O=(j=l.matchOffer)==null?void 0:j.company)==null?void 0:O.meta[k]})),p.length==0){let k=Object.keys(we).filter(j=>{var O,L;return(L=(O=l.matchOffer)==null?void 0:O.company)==null?void 0:L.meta[j]});if(k.length>0){let j=$e(0,k.length-1);p=[k[j-1]]}}return p}),d=N(()=>{var b,k,j;let p=[];if(((b=l.query_api)==null?void 0:b.remote)&&(p=l.query_api.remote.filter(O=>{var L;return(L=l.matchOffer)==null?void 0:L.meta.remote.some(B=>B==O)})),p.length==0){let O=(j=(k=l.matchOffer)==null?void 0:k.meta)==null?void 0:j.remote;if(O.length>0){let L=$e(0,O.length-1);p=[O[L-1]]}}return p});me(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${l.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(b=>new be.exports.Popover(b));let p=document.getElementById("myPopover");p==null||p.addEventListener("hidden.bs.popover",function(){})});const m=N(()=>{var b,k;let p="";switch((k=(b=l.matchOffer)==null?void 0:b.meta)==null?void 0:k.currency){case"EUR":p="euro-sign";break;case"USD":p="dollar-sign";break;default:p="question"}return p}),h=N(()=>{var p,b,k;return((b=(p=l.matchOffer)==null?void 0:p.meta)==null?void 0:b.contractType)?(k=l.matchOffer.meta)==null?void 0:k.contractType:""}),n=N(()=>{var b,k,j,O,L,B,G,H,K,W,X,Z;let p="";return((k=(b=l.matchOffer)==null?void 0:b.meta)==null?void 0:k.salary)&&((L=(O=(j=l.matchOffer)==null?void 0:j.meta)==null?void 0:O.salary)==null?void 0:L.min)&&((H=(G=(B=l.matchOffer)==null?void 0:B.meta)==null?void 0:G.salary)==null?void 0:H.max)&&(p=`${((W=(K=l.matchOffer.meta)==null?void 0:K.salary)==null?void 0:W.min)/1e3} - ${((Z=(X=l.matchOffer.meta)==null?void 0:X.salary)==null?void 0:Z.max)/1e3}K`),p}),c=N(()=>{let p=!1;return l.matchOfferType==Y.Opportunity&&(p=l.matchOffer.companyInterest==ne.REJECTED||l.matchOffer.companyInterest==ne.REJECTED_BY_QA||l.matchOffer.userInterest==de.NOT_INTERESTED||l.matchOffer.archived==!0),l.matchOfferType==Y.Interview&&(p=!1),l.matchOfferType==Y.Archived&&(p=l.matchOffer.archived==!0),p}),f=N(()=>`opacity: ${l.matchOffer.percentage}%`);N(()=>{var b,k,j,O;let p="";return l.matchOffer.meta.locations&&((b=l.matchOffer.meta.locations)==null?void 0:b.length)!=0?(p=(O=(j=(k=l.matchOffer)==null?void 0:k.meta)==null?void 0:j.locations)==null?void 0:O.map(L=>L.name).join(", "),p):"N/A"});function $(){s("click",l.matchOffer)}function M(p){s("modal",p)}function V(p){s("modal",p)}return(p,b)=>{var O,L,B,G,H,K,W,X,Z,ue,fe,he;const k=E("font-awesome-icon"),j=D("t");return a(),r("div",{class:oe(["card match-card shadow-sm w-100 clickable p-0",{disabled:_(c)}]),onClick:b[4]||(b[4]=A=>$()),id:`match-offer-card-${l.matchOffer._id}`},[t("div",Re,[t("div",{class:"col-3 border-end p-4 card-image",style:ge({"background-image":((B=(L=(O=e.matchOffer)==null?void 0:O.company)==null?void 0:L.meta)==null?void 0:B.picture)?`url(${(K=(H=(G=e.matchOffer)==null?void 0:G.company)==null?void 0:H.meta)==null?void 0:K.picture})`:""})},null,4),t("div",Me,[t("div",Ne,[t("div",Ie,[t("h4",Fe,[T(y(e.matchOffer.title)+" ",1),t("span",Qe,y(((X=(W=e.matchOffer.company)==null?void 0:W.meta)==null?void 0:X.flex_score)?(ue=(Z=e.matchOffer.company)==null?void 0:Z.meta)==null?void 0:ue.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",Ue,[t("span",Be,y(_(Ce)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?C("",!0):(a(),r("div",Pe,[o(t("div",{class:"fav_icon",onClick:b[0]||(b[0]=se(A=>M("LOGIN"),["stop"]))},Ve,512),[[w,_(u).some(A=>A==l.matchOffer._id)]]),o(t("div",{class:"fav_icon",onClick:b[1]||(b[1]=se(A=>M("LOGIN"),["stop"]))},Ye,512),[[w,!_(u).some(A=>A==l.matchOffer._id)]])])),e.is_archived_view?(a(),r("div",Ge,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":p.$t("widget.matchOfferCard.unarchive"),onClick:b[2]||(b[2]=se(A=>V("LOGIN"),["stop"]))},[v(k,{icon:"undo",class:"mr-1 text-primary"})],8,He)])):C("",!0)])])]),t("div",Ke,[t("p",We,[T(y((he=(fe=e.matchOffer)==null?void 0:fe.company)==null?void 0:he.name)+" ",1),!!e.matchOffer&&!!e.matchOffer.company&&!!e.matchOffer.company.meta&&!!e.matchOffer.company.meta.flex_score&&e.matchOffer.company.meta.flex_score>=90?(a(),r("span",Xe,tt)):C("",!0)])]),t("div",st,[t("div",lt,[t("ul",{class:"icon-list mt-0",onClick:b[3]||(b[3]=se(()=>{},["stop"]))},[e.matchOffer.meta.locations&&e.matchOffer.meta.locations.length>0?(a(),r("li",it,[v(k,{icon:"map-marker-alt",class:"text-dark-gray"}),e.matchOffer.meta.locations.length>3?(a(),r("span",{key:0,class:"ms-1","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.matchOffer.meta.locations.map(A=>A.name).join(", ")},y(e.matchOffer.meta.locations.map(A=>A.name).slice(0,3).join(", "))+"... ",9,nt)):(a(),r("span",at,y(e.matchOffer.meta.locations.map(A=>A.name).join(", ")),1))])):C("",!0),_(h)!=""?(a(),r("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t(`dashboard.opportunities.contractType.${_(h)}`)},[v(k,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,y(p.$t(`dashboard.opportunities.contractType.${_(h)}`).split(" ").map(A=>A.charAt(0).toUpperCase()).join("")),1)],8,ot)):C("",!0),_(n)!=""?(a(),r("li",rt,[v(k,{icon:_(m),class:"text-dark-gray"},null,8,["icon"]),T(" "+y(_(n)),1)])):C("",!0)])]),t("div",ct,[_(d).length>1?(a(),r("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(d).map(A=>p.$t(`searchEngine.filters.remote.${A}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,dt)):_(d).length==1?o((a(),r("span",ut,null,512)),[[j,`searchEngine.filters.remote.${_(d)[0]}`]]):C("",!0),_(g).length>1?(a(),r("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(g).map(A=>p.$t(`searchEngine.filters.flexibility.${A}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ft)):o((a(),r("span",ht,null,512)),[[j,`searchEngine.filters.flexibility.${_(g)[0]}`]]),t("div",pt,[o(t("span",_t,null,512),[[j,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t("widget.matchOfferCard.matching-popover"),style:ge(_(f))},[e.user?(a(),r(S,{key:0},[T(y(e.matchOffer.percentage),1)],64)):(a(),r("i",gt)),yt],12,mt)])])])])])],10,Te)}}}),$t={class:"mb-2"},vt={class:"fs-14 fw-bold"},kt={class:"py-2 fs-14"},wt={class:"fs-14"},Ot={class:"dropdown-item py-2"},qt={class:"dropdown-item py-2"},jt={class:"dropdown-item py-2"},Et={class:"mb-0 d-flex flex-wrap"},St=["onClick"],At=t("i",{class:"fas fa-times ms-1"},null,-1),Lt=x({props:{initial_query:null,clear:null},emits:["updateApiQuery","clearLock"],setup(e,{emit:s}){const l=e,i=ee();let u=J([]);const g="remote";if(i.query.remote){let n=[];typeof i.query.remote=="string"?n.push(i.query.remote):n=i.query.remote,u.splice(0,0,...n)}l.initial_query.remote=u,me(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(c){return new xe(c)})});const d=async n=>{let c=Object.assign({},i.query);u.indexOf(n)===-1?(u.push(n),c[g]=u.toString()):(u.splice(n,1),u.length==0?delete c[g]:c[g]=u.toString()),h()},m=n=>{let c=Object.assign({},i.query);const f=u.indexOf(n);u.splice(f,1),u.length==0?delete c[g]:c[g]=u.toString(),h()},h=async n=>{s("updateApiQuery",g,u)};return(n,c)=>{const f=D("t");return a(),I(F,null,{default:q(()=>[t("p",$t,[o(t("span",vt,null,512),[[f,"searchEngine.filters.remote.title"]])]),v(te,null,{dropdown_btn:q(()=>[t("div",kt,[o(t("span",null,null,512),[[f,"searchEngine.filters.select_remote"]])])]),dropdown_li:q(()=>[t("ul",wt,[t("li",{class:"clickable",onClick:c[0]||(c[0]=$=>d("full_remote"))},[o(t("span",Ot,null,512),[[f,"searchEngine.filters.remote.full_remote"]])]),t("li",{class:"clickable",onClick:c[1]||(c[1]=$=>d("hybrid"))},[o(t("span",qt,null,512),[[f,"searchEngine.filters.remote.hybrid"]])]),t("li",{class:"clickable",onClick:c[2]||(c[2]=$=>d("nomad"))},[o(t("span",jt,null,512),[[f,"searchEngine.filters.remote.nomad"]])])])]),_:1}),o(t("p",Et,[(a(!0),r(S,null,R(_(u),($,M)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:M,onClick:V=>m($)},[T(y(n.$t(`searchEngine.filters.remote.${$}`))+" ",1),At],8,St))),128))],512),[[w,_(u).length!=0]])]),_:1})}}});class Ct{constructor(){Q(this,"remote");Q(this,"job_reference");Q(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const xt=x({components:{FilterLayout:F,SearchableList:z},props:{initial_query:{type:Ct,required:!0},clear:{type:Boolean,default:!1}},data(){return{options:[],filtersNames:[],filters:[]}},watch:{clear:function(){this.clear&&(this.filtersNames=[],this.filters=[],this.$emit("clearLock"))}},async created(){if(this.axios.get("/locations/getContinents").then(e=>{let s=e.data.findIndex(i=>i.name=="Other Europe");e.data[s].name="Europe (Other)";let l=e.data[s];e.data.splice(s,1),e.data.splice(5,0,l),this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&await this.check_filter_obj().then(e=>{this.initial_query.locations=[...e.data.contients,...e.data.countries,...e.data.regions,...e.data.cities]})},mounted(){Array.from(document.querySelectorAll('#list-locations-continued [data-bs-toggle="popover"]')).forEach(s=>new be.exports.Popover(s));let e=document.getElementById("myPopover");e==null||e.addEventListener("hidden.bs.popover",function(){})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.filters.indexOf(e._id.toString());l===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.check_filter_obj()):(this.filters.splice(l,1),this.check_filter_obj(),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){console.log(e),this.filter(e)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)},async check_filter_obj(){return this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>(this.filtersNames=[...e.data.contients,...e.data.countries,...e.data.regions,...e.data.cities],e))},getNameLocationAll(e){let s="";return e.name.includes("All countries")||e.name.includes("All location_regions")||e.name.includes("All location_cities")?e.continent?s=e.continent.name:e.country?s=e.country.name:e.region&&(s=e.region.name):s=e.name,s}}}),Dt={class:"mb-2"},Tt={class:"fs-14 fw-bold"},Rt={key:0,class:"mb-0"},Mt=["onClick"],Nt=t("i",{class:"fas fa-times ms-1"},null,-1),It=["data-bs-content"],Ft={class:"fw-bold"},Qt={key:1,class:"mb-0"},Ut=["onClick"],Bt=t("i",{class:"fas fa-times ms-1"},null,-1);function Pt(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",Dt,[o(t("span",Tt,null,512),[[h,"searchEngine.filters.location.title"]])]),v(d,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,propertyToValidate:"_id",saveObject:!0,is_location:!0,values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.select_location"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filtersNames.length>5?o((a(),r("p",Rt,[(a(!0),r(S,null,R(e.filtersNames.slice(0,4),(n,c)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+c,onClick:f=>e.removeFilter(n)},[T(y(e.getNameLocationAll(n))+" ",1),Nt],8,Mt))),128)),t("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.filtersNames.join(","),id:"list-locations-continued"},[t("span",Ft,"+"+y(e.filtersNames.length-5),1)],8,It)],512)),[[w,e.filtersNames.length!=0]]):o((a(),r("p",Qt,[(a(!0),r(S,null,R(e.filtersNames,(n,c)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+c,onClick:f=>e.removeFilter(n)},[T(y(e.getNameLocationAll(n))+" ",1),Bt],8,Ut))),128))],512)),[[w,e.filtersNames.length!=0]])]),_:1})}var Jt=U(xt,[["render",Pt]]);class Vt{constructor(){Q(this,"remote");Q(this,"job_reference");Q(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const zt=x({components:{FilterLayout:F,SearchableList:z},props:{clear:{type:Boolean,default:!1},initial_query:{type:Vt,required:!0}},data(){return{options:[],filter_name:"jobReferences",filterObjs:[],job_reference:[],lang:"fr",activeDevfilter:!1,popover_selected_id:""}},watch:{clear:function(){this.clear&&(this.filterObjs=[],this.job_reference=[],this.$emit("clearLock"),this.$emit("activeDevelopment",!1))}},mounted(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(s){return new De(s)})},async created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query[this.filter_name]){const s=this.$route.query[this.filter_name];let l=[];typeof s=="string"?l.push(s):l=s,this.job_reference=this.job_reference.concat(l)}this.job_reference.length>0&&await this.check_filter_obj(),this.filterObjs.length>0&&(this.filterObjs.some(s=>s.job_reference_sub_category=="62312eb71cccbfccd84b3ced")||this.filterObjs.some(s=>s.name_en=="Development"))&&(this.activeDevfilter=!0,this.$emit("activeDevelopment",this.activeDevfilter))},methods:{show_popover(e){this.popover_selected_id=e},hide_popover(){this.popover_selected_id=""},async filter(e){var u;let s="";this.job_reference.indexOf(e._id.toString())!==-1&&(s="delete"),console.log(e);let l=Object.assign({},this.$route.query);e.name_en.includes("All categories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All subcategories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All references")&&s!="delete"&&(this.job_reference=[],this.filterObjs=[]),(e._id=="62312eb71cccbfccd84b3ced"||((u=e.job_reference_sub_category)==null?void 0:u.name_en)=="Development")&&(this.activeDevfilter=!0);const i=this.job_reference.indexOf(e._id.toString());i===-1?(this.job_reference.push(e._id.toString()),l[this.filter_name]=this.job_reference.toString(),this.check_filter_obj()):(this.job_reference.splice(i,1),this.check_filter_obj(),this.job_reference.length==0?delete l[this.filter_name]:l[this.filter_name]=this.job_reference.toString()),this.$emit("activeDevelopment",this.activeDevfilter),this.$emit("updateApiQuery",this.filter_name,this.job_reference)},clear_oid(e){let s="";return e.includes("0-")&&(s=e.split("-")[1]),s},async check_filter_obj(){await this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(e=>{this.filterObjs=e.data,this.initial_query.job_reference=e.data})},show_item(e,s){return e=="fr"?s.name_fr:e=="es"?s.name_es:s.name_en}}}),Yt={class:"mb-2"},Gt={class:"fs-14 fw-bold"},Ht={key:0,class:"mb-0"},Kt=["onClick","onMouseover"],Wt={key:0},Xt={class:"popover-vanilla"},Zt={key:1},es=t("em",{class:"fas fa-times ms-1"},null,-1),ts={class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app fw-bold"},ss={key:1,class:"mb-0"},ls=["onClick"],is=["data-bs-content"],ns={key:1},as=t("i",{class:"fas fa-times ms-1"},null,-1);function os(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",Yt,[o(t("span",Gt,null,512),[[h,"searchEngine.filters.job_refence.title"]])]),v(d,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItems:["All categories","All subcategories","All references"],allItemsSelectable:!0,placeholder:e.$t("searchEngine.filters.select_domain"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filterObjs.length>5?o((a(),r("p",Ht,[(a(!0),r(S,null,R(e.filterObjs.slice(0,4),(n,c)=>(a(),r("span",{class:"d-flex justify-content-center badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app w-100 position-relative",key:"filter_JR-"+c,onClick:f=>e.filter(n),onMouseover:f=>e.show_popover(n._id),onMouseleave:s[0]||(s[0]=(...f)=>e.hide_popover&&e.hide_popover(...f))},[e.show_item(e.lang,n).length>15?(a(),r("div",Wt,[o(t("div",Xt,[t("span",null,y(e.show_item(e.lang,n)),1)],512),[[w,e.popover_selected_id==n._id]]),t("span",null,y(e.show_item(e.lang,n).substr(0,15))+"... ",1)])):(a(),r("div",Zt,[t("span",null,y(e.show_item(e.lang,n)),1)])),es],40,Kt))),128)),t("span",ts,"+"+y(e.filterObjs.length-5),1)],512)),[[w,e.filterObjs.length!=0]]):o((a(),r("p",ss,[(a(!0),r(S,null,R(e.filterObjs,(n,c)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+c,onClick:f=>e.filter(n)},[e.show_item(e.lang,n).length>25?(a(),r("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-placement":"bottom","data-bs-content":e.show_item(e.lang,n)},y(e.show_item(e.lang,n).substr(0,25))+"... ",9,is)):(a(),r("span",ns,y(e.show_item(e.lang,n)),1)),as],8,ls))),128))],512)),[[w,e.filterObjs.length!=0]])]),_:1})}var rs=U(zt,[["render",os]]);const cs=x({components:{FilterLayout:F,SearchableList:z},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr",popover_selected_id:""}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{show_popover(e){this.popover_selected_id=e},hide_popover(){this.popover_selected_id=""},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es},async filter(e){let s=Object.assign({},this.$route.query);const l=this.industries.indexOf(e._id.toString());l===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(l,1),this.industries_objs=this.industries_objs.filter(i=>i._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),ds={class:"mb-2"},us={class:"fs-14 fw-bold"},fs={class:"mb-0"},hs=["onClick","onMouseover"],ps={key:0},_s={class:"popover-vanilla"},ms={key:1},gs=t("em",{class:"fas fa-times ms-1"},null,-1);function ys(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",ds,[o(t("span",us,null,512),[[h,"searchEngine.filters.industries.title"]])]),v(d,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.select_industry"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),o(t("p",fs,[(a(!0),r(S,null,R(e.industries_objs,n=>(a(),r("span",{class:"d-flex justify-content-center badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app w-100 position-relative",key:"filter_industry-"+n._id,onClick:c=>e.filter(n),onMouseover:c=>e.show_popover(n._id),onMouseleave:s[0]||(s[0]=(...c)=>e.hide_popover&&e.hide_popover(...c))},[e.show_item(e.lang,n).length>15?(a(),r("div",ps,[o(t("div",_s,[t("span",null,y(e.show_item(e.lang,n)),1)],512),[[w,e.popover_selected_id==n._id]]),t("span",null,y(e.show_item(e.lang,n).substr(0,15))+"... ",1)])):(a(),r("div",ms,[t("span",null,y(e.show_item(e.lang,n)),1)])),gs],40,hs))),128))],512),[[w,e.industries_objs.length!=0]])]),_:1})}var bs=U(cs,[["render",ys]]);const $s=x({components:{FilterLayout:F,SearchableList:z},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"company",companies_objs:[],companies:[],value_top:!1}},watch:{clear:function(){this.clear&&(this.companies_objs=[],this.companies=[],this.$emit("clearLock"))}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query[this.filter_name]){const e=this.$route.query[this.filter_name];if(typeof e=="string"){const s=[];s.push(e),this.companies=s}else this.companies=e}this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},computed:{valueCheck(){let e=!1;return this.$route.query.top_flex&&(e=!0),e}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.companies.indexOf(e._id.toString());l===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(l,1),this.companies_objs=this.companies_objs.filter(i=>i._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)},topFlex(e){this.companies=[],this.companies_objs=[],this.value_top=!e,e?this.$emit("updateApiQuery","top_flex",e):this.$emit("updateApiQuery","top_flex","")}}}),vs={class:"mb-2"},ks={class:"fs-14 fw-bold"},ws={class:"mb-0"},Os=["onClick"],qs=t("i",{class:"fas fa-times ms-1"},null,-1),js={class:"form-check mt-2 d-flex"},Es=["checked"],Ss=t("label",{class:"form-check-label fs-14 fw-bold",for:"check_top"},[t("em",{class:"fas fa-star me-1"}),T(" Top flex company only")],-1);function As(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",vs,[o(t("span",ks,null,512),[[h,"searchEngine.filters.company.title"]])]),v(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.select_company"),closeOnSaveSearched:!1,searchURL:"/company/searchCompanies/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),o(t("p",ws,[(a(!0),r(S,null,R(e.companies_objs,n=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+n._id,onClick:c=>e.filter(n)},[T(y(n.name)+" ",1),qs],8,Os))),128))],512),[[w,e.companies_objs.length!=0]]),t("div",js,[t("input",{class:"form-check-input",checked:e.valueCheck,type:"checkbox",id:"check_top",onClick:s[0]||(s[0]=n=>e.topFlex(!e.valueCheck))},null,8,Es),Ss])]),_:1})}var Ls=U($s,[["render",As]]);const Cs={class:"mb-2"},xs={class:"fs-14 fw-bold"},Ds={class:"py-2 fs-14"},Ts={class:"fs-14"},Rs=["onClick"],Ms={class:"dropdown-item py-2"},Ns={class:"mb-0"},Is=["onClick"],Fs=T(),Qs=t("i",{class:"fas fa-times ms-1"},null,-1),Us=x({emits:["updateApiQuery"],setup(e,{emit:s}){le();const l=ee();let i=J([]);const u=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],g="contract";if(l.query.contract){let n=[];typeof l.query.contract=="string"?n.push(l.query.contract):n=l.query.contract,i.splice(0,0,...n)}const d=async n=>{let c=Object.assign({},l.query);const f=i.indexOf(n);f===-1?(i.push(n),c[g]=i.toString()):(i.splice(f,1),i.length==0?delete c[g]:c[g]=i.toString()),h()},m=n=>{let c=Object.assign({},l.query);const f=i.indexOf(n);i.splice(f,1),i.length==0?delete c[g]:c[g]=i.toString(),h()},h=async n=>{s("updateApiQuery",g,i)};return(n,c)=>{const f=D("t");return a(),I(F,{id:"filter-contrat"},{default:q(()=>[t("p",Cs,[o(t("span",xs,null,512),[[f,"searchEngine.filters.contract.title"]])]),v(te,null,{dropdown_btn:q(()=>[t("div",Ds,[o(t("span",null,null,512),[[f,"searchEngine.filters.select_contract"]])])]),dropdown_li:q(()=>[t("ul",Ts,[(a(),r(S,null,R(u,$=>t("li",{class:"clickable",onClick:M=>d($)},[o(t("span",Ms,null,512),[[f,`searchEngine.filters.contract.${$}`]])],8,Rs)),64))])]),_:1}),o(t("p",Ns,[(a(!0),r(S,null,R(_(i),($,M)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:M,onClick:V=>m($)},[o(t("span",null,null,512),[[f,`searchEngine.filters.contract.${$}`]]),Fs,Qs],8,Is))),128))],512),[[w,_(i).length!=0]])]),_:1})}}}),Bs={class:"mb-2"},Ps={class:"fs-14 fw-bold"},Js={class:"custom-scroll",style:{"max-height":"205px"}},Vs={class:"form-check mt-2 d-flex fs-14"},zs=["checked","id","value","onClick"],Ys=["for"],Gs=x({emits:["updateApiQuery"],setup(e,{emit:s}){le();const l=ee();let i=J([]);const u="flexibility";if(l.query.flexibility){let d=[];typeof l.query.flexibility=="string"?d.push(l.query.flexibility):d=l.query.flexibility,i.splice(0,0,...d)}const g=async d=>{let m=Object.assign({},l.query);const h=i.indexOf(d);h===-1?(i.push(d),m[u]=i.toString()):(i.splice(h,1),i.length==0?delete m[u]:m[u]=i.toString()),s("updateApiQuery",u,i)};return(d,m)=>{const h=D("t");return a(),I(F,null,{default:q(()=>[t("p",Bs,[o(t("span",Ps,null,512),[[h,"searchEngine.filters.flexibility.title"]]),t("span",{class:oe(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",_(i).length>9?"px-1":"px-2"])},y(_(i).length),3)]),t("div",Js,[(a(!0),r(S,null,R(Object.keys(_(we)),n=>(a(),r("div",Vs,[t("input",{class:"form-check-input",checked:_(i).includes(n),type:"checkbox",id:n,value:n,onClick:c=>g(n)},null,8,zs),o(t("label",{class:"form-check-label",for:n},null,8,Ys),[[h,`searchEngine.filters.flexibility.${n}`]])]))),256))])]),_:1})}}}),Hs={class:"mb-2"},Ks={class:"fs-14 fw-bold"},Ws={class:"py-2 fs-14"},Xs={class:"fs-14"},Zs=["onClick"],el={class:"dropdown-item"},tl={class:"mb-0"},sl=["onClick"],ll=T(),il=t("i",{class:"fas fa-times ms-1"},null,-1),nl=x({emits:["updateApiQuery"],setup(e,{emit:s}){le();const l=ee();let i=J([]);const u=["internships","entry_level","junior","mid_level","senior","expert"],g="experience";if(l.query.experience){let n=[];typeof l.query.experience=="string"?n.push(l.query.experience):n=l.query.experience,i.splice(0,0,...n)}const d=async n=>{let c=Object.assign({},l.query);const f=i.indexOf(n);f===-1?(i.push(n),c[g]=i.toString()):(i.splice(f,1),i.length==0?delete c[g]:c[g]=i.toString()),h()},m=n=>{let c=Object.assign({},l.query);const f=i.indexOf(n);i.splice(f,1),i.length==0?delete c[g]:c[g]=i.toString(),h()},h=async n=>{s("updateApiQuery",g,i)};return(n,c)=>{const f=D("t");return a(),I(F,null,{default:q(()=>[t("p",Hs,[o(t("span",Ks,null,512),[[f,"searchEngine.filters.experience.title"]])]),v(te,null,{dropdown_btn:q(()=>[t("div",Ws,[o(t("span",null,null,512),[[f,"searchEngine.filters.select_exp"]])])]),dropdown_li:q(()=>[t("ul",Xs,[(a(),r(S,null,R(u,$=>t("li",{class:"clickable",onClick:M=>d($)},[o(t("span",el,null,512),[[f,`searchEngine.filters.experience.${$}`]])],8,Zs)),64))])]),_:1}),o(t("p",tl,[(a(!0),r(S,null,R(_(i),($,M)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:M,onClick:V=>m($)},[o(t("span",null,null,512),[[f,`searchEngine.filters.experience.${$}`]]),ll,il],8,sl))),128))],512),[[w,_(i).length!=0]])]),_:1})}}}),al=x({components:{FilterLayout:F,SearchableList:z},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.languages.indexOf(e._id.toString());l===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(l,1),this.filter_objs=this.filter_objs.filter(i=>i._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),ol={class:"mb-2"},rl={class:"fs-14 fw-bold"},cl={class:"mb-0"},dl=["onClick"],ul=t("i",{class:"fas fa-times ms-1"},null,-1);function fl(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",ol,[o(t("span",rl,null,512),[[h,"searchEngine.filters.languages.title"]])]),v(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,propertyToValidate:"_id",values:[e.languages],placeholder:e.$t("searchEngine.filters.select_lang"),closeOnSaveSearched:!1,searchURL:"/language/searchlanguage/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),o(t("p",cl,[(a(!0),r(S,null,R(e.filter_objs,n=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+n._id,onClick:c=>e.filter(n)},[o(t("span",null,y(n.name_fr),513),[[w,e.lang=="fr"]]),o(t("span",null,y(n.name_en),513),[[w,e.lang=="en"]]),o(t("span",null,y(n.name_es),513),[[w,e.lang=="es"]]),ul],8,dl))),128))],512),[[w,e.filter_objs.length!=0]])]),_:1})}var hl=U(al,[["render",fl]]);const pl={class:"mb-2"},_l={class:"fs-14 fw-bold"},ml={class:"py-2 fs-14"},gl={class:"fs-14"},yl=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),bl=[yl],$l=t("span",{class:"dropdown-item"},"USD ($)",-1),vl=[$l],kl={class:"input-group my-2 position-relative"},wl=["placeholder"],Ol={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},ql={class:"my-1"},jl={class:"input-group mb-1 position-relative"},El=["min","placeholder"],Sl={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Al=x({emits:["updateApiQuery"],setup(e,{emit:s}){le();const l=ee();let i=J({currency:"Euro",salary_min:null,salary_max:null});const u=N(()=>i.currency=="Euro"?"\u20AC":"$");l.query.currency&&(i.currency=l.query.currency.toString()),l.query.salary_min&&(i.salary_min=l.query.salary_min.toString()),l.query.salary_max&&(i.salary_max=l.query.salary_max.toString());const g=m=>{i.currency=m,d("currency")},d=async m=>{let h=Object.assign({},l.query);!i[m]||i[m].length==0?delete h[m]:h[m]=i[m],m!="currency"&&s("updateApiQuery","currency",i.currency),s("updateApiQuery",m,i[m])};return(m,h)=>{const n=D("t");return a(),I(F,{hideBorder:!0},{default:q(()=>[t("p",pl,[o(t("span",_l,null,512),[[n,"searchEngine.filters.salary.title"]])]),v(te,null,{dropdown_btn:q(()=>[t("div",ml,[t("span",null,y(_(i).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)])]),dropdown_li:q(()=>[t("ul",gl,[t("li",{class:"clickable",onClick:h[0]||(h[0]=c=>g("EUR"))},bl),t("li",{class:"clickable",onClick:h[1]||(h[1]=c=>g("USD"))},vl)])]),_:1}),t("div",kl,[o(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":h[2]||(h[2]=c=>_(i).salary_min=c),onBlur:h[3]||(h[3]=c=>d("salary_min")),placeholder:m.$t("searchEngine.filters.salary.min")},null,40,wl),[[re,_(i).salary_min]]),t("span",Ol,y(_(u)),1)]),o(t("p",ql,null,512),[[n,"searchEngine.filters.salary.to"]]),t("div",jl,[o(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":h[4]||(h[4]=c=>_(i).salary_max=c),min:_(i).salary_min?_(i).salary_min:"1000",onBlur:h[5]||(h[5]=c=>d("salary_max")),placeholder:m.$t("searchEngine.filters.salary.max")},null,40,El),[[re,_(i).salary_max]]),t("span",Sl,y(_(u)),1)])]),_:1})}}}),Ll=x({components:{FilterLayout:F,SearchableList:z},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"technology",filter_objs:[],technology:[],lang:"en"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/technology/getTechnologies").then(s=>{this.options=s.data}),this.$route.query.technology)if(typeof this.$route.query.technology=="string"){const s=[];s.push(this.$route.query.technology),this.technology=s}else this.technology=this.$route.query.technology;this.axios.get("/technology/by-ids",{params:{technology:this.technology}}).then(s=>{this.filter_objs=s.data})},watch:{clear:function(){this.clear&&(this.filter_objs=[],this.technology=[],this.$emit("clearLock"))}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.technology.indexOf(e._id.toString());l===-1?(this.technology.push(e._id.toString()),s[this.filter_name]=this.technology.toString(),this.filter_objs.push(e)):(this.technology.splice(l,1),this.filter_objs=this.filter_objs.filter(i=>i._id!=e._id),this.technology.length==0?delete s[this.filter_name]:s[this.filter_name]=this.technology.toString()),this.$emit("updateApiQuery",this.filter_name,this.technology)}}}),Cl={class:"mb-2"},xl={class:"fs-16 fw-bold"},Dl={key:0,class:"mb-0"},Tl=["onClick"],Rl=t("i",{class:"fas fa-times ms-1"},null,-1),Ml={class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app fw-bold"},Nl={key:1,class:"mb-0"},Il=["onClick"],Fl=t("i",{class:"fas fa-times ms-1"},null,-1);function Ql(e,s,l,i,u,g){const d=E("SearchableList"),m=E("FilterLayout"),h=D("t");return a(),I(m,null,{default:q(()=>[t("p",Cl,[o(t("span",xl,null,512),[[h,"searchEngine.filters.technology.title"]])]),v(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.technology],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),e.filter_objs.length>5?o((a(),r("p",Dl,[(a(!0),r(S,null,R(e.filter_objs.slice(0,4),(n,c)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+c,onClick:f=>e.filter(n)},[o(t("span",null,y(n.name_fr),513),[[w,e.lang=="fr"]]),o(t("span",null,y(n.name_en),513),[[w,e.lang=="en"]]),o(t("span",null,y(n.name_es),513),[[w,e.lang=="es"]]),Rl],8,Tl))),128)),t("span",Ml,"+"+y(e.filter_objs.length-5),1)],512)),[[w,e.filter_objs.length!=0]]):o((a(),r("p",Nl,[(a(!0),r(S,null,R(e.filter_objs,(n,c)=>(a(),r("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+c,onClick:f=>e.filter(n)},[o(t("span",null,y(n.name_fr),513),[[w,e.lang=="fr"]]),o(t("span",null,y(n.name_en),513),[[w,e.lang=="en"]]),o(t("span",null,y(n.name_es),513),[[w,e.lang=="es"]]),Fl],8,Il))),128))],512)),[[w,e.filter_objs.length!=0]])]),_:1})}var Ul=U(Ll,[["render",Ql]]);const Bl={id:"search-engine__filters",class:"bg-white p-3 card"},Pl={class:"filters__header border-bottom"},Jl={class:"mb-2"},Vl={class:"fs-16 fw-bold ff-nexa"},zl={class:"text-center filters__btn-filter px-4"},Yl=x({props:{countResult:null,initial_query:null},emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const l=window.localStorage.getItem("accessToken");let i=J({active:!1}),u=J({active:!1});const g=()=>{console.log("lockClear"),u.active=!1},d=(c,f)=>{s("updateApiQuery",c,f)},m=()=>{window.scrollTo(0,0)},h=c=>{i.active=c},n=()=>{u.active=!0,console.log("clear_filters",u),s("clearApiQuery")};return(c,f)=>{const $=E("i18n-t"),M=D("t");return a(),r("div",Bl,[t("div",Pl,[t("p",Jl,[o(t("span",Vl,null,512),[[M,"searchEngine.filters.title"]]),o(t("span",{class:"fs-12 float-end clickable",onClick:n},null,512),[[M,"searchEngine.filters.erase"]])])]),v(Lt,{initial_query:e.initial_query,onUpdateApiQuery:d,clear:_(u).active,onClearLock:g},null,8,["initial_query","clear"]),v(Jt,{initial_query:e.initial_query,onUpdateApiQuery:d,clear:_(u).active,onClearLock:g},null,8,["initial_query","clear"]),v(rs,{initial_query:e.initial_query,onUpdateApiQuery:d,onActiveDevelopment:h,clear:_(u).active,onClearLock:g},null,8,["initial_query","clear"]),_(i).active?(a(),I(Ul,{key:0,onUpdateApiQuery:d,clear:_(u).active,onClearLock:g},null,8,["clear"])):C("",!0),v(bs,{onUpdateApiQuery:d,clear:_(u).active},null,8,["clear"]),v(Ls,{onUpdateApiQuery:d,clear:_(u).active},null,8,["clear"]),v(Us,{onUpdateApiQuery:d}),v(Gs,{onUpdateApiQuery:d}),v(nl,{onUpdateApiQuery:d}),v(hl,{onUpdateApiQuery:d,clear:_(u).active,onClearLock:g},null,8,["clear"]),v(Al,{onUpdateApiQuery:d}),t("div",zl,[_(l)?o((a(),r("button",{key:1,class:"btn btn-primary w-100 py-2 fs-14",onClick:f[1]||(f[1]=V=>m())},null,512)),[[M,"searchEngine.filters.save_filters"]]):(a(),r("button",{key:0,class:"btn btn-primary w-100 py-2 fs-14",onClick:f[0]||(f[0]=V=>m())},[v($,{keypath:"searchEngine.filters.filter"},{cant:q(()=>[t("span",null,y(e.countResult),1)]),_:1})]))])])}}});class Gl{constructor(){Q(this,"remote");Q(this,"job_reference");Q(this,"locations");this.remote=[],this.job_reference=[],this.locations=[]}}const Hl=x({name:"ModalEmailAlerts",props:{query_alert:{type:Object,required:!0},initial_query:{type:Gl,required:!0}},directives:{debounce:Le.exports.getDirective("3")},data(){return{email:"",valid_email:0,modalAlertShow:!1,error:!1,lang:"fr"}},computed:P({},ie("auth",["userData","accessToken"])),created(){let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en")},mounted(){const e=this;this.accessToken||this.delayModalEmailAlert();const s=document.getElementById("saveAlertModal");s&&s.addEventListener("hidden.bs.modal",l=>{e.delayModalEmailAlert()})},methods:{showModal(e){new ce(document.getElementById(e)).show()},hideModal(e){new ce(document.getElementById(e)).hide()},delayModalEmailAlert(){setTimeout(()=>{!this.accessToken&&this.modalAlertShow==!1&&(this.showModal("saveAlertModal"),this.modalAlertShow=!0)},3e5)},validate_email(){const e=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g;this.email.match(e)?this.valid_email=1:this.valid_email=0},async createFirstAlert(e){let s={alert:this.query_alert,email:e.email,authid:e._id};await this.axios.patch("/alert/create_first_alert",s).then(l=>{console.log(l)}).catch(l=>{ve.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},async signupUser(){let e=await this.randomPassword(),s={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",connection:"Username-Password-Authentication",email:this.email,password:e,username:this.email.split("@",8)[0].substring(0,15),blocked:!1,email_verified:!1,phone_verified:!1};this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/signup",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:s}).then(async l=>{let i=this.createFirstAlert(l.data);const u={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",email:l.data.email,connection:"Username-Password-Authentication"};return await this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/change_password",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:u}),i}).catch(()=>{this.error=!0,ve.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},randomPassword(){var e=`${Math.random().toString(36).slice(-6)}3$`;return e},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),Kl={class:"modal fade",id:"saveAlertModal",tabindex:"-1","aria-labelledby":"saveAlertModalLabel","aria-hidden":"true"},Wl={class:"modal-dialog modal-dialog-centered modal-lg"},Xl={class:"modal-content"},Zl={class:"modal-header border-transparent"},ei={class:"modal-body px-5"},ti={class:"text-left fw-bold fs-16"},si=T(" \xA0 "),li={key:0},ii=T(" - "),ni={key:1},ai=T(" - "),oi={key:2},ri={class:"text-left fs-14"},ci={class:"w-50"},di={class:"form-label text-primary fw-bold"},ui={class:"input-group mb-3"},fi={class:"text-left"},hi={class:"modal-footer fs-12"},pi={class:"modal fade",id:"alertMerciModal",tabindex:"-1","aria-labelledby":"alertMerciModalLabel","aria-hidden":"true"},_i={class:"modal-dialog modal-dialog-centered modal-lg"},mi={class:"modal-content"},gi={class:"modal-header"},yi={key:0,class:"modal-title fw-bold fs-16"},bi={key:1,class:"modal-title fw-bold fs-16"},$i=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),vi={class:"modal-body"},ki={key:0,class:"text-left fs-14"},wi={key:1,class:"text-left fs-14"},Oi={key:2,class:"text-left fs-14"};function qi(e,s,l,i,u,g){const d=D("t"),m=D("debounce");return a(),r(S,null,[t("div",Kl,[t("div",Wl,[t("div",Xl,[t("div",Zl,[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=h=>e.modalAlertShow=!1)})]),t("div",ei,[t("p",ti,[o(t("span",null,null,512),[[d,"emailAlert.modalAlert.title"]]),si,e.initial_query.job_reference[0]?(a(),r("u",li,y(e.show_item(e.lang,e.initial_query.job_reference[0])),1)):C("",!0),ii,e.initial_query.remote[0]?o((a(),r("u",ni,null,512)),[[d,`SearchBar.remote.${e.initial_query.remote[0]}_title`]]):C("",!0),ai,e.initial_query.locations[0]?(a(),r("u",oi,y(e.initial_query.locations[0].name),1)):C("",!0)]),o(t("p",ri,null,512),[[d,"emailAlert.modalAlert.subTitle"]]),t("div",ci,[o(t("label",di,null,512),[[d,"emailAlert.modalAlert.label"]]),t("div",ui,[o(t("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=h=>e.email=h),class:"form-control",name:"email"},null,512),[[m,e.validate_email,"700ms"],[re,e.email]])])]),t("div",fi,[o(t("button",{class:oe(["btn btn-primary",{disabled:!e.valid_email}]),type:"button","data-bs-toggle":"modal","data-bs-target":"#alertMerciModal",onClick:s[2]||(s[2]=h=>e.signupUser())},null,2),[[d,"emailAlert.modalAlert.send"]])])]),t("div",hi,[o(t("p",null,null,512),[[d,"emailAlert.modalAlert.footer"]])])])])]),t("div",pi,[t("div",_i,[t("div",mi,[t("div",gi,[e.error?o((a(),r("p",bi,null,512)),[[d,"emailAlert.error"]]):o((a(),r("p",yi,null,512)),[[d,"emailAlert.modalMerci.title"]]),$i]),t("div",vi,[e.error?C("",!0):o((a(),r("p",ki,null,512)),[[d,"emailAlert.modalMerci.text1"]]),e.error?o((a(),r("p",Oi,null,512)),[[d,"emailAlert.error"]]):o((a(),r("p",wi,null,512)),[[d,"emailAlert.modalMerci.text2"]])])])])])],64)}var ji=U(Hl,[["render",qi]]);const Ei=x({name:"SearchEngine",components:{MatchOfferCard:bt,Filters:Yl,DropdownVanilla:te,ModalEmailAlerts:ji},props:{filters:{type:Object,required:!1}},setup(){function e(s){let l=s;return function(i,u){clearTimeout(l),l=setTimeout(()=>{i()},u||500)}}return{debounce:e(null)}},data(){return{matchOfferType:Y.Opportunity,joboffers:[],query_api:{sort:"Date",page:1},initial_query:{remote:[],job_reference:[],locations:[]},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!1,page:1,loading:!0,loading_more:!1,countResult:0,modalType:""}},computed:P(P({},ie("auth",["userData","accessToken"])),ie("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},async created(){if(this.$route.query.refresh)if(typeof this.$route.fullPath=="string"){let e=this.$route.fullPath.split("&");e.pop(),location.replace(e.join("&"))}else console.log(typeof this.$route.fullPath);this.setLayout("BaseLayout"),await this.setquery()},mounted(){},methods:_e(P({},ye(["setLayout"])),{sort(e){this.query_api.sort=e,this.can_scroll&&(this.can_scroll=!1,this.loading=!0,this.update_query_api("sort",e))},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s,this.loading_more||(this.loading=!0,this.query_api.page=1,this.page=1)},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://jobgether-filter-dev.azurewebsites.net",params:this.query_api}).then(e=>{if(this.countResult=e.data.total,e.data.data.length<e.data.total?this.can_scroll=!0:this.can_scroll=!1,this.query_api.top_flex){this.joboffers=e.data.data.filter(l=>{var i,u;return((u=(i=l.company)==null?void 0:i.meta)==null?void 0:u.flex_score)>=90});let s=this.countResult-this.joboffers.length;this.countResult=this.countResult-s}else this.joboffers=e.data.data}).finally(()=>{this.loading=!1,this.loading_more=!1;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",query:{id:e._id}})},update_url_query(e,s=!1){this.$router.push({query:e}).then(()=>{s&&location.replace("https://jobgether-dev.webflow.io/search-offers?sort=Date&page=1")}).catch(l=>{l.name!=="NavigationDuplicated"&&console.log(l)})},async clear_api_query(){this.query_api={sort:"Date",page:1},await this.update_url_query(this.query_api,!0)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}},setquery(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let l=[];Array.isArray(e[s])?l=e[s]:l.push(e[s]),this.query_api[s]=l}}},modal_(e){this.modalType=e,new ce(document.getElementById("modalLogin")).show()},goLogin(){location.replace("https://dev.jobgether.com/search-offers")}})}),Si={class:"modal fade",id:"modalLogin",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ai={class:"modal-dialog modal-dialog-centered"},Li={class:"modal-content rounded-12 border-0"},Ci=t("div",{class:"modal-header"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),xi={key:0,class:"modal-body px-5"},Di={class:"fs-20 fw-bold transition text-center mb-4"},Ti={class:"px-4 mb-4 pb-3"},Ri={class:"me-2"},Mi=t("i",{class:"far fa-sign-in-alt fs-20"},null,-1),Ni={class:"container"},Ii={class:"row gx-3 p-4"},Fi={class:"text-center text-white pb-1 ff-nexa-bold fs-48"},Qi={class:"row gx-3"},Ui={class:"col-12 col-lg-10 col-xl-9 offset-lg-2 offset-xl-3 ff-nexa"},Bi={class:"fw-medium mb-2 ff-nexa-bold"},Pi={class:"d-flex me-xl-4 flex-column flex-lg-row justify-content-between justify-content-xl-between"},Ji={class:"fs-14"},Vi={class:"mb-1 pt-1"},zi={class:"d-flex me-5 me-lg-4 me-xl-0 fs-14 flex-row-reverse"},Yi={class:"row mx-0 flex-nowrap"},Gi={for:"sort",class:"col col-form-label p-0 pt-1"},Hi={class:"px-0 position-relative dropdown_container date_points_dropdown_container"},Ki={class:"pt-1"},Wi={class:"text-primary"},Xi={class:"text-primary"},Zi={class:"date_points_dropdown_container d-flex flex-column"},en={class:"dropdown-item bg-white"},tn={class:"dropdown-item bg-white"},sn={class:"row gx-3 flex-column-reverse flex-lg-row"},ln={class:"col-10 col-md-6 col-lg-3 offset-1 offset-md-3 offset-lg-0 my-2"},nn={class:"col-12 col-lg-9"},an={key:0,class:"d-flex flex-column"},on={key:1,class:"col-12 d-flex justify-content-center align-items-center"},rn=t("div",{class:"spinner-border",role:"status"},null,-1),cn=[rn],dn={key:1,class:"text-center mt-5 fw-medium"},un={key:1,class:"col-12 d-flex justify-content-center align-items-center loading_container"},fn=t("div",{class:"spinner-border",role:"status"},null,-1),hn=[fn];function pn(e,s,l,i,u,g){const d=E("i18n-t"),m=E("DropdownVanilla"),h=E("Filters"),n=E("MatchOfferCard"),c=E("ModalEmailAlerts"),f=D("t");return a(),r(S,null,[t("div",Si,[t("div",Ai,[t("div",Li,[Ci,e.modalType=="LOGIN"?(a(),r("div",xi,[o(t("h2",Di,null,512),[[f,"auth.redirection"]]),t("p",Ti,[t("button",{class:"btn btn-primary w-100 bg-google-color border-0",type:"button",onClick:s[0]||(s[0]=(...$)=>e.goLogin&&e.goLogin(...$))},[o(t("span",Ri,null,512),[[f,"auth.login.btn_submit"]]),Mi])])])):C("",!0)])])]),t("div",Ni,[t("div",Ii,[o(t("h2",Fi,null,512),[[f,"searchEngine.title"]])]),t("div",Qi,[t("div",Ui,[t("p",Bi,[v(d,{keypath:"searchEngine.cantJobs"},{cant:q(()=>[t("span",null,y(e.countResult),1)]),_:1})]),t("div",Pi,[t("div",Ji,[o(t("p",Vi,null,512),[[f,"searchEngine.cantJobs_subtitle"]])]),t("div",zi,[t("div",Yi,[o(t("span",Gi,null,512),[[f,"searchEngine.sort"]]),t("div",Hi,[v(m,{button_bg_color:"transparent"},{dropdown_btn:q(()=>[t("div",Ki,[o(t("span",Wi,null,512),[[w,e.query_api.sort=="Date"],[f,"searchEngine.sort_dropdown.date"]]),o(t("span",Xi,null,512),[[w,e.query_api.sort=="Points"],[f,"searchEngine.sort_dropdown.points"]])])]),dropdown_li:q(()=>[t("ul",Zi,[t("li",{class:"clickbale",onClick:s[1]||(s[1]=$=>e.sort("Date"))},[o(t("span",en,null,512),[[f,"searchEngine.sort_dropdown.date"]])]),t("li",{class:"clickbale",onClick:s[2]||(s[2]=$=>e.sort("Points"))},[o(t("span",tn,null,512),[[f,"searchEngine.sort_dropdown.points"]])])])]),_:1})])])])])])]),t("div",sn,[t("div",ln,[v(h,{initial_query:e.initial_query,onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["initial_query","onUpdateApiQuery","onClearApiQuery"])]),t("div",nn,[e.loading?C("",!0):(a(),r("div",an,[e.joboffers.length>0?(a(),r(S,{key:0},[(a(!0),r(S,null,R(e.joboffers,$=>(a(),I(n,{"match-offer":$,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:$._id,query_api:e.query_api,onClick:M=>e.openMatch($),onModal:e.modal_},null,8,["match-offer","match-offer-type","query_api","onClick","onModal"]))),128)),e.can_scroll?o((a(),r("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[3]||(s[3]=(...$)=>e.show_more&&e.show_more(...$))},null,512)),[[f,"searchEngine.show_more"]]):C("",!0),e.loading_more?(a(),r("div",on,cn)):C("",!0)],64)):o((a(),r("p",dn,null,512)),[[f,"searchEngine.not_found"]])])),e.loading?(a(),r("div",un,hn)):C("",!0)])]),v(c,{query_alert:e.query_api,initial_query:e.initial_query},null,8,["query_alert","initial_query"])])],64)}var _n=U(Ei,[["render",pn]]);const mn=x({name:"Opportunities",components:{SearchEngine:_n},computed:P({},ie("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:P({},ye(["setLayout"]))}),gn={id:"opportunities",class:"my-auto"};function yn(e,s,l,i,u,g){const d=E("search-engine");return a(),r("div",gn,[v(d)])}var Sn=U(mn,[["render",yn]]);export{Sn as default};
