var Ae=Object.defineProperty,je=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var _e=(e,s,l)=>s in e?Ae(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,Q=(e,s)=>{for(var l in s||(s={}))Ce.call(s,l)&&_e(e,l,s[l]);if(fe)for(var l of fe(s))De.call(s,l)&&_e(e,l,s[l]);return e},oe=(e,s)=>je(e,Le(s));import{d as j,am as Te,ai as N,ah as me,r as A,e as L,o,f as c,i as t,an as ge,p as R,t as b,ao as _,h as r,l as O,aa as se,q as C,g as v,ab as w,n as K,j as Re,ap as W,ae as X,s as x,w as S,ac as T,v as Ie,aq as ye,m as Z,ar as le,as as ae,k as be}from"./vendor.8ecd296d.js";import{b as Ne}from"./bootstrap.bundle.min.6f8196e0.js";import{h as xe}from"./moment.08a7f518.js";import{r as ve,_ as F}from"./index.e77c4b1e.js";import{g as $e}from"./utils.1fce72cf.js";import{D as Me,P as Ue,M as Oe}from"./bootstrap.esm.f2db94b8.js";import{D as ee,S as ke}from"./simplebar.da46584e.js";import{A as Se}from"./alertify.ea48158f.js";var V;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(V||(V={}));var we;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(we||(we={}));var ie;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ie||(ie={}));var re;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(re||(re={}));const qe={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Fe=["id"],Qe={class:"row mx-0"},Be={class:"col-9 pt-3 pb-2"},Ve={class:"px-2 d-flex flex-column-reverse flex-md-row"},Pe={class:"flex-grow-1 pb-2"},Je={class:"mb-1 fs-20"},ze={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 fs-14 bg-light-yellow rounded-8"},Ye={class:"mb-0 d-flex align-items-center justify-content-between"},Ge={class:"fs-12"},He={key:0,class:"fav_group_icon"},Ke=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),We=[Ke],Xe=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),Ze=[Xe],et={key:1,class:"archived_group_icon"},tt=["data-bs-content"],st={class:"px-2"},lt={class:"mb-1 fw-light"},at=t("span",{class:"me-2 ms-2 px-2 py-1 fs-14 fw-500 bg-blue-app-20 rounded-8"},[t("em",{class:"fas fa-star"}),R(" Top flex ")],-1),it={class:"mb-1 px-2 d-flex flex-column flex-md-row"},nt={class:"mb-2 mb-md-0 pt-1 flex-grow-1 offer-content"},ot={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},rt=["data-bs-content"],ct={key:2},dt={class:"mt-n1 d-flex align-items-center"},ut=["data-bs-content"],pt={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},ht=["data-bs-content"],ft={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},_t={class:"matching d-none"},mt={class:"me-2 matching__text d-none d-sm-inline"},gt=["data-bs-content"],yt={key:1,class:"fas fa-lock"},bt=R(" % "),vt=j({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo"],setup(e,{emit:s}){const l=e,a=Te();let f=N(()=>a.state.auth.userData.favorites?a.state.auth.userData.favorites:[]),g=N(()=>a.state.auth.userData._id),u=N(()=>a.state.auth.accessToken),p=N(()=>{var y;let h=[];if(((y=l.query_api)==null?void 0:y.flexibility)&&(h=l.query_api.flexibility.filter($=>{var E,q;return(q=(E=l.matchOffer)==null?void 0:E.company)==null?void 0:q.meta[$]})),h.length==0){let $=Object.keys(qe).filter(E=>{var q,D;return(D=(q=l.matchOffer)==null?void 0:q.company)==null?void 0:D.meta[E]});if($.length>0){let E=$e(0,$.length-1);h=[$[E-1]]}}return h}),i=N(()=>{var y,$,E;let h=[];if(((y=l.query_api)==null?void 0:y.remote)&&(h=l.query_api.remote.filter(q=>{var D;return(D=l.matchOffer)==null?void 0:D.meta.remote.some(B=>B==q)})),h.length==0){let q=(E=($=l.matchOffer)==null?void 0:$.meta)==null?void 0:E.remote;if(q.length>0){let D=$e(0,q.length-1);h=[q[D-1]]}}return h});me(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${l.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(y=>new Ne.exports.Popover(y));let h=document.getElementById("myPopover");h==null||h.addEventListener("hidden.bs.popover",function(){})});const n=N(()=>{var y,$;let h="";switch(($=(y=l.matchOffer)==null?void 0:y.meta)==null?void 0:$.currency){case"EUR":h="euro-sign";break;case"USD":h="dollar-sign";break;default:h="question"}return h}),d=N(()=>{var h,y,$;return((y=(h=l.matchOffer)==null?void 0:h.meta)==null?void 0:y.contractType)?($=l.matchOffer.meta)==null?void 0:$.contractType:""}),m=N(()=>{var y,$,E,q,D,B,P,J,z,Y,G,H;let h="";return(($=(y=l.matchOffer)==null?void 0:y.meta)==null?void 0:$.salary)&&((D=(q=(E=l.matchOffer)==null?void 0:E.meta)==null?void 0:q.salary)==null?void 0:D.min)&&((J=(P=(B=l.matchOffer)==null?void 0:B.meta)==null?void 0:P.salary)==null?void 0:J.max)&&(h=`${((Y=(z=l.matchOffer.meta)==null?void 0:z.salary)==null?void 0:Y.min)/1e3} - ${((H=(G=l.matchOffer.meta)==null?void 0:G.salary)==null?void 0:H.max)/1e3}K`),h}),k=N(()=>{let h=!1;return l.matchOfferType==V.Opportunity&&(h=l.matchOffer.companyInterest==ie.REJECTED||l.matchOffer.companyInterest==ie.REJECTED_BY_QA||l.matchOffer.userInterest==re.NOT_INTERESTED||l.matchOffer.archived==!0),l.matchOfferType==V.Interview&&(h=!1),l.matchOfferType==V.Archived&&(h=l.matchOffer.archived==!0),h}),U=N(()=>`opacity: ${l.matchOffer.percentage}%`);N(()=>{var y,$,E,q;let h="";return l.matchOffer.meta.locations&&((y=l.matchOffer.meta.locations)==null?void 0:y.length)!=0?(h=(q=(E=($=l.matchOffer)==null?void 0:$.meta)==null?void 0:E.locations)==null?void 0:q.map(D=>D.name).join(", "),h):"N/A"});function ne(){s("click",l.matchOffer)}function ce(){if(u){let h={id:g.value,type:"favorites",value:l.matchOffer._id};a.commit("auth/update_user_data_array",h),a.dispatch("talent/update_profile_favorites",h)}else ve.push({name:"TalentLogin"})}function Ee(){if(u){let h={id:g.value,type:"archived_offers",value:l.matchOffer._id};a.commit("auth/update_user_data_array",h),a.dispatch("talent/update_profile_archived_offers",h)}else ve.push({name:"TalentLogin"})}return(h,y)=>{var q,D,B,P,J,z,Y,G,H,de,ue,pe,he;const $=A("font-awesome-icon"),E=L("t");return o(),c("div",{class:K(["card match-card shadow-sm w-100 clickable p-0",{disabled:_(k)}]),onClick:y[4]||(y[4]=I=>ne()),id:`match-offer-card-${l.matchOffer._id}`},[t("div",Qe,[t("div",{class:"col-3 border-end p-4 card-image",style:ge({"background-image":((B=(D=(q=e.matchOffer)==null?void 0:q.company)==null?void 0:D.meta)==null?void 0:B.picture)?`url(${(z=(J=(P=e.matchOffer)==null?void 0:P.company)==null?void 0:J.meta)==null?void 0:z.picture})`:""})},null,4),t("div",Be,[t("div",Ve,[t("div",Pe,[t("h4",Je,[R(b(e.matchOffer.title)+" ",1),t("span",ze,b(((G=(Y=e.matchOffer.company)==null?void 0:Y.meta)==null?void 0:G.flex_score)?e.matchOffer.company.meta.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",Ye,[t("span",Ge,b(_(xe)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?C("",!0):(o(),c("div",He,[r(t("div",{class:"fav_icon",onClick:y[0]||(y[0]=se(I=>ce(),["stop"]))},We,512),[[O,_(f).some(I=>I==l.matchOffer._id)]]),r(t("div",{class:"fav_icon",onClick:y[1]||(y[1]=se(I=>ce(),["stop"]))},Ze,512),[[O,!_(f).some(I=>I==l.matchOffer._id)]])])),e.is_archived_view?(o(),c("div",et,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":h.$t("widget.matchOfferCard.unarchive"),onClick:y[2]||(y[2]=se(I=>Ee(),["stop"]))},[v($,{icon:"undo",class:"mr-1 text-primary"})],8,tt)])):C("",!0)])])]),t("div",st,[t("p",lt,[R(b((de=(H=e.matchOffer)==null?void 0:H.company)==null?void 0:de.name)+" ",1),at])]),t("div",it,[t("div",nt,[t("ul",{class:"icon-list mt-0",onClick:y[3]||(y[3]=se(()=>{},["stop"]))},[((ue=e.matchOffer.meta)==null?void 0:ue.location)?(o(),c("li",ot,[v($,{icon:"map-marker-alt",class:"text-dark-gray"}),t("span",null,b((he=(pe=e.matchOffer.meta)==null?void 0:pe.location)==null?void 0:he.name),1)])):C("",!0),_(d)!=""?(o(),c("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":h.$t(`dashboard.opportunities.contractType.${_(d)}`)},[v($,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,b(h.$t(`dashboard.opportunities.contractType.${_(d)}`).split(" ").map(I=>I.charAt(0).toUpperCase()).join("")),1)],8,rt)):C("",!0),_(m)!=""?(o(),c("li",ct,[v($,{icon:_(n),class:"text-dark-gray"},null,8,["icon"]),R(" "+b(_(m)),1)])):C("",!0)])]),t("div",dt,[_(i).length>1?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(i).map(I=>h.$t(`searchEngine.filters.remote.${I}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ut)):_(i).length==1?r((o(),c("span",pt,null,512)),[[E,`searchEngine.filters.remote.${_(i)[0]}`]]):C("",!0),_(p).length>1?(o(),c("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(p).map(I=>h.$t(`searchEngine.filters.flexibility.${I}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,ht)):_(p).length==1?r((o(),c("span",ft,null,512)),[[E,`searchEngine.filters.flexibility.${_(p)[0]}`]]):C("",!0),t("div",_t,[r(t("span",mt,null,512),[[E,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":h.$t("widget.matchOfferCard.matching-popover"),style:ge(_(U))},[e.user?(o(),c(w,{key:0},[R(b(e.matchOffer.percentage),1)],64)):(o(),c("i",yt)),bt],12,gt)])])])])])],10,Fe)}}}),M=j({props:{hideBorder:null},setup(e){return(s,l)=>(o(),c("div",{class:K(["py-3 position-relative",{"border-bottom":!e.hideBorder}])},[Re(s.$slots,"default")],2))}}),$t={class:"mb-2"},Ot={class:"fs-16 fw-bold"},kt={class:"py-2 fs-14"},St={class:"fs-14"},wt={class:"dropdown-item py-2"},qt={class:"dropdown-item py-2"},Et={class:"dropdown-item py-2"},At={class:"mb-0"},jt=["onClick"],Lt=t("i",{class:"fas fa-times ms-1"},null,-1),Ct=j({emits:["updateApiQuery"],setup(e,{emit:s}){const l=W();let a=X([]);const f="remote";if(l.query.remote){let i=[];typeof l.query.remote=="string"?i.push(l.query.remote):i=l.query.remote,a.splice(0,0,...i)}me(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(n){return new Me(n)})});const g=async i=>{let n=Object.assign({},l.query);a.indexOf(i)===-1?(a.push(i),n[f]=a.toString()):(a.splice(i,1),a.length==0?delete n[f]:n[f]=a.toString()),p()},u=i=>{let n=Object.assign({},l.query);const d=a.indexOf(i);a.splice(d,1),a.length==0?delete n[f]:n[f]=a.toString(),p()},p=async i=>{s("updateApiQuery",f,a)};return(i,n)=>{const d=L("t");return o(),x(M,null,{default:S(()=>[t("p",$t,[r(t("span",Ot,null,512),[[d,"searchEngine.filters.remote.title"]])]),v(ee,null,{dropdown_btn:S(()=>[t("div",kt,[r(t("span",null,null,512),[[d,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",St,[t("li",{class:"clickable",onClick:n[0]||(n[0]=m=>g("full_remote"))},[r(t("span",wt,null,512),[[d,"searchEngine.filters.remote.full_remote"]])]),t("li",{class:"clickable",onClick:n[1]||(n[1]=m=>g("hybrid"))},[r(t("span",qt,null,512),[[d,"searchEngine.filters.remote.hybrid"]])]),t("li",{class:"clickable",onClick:n[2]||(n[2]=m=>g("nomad"))},[r(t("span",Et,null,512),[[d,"searchEngine.filters.remote.nomad"]])])])]),_:1}),r(t("p",At,[(o(!0),c(w,null,T(_(a),(m,k)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:k,onClick:U=>u(m)},[R(b(i.$t(`searchEngine.filters.remote.${m}`))+" ",1),Lt],8,jt))),128))],512),[[O,_(a).length!=0]])]),_:1})}}}),Dt=j({data(){return{lang:"",search:"",awaitingSearch:!1,results:[],optionsActives:[[]],selectedOptionsActives:[],open:!1}},directives:{clickOutside:Ie.directive,debounce:ye.exports.getDirective("3")},props:{options:{type:Array,default:[]},values:{type:Array,default:[]},propertyToValidate:{type:String,default:"_id"},propertyName:{type:String,default:"name"},placeholder:{type:String,default:""},requestLevel:{type:Array,default:[]},replaceURL:{type:String,default:":id"},attrToReplaceRequestURL:{type:String,default:"_id"},searchURL:{type:String,default:"/locations/searchLocation/"},allItems:{type:Array,default:[]},allItemsSelectable:{type:Boolean,default:!1},saveObject:{type:Boolean,default:!1},closeOnSaveSearched:{type:Boolean,default:!1}},watch:{options:function(e){this.optionsActives[0]=e}},computed:oe(Q({},Z("auth",["userData"])),{itemsList(){return this.optionsActives[this.level-1]},level(){return this.optionsActives.length},selectedOptionActive(){return this.level<=1?{}:this.selectedOptionsActives[this.level-2]}}),mounted(){this.lang=this.userData.language?this.userData.language:"en",Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),e=>new ke(e)),this.optionsActives[0]=this.options},methods:{openOptions(){this.open=!0},closeOptions(){this.open=!1},scrollToTop(){Array.prototype.forEach.call(document.querySelectorAll("#searchable-list__content-scroll .simplebar-content-wrapper"),e=>e.scrollTop=0)},validateClassOrder1(e){return this.allItems.includes(e[this.propertyName])||this.allItems.includes(e==null?void 0:e.name_en)||this.allItems.includes(e==null?void 0:e._id)},fetchResults(){this.axios.get(this.searchURL+this.search,{params:{lang:this.lang}}).then(e=>{this.results=(e==null?void 0:e.data)?e.data:[]}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".searched-scroll"),e=>new ke(e))})},validateSearchedItem(e,s){return this.results.length==1?this.values[this.values.length-1].includes(e[this.propertyToValidate].toString()):this.values[s].includes(e[this.propertyToValidate].toString())},closeSearchedList(){this.search="",this.results=[]},async clickItem(e){if(this.requestLevel.length>this.level-1){if(e.subMenu){const l=e.subMenu;this.optionsActives.push(l)}else{const l=this.requestLevel[this.level-1].replace(this.replaceURL,e[this.attrToReplaceRequestURL]);await this.axios.get(l,{params:{lang:this.lang}}).then(a=>{const f=a.data;this.optionsActives.push(f)})}let s=Object.assign({},e);delete s.subMenu,this.selectedOptionsActives.push(s),this.scrollToTop()}else this.saveData(e)},returnTitleName(e){return this.level<=1?this.returnNameItem(e):this.returnNameItem(this.selectedOptionActive)},returnNameItem(e){let s="";return e&&(e.hasOwnProperty(this.propertyName)?s=e[this.propertyName]:(e==null?void 0:e.name_fr)&&this.lang=="fr"?s=e.name_fr:(e==null?void 0:e.name_en)&&this.lang=="en"?s=e.name_en:(e==null?void 0:e.name_es)&&this.lang=="es"&&(s=e.name_es)),s},returnLevel(){this.optionsActives.pop(),this.selectedOptionsActives.pop()},saveData(e){let s=this.selectedOptionsActives;s.push(e),this.saveObject&&(s=e),this.$emit("selectOption",s)},saveSearched(e,s){this.closeOnSaveSearched&&this.closeSearchedList(),this.$emit("selectSearchedOption",e,s)}}}),Tt={class:"searchable-list position-relative"},Rt=["placeholder"],It={class:"position-absolute w-100 bg-white",style:{"z-index":"1"}},Nt={key:0,class:"list-group searched-scroll",style:{height:"250px",overflow:"auto"}},xt=["onClick"],Mt={class:"ms-2 me-auto"},Ut=t("i",{class:"far fa-square"},null,-1),Ft=[Ut],Qt=t("i",{class:"fas fa-check-square"},null,-1),Bt=[Qt],Vt=["id"],Pt=t("span",{class:"ps-3 pe-2"},[t("i",{class:"far fa-angle-left"})],-1),Jt={class:"ms-2 me-auto"},zt={key:0,class:"order-12 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable"},Yt=t("i",{class:"far fa-angle-left"},null,-1),Gt=[Yt],Ht=["onClick"],Kt={class:"ms-2 me-auto"},Wt=t("i",{class:"far fa-square"},null,-1),Xt=[Wt],Zt=t("i",{class:"fas fa-check-square"},null,-1),es=[Zt],ts=["onClick"],ss={class:"ms-2 me-auto"},ls=t("i",{class:"far fa-square"},null,-1),as=[ls],is=t("i",{class:"fas fa-check-square"},null,-1),ns=[is],os=t("i",{class:"far fa-angle-right"},null,-1),rs=[os];function cs(e,s,l,a,f,g){const u=L("debounce"),p=L("click-outside");return r((o(),c("div",Tt,[r(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>e.search=i),class:"form-control searchable-list__input mb-1",placeholder:e.placeholder,onFocus:s[1]||(s[1]=(...i)=>e.openOptions&&e.openOptions(...i))},null,40,Rt),[[le,e.search],[u,e.fetchResults,"1s"]]),r(t("div",It,[e.results.length!=0?(o(),c("ul",Nt,[(o(!0),c(w,null,T(e.results,(i,n)=>(o(),c(w,{key:"results-"+n},[(o(!0),c(w,null,T(i,(d,m)=>r((o(),c("li",{class:"list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",key:`results-index${n}${m}`,onClick:k=>e.saveSearched(d,n)},[t("div",Mt,b(e.returnNameItem(d)),1),r(t("span",null,Ft,512),[[O,!e.validateSearchedItem(d,n)]]),r(t("span",null,Bt,512),[[O,e.validateSearchedItem(d,n)]])],8,xt)),[[O,i]])),128))],64))),128))])):C("",!0)],512),[[O,e.results.length!=0],[p,e.closeSearchedList]]),t("div",{class:K(["searchable-list__options",{open:e.open}])},[t("ul",{id:e.open?"searchable-list__content-scroll":"",class:"list-group custom-scroll",style:{height:"100%",overflow:"auto"}},[e.open?(o(),c(w,{key:0},[e.allItems.length==0&&e.level>1?(o(),c("li",{key:0,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:s[2]||(s[2]=(...i)=>e.returnLevel&&e.returnLevel(...i))},[Pt,t("div",Jt,b(e.returnNameItem(e.selectedOptionsActives[e.level-2])),1)])):C("",!0),(o(!0),c(w,null,T(e.itemsList,(i,n)=>(o(),c(w,{key:"list-"+n},[i&&e.validateClassOrder1(i)?(o(),c("li",zt,[e.level>1?(o(),c("span",{key:0,class:"ps-3 pe-2",onClick:s[3]||(s[3]=(...d)=>e.returnLevel&&e.returnLevel(...d))},Gt)):C("",!0),t("div",{class:"d-flex flex-grow-1",onClick:d=>e.saveData(i)},[t("div",Kt,b(e.returnTitleName(i)),1),r(t("span",null,Xt,512),[[O,e.allItemsSelectable&&!e.values[e.level-1].includes(i[e.propertyToValidate].toString())]]),r(t("span",null,es,512),[[O,e.allItemsSelectable&&e.values[e.level-1].includes(i[e.propertyToValidate].toString())]])],8,Ht)])):i&&!e.validateClassOrder1(i)?(o(),c("li",{key:1,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:d=>e.clickItem(i)},[t("div",ss,b(e.returnNameItem(i)),1),r(t("span",null,as,512),[[O,e.requestLevel.length==e.level-1&&!e.values[e.level-1].includes(i[e.propertyToValidate].toString())]]),r(t("span",null,ns,512),[[O,e.requestLevel.length==e.level-1&&e.values[e.level-1].includes(i[e.propertyToValidate].toString())]]),r(t("span",null,rs,512),[[O,e.requestLevel.length!=e.level-1]])],8,ts)):C("",!0)],64))),128))],64)):C("",!0)],8,Vt)],2)],512)),[[p,e.closeOptions]])}var te=F(Dt,[["render",cs]]);const ds=j({components:{FilterLayout:M,SearchableList:te},data(){return{options:[],filtersNames:[],filters:[]}},created(){if(this.axios.get("/locations/getContinents").then(e=>{this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>{let s=[].concat(e.data.contients,e.data.countries,e.data.regions,e.data.cities);this.filtersNames=s})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.filters.indexOf(e._id.toString());l===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.filtersNames.push(e)):(this.filters.splice(l,1),this.filtersNames=this.filtersNames.filter(a=>a._id!=e._id&&a.property_name!=e.property_name),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){const s=e.pop();this.filter(s)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)}}}),us={class:"mb-2"},ps={class:"fs-16 fw-bold"},hs={class:"mb-0"},fs=["onClick"],_s=t("i",{class:"fas fa-times ms-1"},null,-1);function ms(e,s,l,a,f,g){const u=A("SearchableList"),p=A("FilterLayout"),i=L("t");return o(),x(p,null,{default:S(()=>[t("p",us,[r(t("span",ps,null,512),[[i,"searchEngine.filters.location.title"]])]),v(u,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",hs,[(o(!0),c(w,null,T(e.filtersNames,(n,d)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+d,onClick:m=>e.removeFilter(n)},[R(b(n.name)+" ",1),_s],8,fs))),128))],512),[[O,e.filtersNames.length!=0]])]),_:1})}var gs=F(ds,[["render",ms]]);const ys=j({components:{FilterLayout:M,SearchableList:te},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"job_reference",filterObjs:[],job_reference:[],lang:"fr",activeDevfilter:!1}},watch:{clear:function(){this.clear&&(this.filterObjs=[],this.job_reference=[],this.$emit("clearLock"),this.$emit("activeDevelopment",!1))}},mounted(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(s){return new Ue(s)})},async created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query.job_reference){let s=[];typeof this.$route.query.job_reference=="string"?s.push(this.$route.query.job_reference):s=this.$route.query.job_reference,this.job_reference=this.job_reference.concat(s)}this.job_reference.length>0&&await this.check_filter_obj(),this.filterObjs.length>0&&(this.filterObjs.some(s=>s.job_reference_sub_category=="62312eb71cccbfccd84b3ced")||this.filterObjs.some(s=>s.name_en=="Development"))&&(this.activeDevfilter=!0,this.$emit("activeDevelopment",this.activeDevfilter))},methods:{async filter(e){var f;let s="";this.job_reference.indexOf(e._id.toString())!==-1&&(s="delete"),console.log(e);let l=Object.assign({},this.$route.query);e.name_en.includes("All categories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All subcategories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All references")&&s!="delete"&&(this.job_reference=[],this.filterObjs=[]),(e._id=="62312eb71cccbfccd84b3ced"||((f=e.job_reference_sub_category)==null?void 0:f.name_en)=="Development")&&(this.activeDevfilter=!0);const a=this.job_reference.indexOf(e._id.toString());a===-1?(this.job_reference.push(e._id.toString()),l[this.filter_name]=this.job_reference.toString(),this.check_filter_obj()):(this.job_reference.splice(a,1),this.check_filter_obj(),this.job_reference.length==0?delete l[this.filter_name]:l[this.filter_name]=this.job_reference.toString()),this.$emit("activeDevelopment",this.activeDevfilter),this.$emit("updateApiQuery",this.filter_name,this.job_reference)},clear_oid(e){let s="";return e.includes("0-")&&(s=e.split("-")[1]),s},async check_filter_obj(){await this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(e=>{this.filterObjs=e.data})},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),bs={class:"mb-2"},vs={class:"fs-16 fw-bold"},$s={class:"mb-0"},Os=["onClick"],ks=["data-bs-content"],Ss={key:1},ws=t("i",{class:"fas fa-times ms-1"},null,-1);function qs(e,s,l,a,f,g){const u=A("SearchableList"),p=A("FilterLayout"),i=L("t");return o(),x(p,null,{default:S(()=>[t("p",bs,[r(t("span",vs,null,512),[[i,"searchEngine.filters.job_refence.title"]])]),v(u,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItems:["All categories","All subcategories","All references"],allItemsSelectable:!0,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",$s,[(o(!0),c(w,null,T(e.filterObjs,n=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+n._id,onClick:d=>e.filter(n)},[e.show_item(e.lang,n).length>10?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-placement":"bottom","data-bs-content":e.show_item(e.lang,n)},b(e.show_item(e.lang,n).substr(0,10))+"... ",9,ks)):(o(),c("span",Ss,b(e.show_item(e.lang,n)),1)),ws],8,Os))),128))],512),[[O,e.filterObjs.length!=0]])]),_:1})}var Es=F(ys,[["render",qs]]);const As=j({components:{FilterLayout:M,SearchableList:te},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr"}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.industries.indexOf(e._id.toString());l===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(l,1),this.industries_objs=this.industries_objs.filter(a=>a._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),js={class:"mb-2"},Ls={class:"fs-16 fw-bold"},Cs={class:"mb-0"},Ds=["onClick"],Ts=t("i",{class:"fas fa-times ms-1"},null,-1);function Rs(e,s,l,a,f,g){const u=A("SearchableList"),p=A("FilterLayout"),i=L("t");return o(),x(p,null,{default:S(()=>[t("p",js,[r(t("span",Ls,null,512),[[i,"searchEngine.filters.industries.title"]])]),v(u,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),r(t("p",Cs,[(o(!0),c(w,null,T(e.industries_objs,n=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_industry-"+n._id,onClick:d=>e.filter(n)},[r(t("span",null,b(n.name_fr),513),[[O,e.lang=="fr"]]),r(t("span",null,b(n.name_en),513),[[O,e.lang=="en"]]),r(t("span",null,b(n.name_es),513),[[O,e.lang=="es"]]),Ts],8,Ds))),128))],512),[[O,e.industries_objs.length!=0]])]),_:1})}var Is=F(As,[["render",Rs]]);const Ns=j({components:{FilterLayout:M,SearchableList:te},data(){return{options:[],filter_name:"companies",companies_objs:[],companies:[]}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query.companies)if(typeof this.$route.query.companies=="string"){const e=[];e.push(this.$route.query.companies),this.companies=e}else this.companies=this.$route.query.companies;this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.companies.indexOf(e._id.toString());l===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(l,1),this.companies_objs=this.companies_objs.filter(a=>a._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)}}}),xs={class:"mb-2"},Ms={class:"fs-16 fw-bold"},Us={class:"mb-0"},Fs=["onClick"],Qs=t("i",{class:"fas fa-times ms-1"},null,-1);function Bs(e,s,l,a,f,g){const u=A("SearchableList"),p=A("FilterLayout"),i=L("t");return o(),x(p,null,{default:S(()=>[t("p",xs,[r(t("span",Ms,null,512),[[i,"searchEngine.filters.company.title"]])]),v(u,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,searchURL:"/company/searchCompanies/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",Us,[(o(!0),c(w,null,T(e.companies_objs,n=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+n._id,onClick:d=>e.filter(n)},[R(b(n.name)+" ",1),Qs],8,Fs))),128))],512),[[O,e.companies_objs.length!=0]])]),_:1})}var Vs=F(Ns,[["render",Bs]]);const Ps={class:"mb-2"},Js={class:"fs-16 fw-bold"},zs={class:"py-2 fs-14"},Ys={class:"fs-14"},Gs=["onClick"],Hs={class:"dropdown-item py-2"},Ks={class:"mb-0"},Ws=["onClick"],Xs=R(),Zs=t("i",{class:"fas fa-times ms-1"},null,-1),el=j({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=W();let a=X([]);const f=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],g="contract";if(l.query.contract){let n=[];typeof l.query.contract=="string"?n.push(l.query.contract):n=l.query.contract,a.splice(0,0,...n)}const u=async n=>{let d=Object.assign({},l.query);const m=a.indexOf(n);m===-1?(a.push(n),d[g]=a.toString()):(a.splice(m,1),a.length==0?delete d[g]:d[g]=a.toString()),i()},p=n=>{let d=Object.assign({},l.query);const m=a.indexOf(n);a.splice(m,1),a.length==0?delete d[g]:d[g]=a.toString(),i()},i=async n=>{s("updateApiQuery",g,a)};return(n,d)=>{const m=L("t");return o(),x(M,{id:"filter-contrat"},{default:S(()=>[t("p",Ps,[r(t("span",Js,null,512),[[m,"searchEngine.filters.contract.title"]])]),v(ee,null,{dropdown_btn:S(()=>[t("div",zs,[r(t("span",null,null,512),[[m,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",Ys,[(o(),c(w,null,T(f,k=>t("li",{class:"clickable",onClick:U=>u(k)},[r(t("span",Hs,null,512),[[m,`searchEngine.filters.contract.${k}`]])],8,Gs)),64))])]),_:1}),r(t("p",Ks,[(o(!0),c(w,null,T(_(a),(k,U)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:U,onClick:ne=>p(k)},[r(t("span",null,null,512),[[m,`searchEngine.filters.contract.${k}`]]),Xs,Zs],8,Ws))),128))],512),[[O,_(a).length!=0]])]),_:1})}}}),tl={class:"mb-2"},sl={class:"fs-16 fw-bold"},ll={class:"custom-scroll",style:{"max-height":"205px"}},al={class:"form-check mt-2 d-flex fs-14"},il=["checked","id","value","onClick"],nl=["for"],ol=j({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=W();let a=X([]);const f="flexibility";if(l.query.flexibility){let u=[];typeof l.query.flexibility=="string"?u.push(l.query.flexibility):u=l.query.flexibility,a.splice(0,0,...u)}const g=async u=>{let p=Object.assign({},l.query);const i=a.indexOf(u);i===-1?(a.push(u),p[f]=a.toString()):(a.splice(i,1),a.length==0?delete p[f]:p[f]=a.toString()),s("updateApiQuery",f,a)};return(u,p)=>{const i=L("t");return o(),x(M,null,{default:S(()=>[t("p",tl,[r(t("span",sl,null,512),[[i,"searchEngine.filters.flexibility.title"]]),t("span",{class:K(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",_(a).length>9?"px-1":"px-2"])},b(_(a).length),3)]),t("div",ll,[(o(!0),c(w,null,T(Object.keys(_(qe)),n=>(o(),c("div",al,[t("input",{class:"form-check-input",checked:_(a).includes(n),type:"checkbox",id:n,value:n,onClick:d=>g(n)},null,8,il),r(t("label",{class:"form-check-label",for:n},null,8,nl),[[i,`searchEngine.filters.flexibility.${n}`]])]))),256))])]),_:1})}}}),rl={class:"mb-2"},cl={class:"fs-16 fw-bold"},dl={class:"py-2 fs-14"},ul={class:"fs-14"},pl=["onClick"],hl={class:"dropdown-item"},fl={class:"mb-0"},_l=["onClick"],ml=R(),gl=t("i",{class:"fas fa-times ms-1"},null,-1),yl=j({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=W();let a=X([]);const f=["internships","entry_level","junior","mid_level","senior","expert"],g="experience";if(l.query.experience){let n=[];typeof l.query.experience=="string"?n.push(l.query.experience):n=l.query.experience,a.splice(0,0,...n)}const u=async n=>{let d=Object.assign({},l.query);const m=a.indexOf(n);m===-1?(a.push(n),d[g]=a.toString()):(a.splice(m,1),a.length==0?delete d[g]:d[g]=a.toString()),i()},p=n=>{let d=Object.assign({},l.query);const m=a.indexOf(n);a.splice(m,1),a.length==0?delete d[g]:d[g]=a.toString(),i()},i=async n=>{s("updateApiQuery",g,a)};return(n,d)=>{const m=L("t");return o(),x(M,null,{default:S(()=>[t("p",rl,[r(t("span",cl,null,512),[[m,"searchEngine.filters.experience.title"]])]),v(ee,null,{dropdown_btn:S(()=>[t("div",dl,[r(t("span",null,null,512),[[m,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",ul,[(o(),c(w,null,T(f,k=>t("li",{class:"clickable",onClick:U=>u(k)},[r(t("span",hl,null,512),[[m,`searchEngine.filters.experience.${k}`]])],8,pl)),64))])]),_:1}),r(t("p",fl,[(o(!0),c(w,null,T(_(a),(k,U)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:U,onClick:ne=>p(k)},[r(t("span",null,null,512),[[m,`searchEngine.filters.experience.${k}`]]),ml,gl],8,_l))),128))],512),[[O,_(a).length!=0]])]),_:1})}}}),bl=j({components:{FilterLayout:M,SearchableList:te},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.languages.indexOf(e._id.toString());l===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(l,1),this.filter_objs=this.filter_objs.filter(a=>a._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),vl={class:"mb-2"},$l={class:"fs-16 fw-bold"},Ol={class:"mb-0"},kl=["onClick"],Sl=t("i",{class:"fas fa-times ms-1"},null,-1);function wl(e,s,l,a,f,g){const u=A("SearchableList"),p=A("FilterLayout"),i=L("t");return o(),x(p,null,{default:S(()=>[t("p",vl,[r(t("span",$l,null,512),[[i,"searchEngine.filters.languages.title"]])]),v(u,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.languages],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",Ol,[(o(!0),c(w,null,T(e.filter_objs,n=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+n._id,onClick:d=>e.filter(n)},[r(t("span",null,b(n.name_fr),513),[[O,e.lang=="fr"]]),r(t("span",null,b(n.name_en),513),[[O,e.lang=="en"]]),r(t("span",null,b(n.name_es),513),[[O,e.lang=="es"]]),Sl],8,kl))),128))],512),[[O,e.filter_objs.length!=0]])]),_:1})}var ql=F(bl,[["render",wl]]);const El={class:"mb-2"},Al={class:"fs-16 fw-bold"},jl={class:"py-2 fs-14"},Ll={class:"fs-14"},Cl=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),Dl=[Cl],Tl=t("span",{class:"dropdown-item"},"USD ($)",-1),Rl=[Tl],Il={class:"input-group my-2 position-relative"},Nl=["placeholder"],xl={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Ml={class:"my-1"},Ul={class:"input-group mb-1 position-relative"},Fl=["min","placeholder"],Ql={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Bl=j({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=W();let a=X({currency:"Euro",salary_min:null,salary_max:null});const f=N(()=>a.currency=="Euro"?"\u20AC":"$");l.query.currency&&(a.currency=l.query.currency.toString()),l.query.salary_min&&(a.salary_min=l.query.salary_min.toString()),l.query.salary_max&&(a.salary_max=l.query.salary_max.toString());const g=p=>{a.currency=p,u("currency")},u=async p=>{let i=Object.assign({},l.query);!a[p]||a[p].length==0?delete i[p]:i[p]=a[p],p!="currency"&&s("updateApiQuery","currency",a.currency),s("updateApiQuery",p,a[p])};return(p,i)=>{const n=L("t");return o(),x(M,{hideBorder:!0},{default:S(()=>[t("p",El,[r(t("span",Al,null,512),[[n,"searchEngine.filters.salary.title"]])]),v(ee,null,{dropdown_btn:S(()=>[t("div",jl,[t("span",null,b(_(a).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)])]),dropdown_li:S(()=>[t("ul",Ll,[t("li",{class:"clickable",onClick:i[0]||(i[0]=d=>g("EUR"))},Dl),t("li",{class:"clickable",onClick:i[1]||(i[1]=d=>g("USD"))},Rl)])]),_:1}),t("div",Il,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":i[2]||(i[2]=d=>_(a).salary_min=d),onBlur:i[3]||(i[3]=d=>u("salary_min")),placeholder:p.$t("searchEngine.filters.salary.min")},null,40,Nl),[[le,_(a).salary_min]]),t("span",xl,b(_(f)),1)]),r(t("p",Ml,null,512),[[n,"searchEngine.filters.salary.to"]]),t("div",Ul,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":i[4]||(i[4]=d=>_(a).salary_max=d),min:_(a).salary_min?_(a).salary_min:"1000",onBlur:i[5]||(i[5]=d=>u("salary_max")),placeholder:p.$t("searchEngine.filters.salary.max")},null,40,Fl),[[le,_(a).salary_max]]),t("span",Ql,b(_(f)),1)])]),_:1})}}});const Vl={id:"search-engine__filters",class:"bg-white p-3 card"},Pl={class:"filters__header border-bottom"},Jl={class:"mb-2"},zl={class:"fs-16 fw-bold ff-nexa"},Yl={class:"text-center filters__btn-filter px-4"},Gl={key:0,class:"btn btn-primary w-100 py-2"},Hl=t("span",null," 4 204 ",-1),Kl={key:1,class:"btn btn-primary w-100 py-2"},Wl=j({emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const l=window.localStorage.getItem("accessToken"),a=(g,u)=>{s("updateApiQuery",g,u)},f=()=>{s("clearApiQuery")};return(g,u)=>{const p=A("i18n-t"),i=L("t");return o(),c("div",Vl,[t("div",Pl,[t("p",Jl,[r(t("span",zl,null,512),[[i,"searchEngine.filters.title"]]),r(t("span",{class:"fs-12 float-end clickable",onClick:f},null,512),[[i,"searchEngine.filters.erase"]])])]),v(Ct,{onUpdateApiQuery:a}),v(gs,{onUpdateApiQuery:a}),v(Es,{onUpdateApiQuery:a}),v(Is,{onUpdateApiQuery:a}),v(Vs,{onUpdateApiQuery:a}),v(el,{onUpdateApiQuery:a}),v(ol,{onUpdateApiQuery:a}),v(yl,{onUpdateApiQuery:a}),v(ql,{onUpdateApiQuery:a}),v(Bl,{onUpdateApiQuery:a}),t("div",Yl,[_(l)?r((o(),c("button",Kl,null,512)),[[i,"searchEngine.filters.save_filters"]]):(o(),c("button",Gl,[v(p,{keypath:"searchEngine.filters.filter"},{cant:S(()=>[Hl]),_:1})]))])])}}}),Xl=j({name:"ModalEmailAlerts",props:{query_alert:{type:Object,required:!0}},directives:{debounce:ye.exports.getDirective("3")},data(){return{email:"",valid_email:0,modalAlertShow:!1,error:!1}},computed:Q({},Z("auth",["userData","accessToken"])),mounted(){this.accessToken||this.delayModalEmailAlert()},methods:{showModal(e){new Oe(document.getElementById(e)).show()},hideModal(e){new Oe(document.getElementById(e)).hide()},delayModalEmailAlert(){setInterval(()=>{!this.accessToken&&this.modalAlertShow==!1&&(this.showModal("saveAlertModal"),this.modalAlertShow=!0)},5e3)},validate_email(){console.log("validate_email");const e=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g;this.email.match(e)?this.valid_email=1:this.valid_email=0},async createFirstAlert(e,s){let l={alert:this.query_alert,email:e.email,email_verified:e.email_verified,authid:e._id,password:s};await this.axios.patch("/alert/create_first_alert",l).then(a=>{console.log(a)}).catch(a=>{Se.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},async signupUser(){let e=await this.randomPassword(),s={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",connection:"Username-Password-Authentication",email:this.email,password:e,username:this.email.split("@",8)[0].substring(0,15)};this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/signup",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:s}).then(l=>this.createFirstAlert(l.data,e)).catch(l=>{this.error=!0,Se.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},randomPassword(){var e=`${Math.random().toString(36).slice(-6)}3$`;return e}}}),Zl={class:"modal fade",id:"saveAlertModal",tabindex:"-1","aria-labelledby":"saveAlertModalLabel","aria-hidden":"true"},ea={class:"modal-dialog modal-dialog-centered modal-lg"},ta={class:"modal-content"},sa={class:"modal-header border-transparent pb-0"},la={class:"modal-body px-5"},aa={class:"text-left fw-bold fs-16"},ia=R(" \xA0 "),na=t("u",null,"Gerente IT ",-1),oa=R(" - "),ra=t("u",null,"Remote",-1),ca=R(" - "),da=t("u",null,"France",-1),ua={class:"text-left fs-14"},pa={class:"w-50"},ha={class:"form-label text-primary fw-bold"},fa={class:"input-group mb-3"},_a={class:"text-left"},ma={class:"modal-footer fs-12"},ga={class:"modal fade",id:"alertMerciModal",tabindex:"-1","aria-labelledby":"alertMerciModalLabel","aria-hidden":"true"},ya={class:"modal-dialog modal-dialog-centered modal-lg"},ba={class:"modal-content"},va={class:"modal-header"},$a={key:0,class:"modal-title fw-bold fs-16"},Oa={key:1,class:"modal-title fw-bold fs-16"},ka=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Sa={class:"modal-body"},wa={key:0,class:"text-left fs-14"},qa={key:1,class:"text-left fs-14"},Ea={key:2,class:"text-left fs-14"};function Aa(e,s,l,a,f,g){const u=L("t"),p=L("debounce");return o(),c(w,null,[t("div",Zl,[t("div",ea,[t("div",ta,[t("div",sa,[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=i=>e.modalAlertShow=!1)})]),t("div",la,[t("p",aa,[r(t("span",null,null,512),[[u,"emailAlert.modalAlert.title"]]),ia,na,oa,ra,ca,da]),r(t("p",ua,null,512),[[u,"emailAlert.modalAlert.subTitle"]]),t("div",pa,[r(t("label",ha,null,512),[[u,"emailAlert.modalAlert.label"]]),t("div",fa,[r(t("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=i=>e.email=i),class:"form-control",name:"email"},null,512),[[p,e.validate_email,"700ms"],[le,e.email]])])]),t("div",_a,[r(t("button",{class:K(["btn btn-primary",{disabled:!e.valid_email}]),type:"button","data-bs-toggle":"modal","data-bs-target":"#alertMerciModal",onClick:s[2]||(s[2]=i=>e.signupUser())},null,2),[[u,"emailAlert.modalAlert.send"]])])]),t("div",ma,[r(t("p",null,null,512),[[u,"emailAlert.modalAlert.footer"]])])])])]),t("div",ga,[t("div",ya,[t("div",ba,[t("div",va,[e.error?r((o(),c("p",Oa,null,512)),[[u,"emailAlert.error"]]):r((o(),c("p",$a,null,512)),[[u,"emailAlert.modalMerci.title"]]),ka]),t("div",Sa,[e.error?C("",!0):r((o(),c("p",wa,null,512)),[[u,"emailAlert.modalMerci.text1"]]),e.error?r((o(),c("p",Ea,null,512)),[[u,"emailAlert.error"]]):r((o(),c("p",qa,null,512)),[[u,"emailAlert.modalMerci.text2"]])])])])])],64)}var ja=F(Xl,[["render",Aa]]);const La=j({name:"SearchEngine",components:{MatchOfferCard:vt,Filters:Wl,DropdownVanilla:ee,ModalEmailAlerts:ja},props:{filters:{type:Object,required:!1}},setup(){function e(s){let l=s;return function(a,f){clearTimeout(l),l=setTimeout(()=>{a()},f||500)}}return{debounce:e(null)}},data(){return{matchOfferType:V.Opportunity,joboffers:[],query_api:{sort:"Date"},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!0,page:1,loading:!0,loading_more:!1,query_alert:[],countResult:0}},computed:Q(Q({},Z("auth",["userData","accessToken"])),Z("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},async created(){this.setLayout("BaseLayout"),await this.setquery()},mounted(){},methods:oe(Q({},be(["setLayout"])),{sort(e){this.query_api.sort=e,this.can_scroll&&(this.can_scroll=!1,this.loading=!0,this.update_query_api("sort",e))},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s,this.query_alert=this.query_api,this.loading_more||(this.loading=!0,this.query_api.page=1,this.page=1)},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://jobgether-filter-dev.azurewebsites.net",params:this.query_api}).then(e=>{this.joboffers=e.data.data,this.countResult=e.data.total}).finally(()=>{this.loading=!1,this.loading_more=!1,this.can_scroll=!0;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",params:{id:e._id}})},update_url_query(e){this.$router.push({query:e}).catch(s=>{s.name!=="NavigationDuplicated"&&console.log(s)})},clear_api_query(){this.query_api={sort:"Date"},this.update_url_query(this.query_api)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}},setquery(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let l=[];Array.isArray(e[s])?l=e[s]:l.push(e[s]),this.query_api[s]=l}}}})}),Ca={class:"container"},Da={class:"row gx-3"},Ta={class:"col-12 col-lg-10 col-xl-9 offset-lg-2 offset-xl-3 ff-nexa"},Ra={class:"fw-medium mb-2 ff-nexa-bold"},Ia={class:"d-flex flex-column flex-lg-row"},Na={class:"flex-grow-1"},xa={class:"mb-1 pt-1"},Ma={class:"d-flex flex-row-reverse"},Ua={class:"row"},Fa={for:"sort",class:"col col-form-label p-0 pt-1"},Qa={class:"col px-0 position-relative"},Ba={class:"pt-1"},Va={class:"text-primary"},Pa={class:""},Ja={class:"dropdown-item"},za={class:"dropdown-item"},Ya={class:"row gx-3 flex-column-reverse flex-lg-row"},Ga={class:"col-10 col-md-6 col-lg-3 offset-1 offset-md-3 offset-lg-0 my-2"},Ha={class:"col-12 col-lg-9"},Ka={key:0,class:"d-flex flex-column"},Wa={key:1,class:"col-12 col-lg-12 d-flex justify-content-center align-items-center"},Xa=t("div",{class:"spinner-border",role:"status"},null,-1),Za=[Xa],ei={key:1,class:"text-center mt-5 fw-medium"},ti={key:1,class:"col-12 col-lg-9 d-flex justify-content-center align-items-center"},si=t("div",{class:"spinner-border",role:"status"},null,-1),li=[si];function ai(e,s,l,a,f,g){const u=A("i18n-t"),p=A("DropdownVanilla"),i=A("Filters"),n=A("MatchOfferCard"),d=A("ModalEmailAlerts"),m=L("t");return o(),c("div",Ca,[t("div",Da,[t("div",Ta,[t("p",Ra,[v(u,{keypath:"searchEngine.cantJobs"},{cant:S(()=>[t("span",null,b(e.countResult),1)]),_:1})]),t("div",Ia,[t("div",Na,[r(t("p",xa,null,512),[[m,"searchEngine.cantJobs_subtitle"]])]),t("div",Ma,[t("div",Ua,[r(t("label",Fa,null,512),[[m,"searchEngine.sort"]]),t("div",Qa,[v(p,{button_bg_color:"transparent"},{dropdown_btn:S(()=>[t("div",Ba,[t("span",Va,b(e.query_api.sort),1)])]),dropdown_li:S(()=>[t("ul",Pa,[t("li",{class:"clickbale",onClick:s[0]||(s[0]=k=>e.sort("Date"))},[r(t("span",Ja,null,512),[[m,"searchEngine.sort_dropdown.date"]])]),t("li",{class:"clickbale",onClick:s[1]||(s[1]=k=>e.sort("Points"))},[r(t("span",za,null,512),[[m,"searchEngine.sort_dropdown.points"]])])])]),_:1})])])])])])]),t("div",Ya,[t("div",Ga,[v(i,{onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["onUpdateApiQuery","onClearApiQuery"])]),t("div",Ha,[e.loading?C("",!0):(o(),c("div",Ka,[e.joboffers.length>0?(o(),c(w,{key:0},[(o(!0),c(w,null,T(e.joboffers,k=>(o(),x(n,{"match-offer":k,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:k._id,onClick:U=>e.openMatch(k)},null,8,["match-offer","match-offer-type","onClick"]))),128)),e.can_scroll?r((o(),c("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[2]||(s[2]=(...k)=>e.show_more&&e.show_more(...k))},null,512)),[[m,"searchEngine.show_more"]]):C("",!0),e.loading_more?(o(),c("div",Wa,Za)):C("",!0)],64)):r((o(),c("p",ei,null,512)),[[m,"searchEngine.not_found"]])])),e.loading?(o(),c("div",ti,li)):C("",!0)])]),v(d,{query_alert:e.query_alert},null,8,["query_alert"])])}var ii=F(La,[["render",ai]]);const ni=j({name:"Opportunities",components:{SearchEngine:ii},computed:Q({},Z("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:Q({},be(["setLayout"]))}),oi={id:"opportunities",class:"my-auto"};function ri(e,s,l,a,f,g){const u=A("search-engine");return o(),c("div",oi,[v(u)])}var yi=F(ni,[["render",ri]]);export{yi as default};
