import{d as X,x as Y,au as Z,an as w,ao as k,A as ee,D as se,z as oe,b as I,o as m,e as u,h as s,g as r,f as te,w as L,t as j,av as n,aw as N,ax as q,n as B,ay as z,al as R,am as T,j as M,u as $,az as le,aA as ae,E as O}from"./vendor.ed4525a9.js";import{S as U}from"./simplebar.85a52192.js";import{a as ne}from"./index.24564085.js";import{D as re}from"./DropdownVanilla.7e19f57b.js";const y=v=>(le("data-v-b670a48c"),v=v(),ae(),v),ce={id:"search-bar",class:"w-100 bg-white border-0 p-3 rounded-12 fs-14"},ie={class:"row"},de={class:"col-12 col-lg-11"},_e={class:"row mx-0"},me={class:"col-12 col-md-6 col-lg-4"},ue={class:"fw-medium mb-2"},pe={class:"position-relative right-bar"},he={class:"",style:{"padding-top":"12px","padding-bottom":"12px"}},fe={class:"mb-1"},be=$(),ge=y(()=>s("br",null,null,-1)),ve={class:"fs-10"},we={class:"mb-1"},ye=$(),xe=y(()=>s("br",null,null,-1)),Se={class:"fs-10"},ke={class:"mb-1"},je=$(),Be=y(()=>s("br",null,null,-1)),$e={class:"fs-10"},Ce={class:"col-12 col-md-6 col-lg-4"},De={class:"position-relative"},Ve={class:"fw-medium mb-2"},Ae={class:"position-relative right-bar"},Ee=["placeholder","disabled"],Ie={key:0,class:"position-relative"},Le={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ne=["onClick"],qe={class:"col-12 col-md-6 col-lg-4 offset-md-3 offset-lg-0 mt-md-2 mt-lg-0"},ze={class:"position-relative"},Re={class:"fw-medium mb-2"},Te=["placeholder"],Me={key:0,class:"position-relative"},Oe={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Ue=["onClick"],Fe={class:"col-12 col-md-4 col-lg-1 offset-md-4 offset-lg-0 mt-3 mt-lg-0 px-4 px-md-3 d-flex align-items-end search_button_container"},Je={class:"d-lg-none"},Ge=y(()=>s("i",{class:"ms-2 ms-lg-0 fas fa-search fs-20 align-middle"},null,-1)),He=X({setup(v){const F=Y();Z();const x=w(null),f=w(null);let o=k({remote:"",location:{name:"",model:"",id:""},job_reference:{name:"",id:""}}),b=window.localStorage.getItem("userLang"),c="";b?c=b:(b=navigator.language,b.includes("es")?c="es":b.includes("fr")?c="fr":c="en"),ee(()=>{const e=[].slice.call(document.querySelectorAll(".search-bar__dropdown-toggle"));console.log(e),e.map(function(t){return new se(t)})});const C=oe(()=>o.remote=="nomad"&&o.job_reference.id!=""||o.remote!=""&&o.location.id!=""&&o.job_reference.id!=""),J=()=>{var e;o.remote="nomad",o.location.name="",o.location.id="",f.value&&((e=f.value)==null||e.focus())},D=e=>{var t;o.remote=e,x.value&&((t=x.value)==null||t.focus())};let d=w(""),p=k([]);const G=()=>{const e=`locations/searchLocation/${d.value}`;p.splice(0),d.value.length>2&&O.get(e,{params:{lang:c}}).then(t=>{const l=t.data;p.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new U(t))})},H=(e,t)=>{var g,a,i,S;console.log(e);let l="";return e.region?l=`${(a=(g=e==null?void 0:e.region)==null?void 0:g.country)==null?void 0:a.name}, ${(i=e==null?void 0:e.region)==null?void 0:i.name}, ${e==null?void 0:e.name}`:e.country?l=`${(S=e==null?void 0:e.country)==null?void 0:S.name}, ${e==null?void 0:e.name}`:l=e==null?void 0:e.name,l},V=()=>{d.value="",p.splice(0)},K=(e,t)=>{var l;o.location.name=e.name,o.location.id=e._id,e.region||e.country||e.continent,o.location.model="locations",V(),f.value&&((l=f.value)==null||l.focus())};let _=w(""),h=k([]);const P=()=>{const e=`job-reference/searchJobreference/${_.value}`;h.splice(0),_.value.length>2&&O.get(e,{params:{lang:c}}).then(t=>{const l=t.data;h.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),t=>new U(t))})},A=e=>{let t="";return c=="fr"?t=e.name_fr:c=="es"?t=e.name_es:t=e.name_en,t},E=()=>{_.value="",h.splice(0)},Q=e=>{o.job_reference.name=A(e),o.job_reference.id=e._id,E()},W=()=>{if(C.value){const e={};o.remote!=""&&(e.remote=o.remote),o.job_reference.id!=""&&(e.job_reference=o.job_reference.id),o.location.id!=""&&o.location.model!=""&&(e[o.location.model]=o.location.id),F.push({name:"TalentOpportunities",query:e})}};return(e,t)=>{const l=I("t"),g=I("debounce");return m(),u("div",ce,[s("div",ie,[s("div",de,[s("div",_e,[s("div",me,[r(s("p",ue,null,512),[[l,"SearchBar.remote.title"]]),s("div",pe,[te(re,null,{dropdown_btn:L(()=>[s("div",he,[s("span",null,j(n(o).remote==""?e.$t("SearchBar.remote.select"):e.$t(`SearchBar.remote.${n(o).remote}_title`)),1)])]),dropdown_li:L(()=>[s("ul",null,[s("li",{class:"clickable break-spaces dropdown-item fs-14 my-2 rounded mt-1",onClick:t[0]||(t[0]=a=>D("full_remote"))},[r(s("span",fe,null,512),[[l,"SearchBar.remote.full_remote_title"]]),be,ge,r(s("span",ve,null,512),[[l,"SearchBar.remote.full_remote_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:t[1]||(t[1]=a=>D("hybrid"))},[r(s("span",we,null,512),[[l,"SearchBar.remote.hybrid_title"]]),ye,xe,r(s("span",Se,null,512),[[l,"SearchBar.remote.hybrid_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:J},[r(s("span",ke,null,512),[[l,"SearchBar.remote.nomad_title"]]),je,Be,r(s("span",$e,null,512),[[l,"SearchBar.remote.nomad_sub-title"]])])])]),_:1})])]),s("div",Ce,[s("div",De,[r(s("p",Ve,null,512),[[l,"SearchBar.location.title"]]),s("div",Ae,[r(s("input",{type:"text",id:"location-search",ref:(a,i)=>{i.location_input=a,x.value=a},"onUpdate:modelValue":t[2]||(t[2]=a=>q(d)?d.value=a:d=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).location.name==""?e.$t("SearchBar.location.select"):n(o).location.name,disabled:n(o).remote=="nomad"},null,8,Ee),[[N,n(d)],[g,G,"500ms"]])]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(p).length<=0}])},[n(p).length>0?r((m(),u("div",Ie,[s("ul",Le,[(m(!0),u(R,null,T(n(p),(a,i)=>(m(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:S=>K(a)},[s("span",null,j(H(a)),1)],8,Ne))),256))])],512)),[[n(z.exports.directive),V]]):M("",!0)],2)])]),s("div",qe,[s("div",ze,[r(s("p",Re,null,512),[[l,"SearchBar.job_reference.title"]]),r(s("input",{type:"text",id:"job_reference-search",ref:(a,i)=>{i.job_reference_input=a,f.value=a},"onUpdate:modelValue":t[3]||(t[3]=a=>q(_)?_.value=a:_=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(o).job_reference.name==""?e.$t("SearchBar.job_reference.select"):n(o).job_reference.name},null,8,Te),[[N,n(_)],[g,P,"500ms"]]),s("div",{class:B(["position-absolute custom-scroll w-100",{h_0:n(h).length<=0}])},[n(h).length>0?r((m(),u("div",Me,[s("ul",Oe,[(m(!0),u(R,null,T(n(h),a=>(m(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:i=>Q(a)},[s("span",null,j(A(a)),1)],8,Ue))),256))])],512)),[[n(z.exports.directive),E]]):M("",!0)],2)])])])]),s("div",Fe,[s("button",{type:"button",class:B(["btn text-white bg-green-app w-100 px-2 py-2 search-bar-button",{disabled:!n(C)}]),style:{height:"47px"},onClick:W},[r(s("span",Je,null,512),[[l,"SearchBar.search_button"]]),Ge],2)])])])}}});var Xe=ne(He,[["__scopeId","data-v-b670a48c"]]);export{Xe as S};
