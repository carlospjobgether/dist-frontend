import{d as N,u as q,au as se,an as x,ao as j,z as te,D as oe,y as T,b as B,o as _,e as u,h as s,g as r,f as z,w as O,t as $,av as n,aw as R,ax as F,n as C,ay as M,al as U,am as J,j as G,s as D,az as le,aA as ae,F as H,x as ne}from"./vendor.e615fd77.js";import{S as K}from"./simplebar.e49b2492.js";import{a as re}from"./index.30c2df1e.js";import{D as ce}from"./DropdownVanilla.bb2ec554.js";const S=g=>(le("data-v-2e84d74b"),g=g(),ae(),g),ie={id:"search-bar",class:"w-100 bg-white border-0 p-3 rounded-12 fs-14"},de={class:"row"},_e={class:"col-12 col-lg-11"},ue={class:"row mx-0"},me={class:"col-12 col-md-6 col-lg-4"},pe={class:"fw-medium mb-2"},he={class:"position-relative right-bar"},fe={class:"",style:{"padding-top":"12px","padding-bottom":"12px"}},be={class:"bg-white"},ge={class:"mb-1"},ve=D(),we=S(()=>s("br",null,null,-1)),ye={class:"fs-10"},xe={class:"mb-1"},Se=D(),ke=S(()=>s("br",null,null,-1)),je={class:"fs-10"},Be={class:"mb-1"},$e=D(),Ce=S(()=>s("br",null,null,-1)),De={class:"fs-10"},Ve={class:"col-12 col-md-6 col-lg-4"},Le={class:"position-relative"},Ae={class:"fw-medium mb-2"},Ee={class:"position-relative right-bar"},Ie=["placeholder","disabled"],Ne={key:0,class:"position-relative"},qe={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Te=["onClick"],ze={class:"col-12 col-md-6 col-lg-4 offset-md-3 offset-lg-0 mt-md-2 mt-lg-0"},Oe={class:"position-relative"},Re={class:"fw-medium mb-2"},Fe=["placeholder"],Me={key:0,class:"position-relative"},Ue={class:"dropdown-menu w-100 show","aria-labelledby":"btn_search"},Je=["onClick"],Ge={class:"col-12 col-md-4 col-lg-1 offset-md-4 offset-lg-0 mt-3 mt-lg-0 px-4 px-md-3 d-flex align-items-end search_button_container"},He={class:"d-lg-none"},Ke=S(()=>s("i",{class:"ms-2 ms-lg-0 fas fa-search fs-20 align-middle"},null,-1)),Pe=N({setup(g){const y=q();se();const v=x(null),i=x(null);let t=j({remote:"",location:{name:"",model:"",id:""},job_reference:{name:"",id:""}}),h=window.localStorage.getItem("userLang"),c="";h?c=h:(h=navigator.language,h.includes("es")?c="es":h.includes("fr")?c="fr":c="en"),te(()=>{const e=[].slice.call(document.querySelectorAll(".search-bar__dropdown-toggle"));console.log(e),e.map(function(o){return new oe(o)})});const V=T(()=>t.remote=="nomad"&&t.job_reference.id!=""||t.remote!=""&&t.location.id!=""&&t.job_reference.id!=""),P=()=>{var e;t.remote="nomad",t.location.name="",t.location.id="",i.value&&((e=i.value)==null||e.focus())},L=e=>{var o;t.remote=e,v.value&&((o=v.value)==null||o.focus())};let m=x(""),f=j([]);const Q=()=>{const e=`locations/searchLocation/${m.value}`;f.splice(0),m.value.length>2&&H.get(e,{params:{lang:c}}).then(o=>{const l=o.data;f.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),o=>new K(o))})},W=(e,o)=>{var w,a,d,k;console.log(e);let l="";return e.region?l=`${(a=(w=e==null?void 0:e.region)==null?void 0:w.country)==null?void 0:a.name}, ${(d=e==null?void 0:e.region)==null?void 0:d.name}, ${e==null?void 0:e.name}`:e.country?l=`${(k=e==null?void 0:e.country)==null?void 0:k.name}, ${e==null?void 0:e.name}`:l=e==null?void 0:e.name,l},A=()=>{m.value="",f.splice(0)},X=(e,o)=>{var l;t.location.name=e.name,t.location.id=e._id,e.region||e.country||e.continent,t.location.model="locations",A(),i.value&&((l=i.value)==null||l.focus())};let p=x(""),b=j([]);const Y=()=>{const e=`job-reference/searchJobreference/${p.value}`;b.splice(0),p.value.length>2&&H.get(e,{params:{lang:c}}).then(o=>{const l=o.data;b.push(...l)}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),o=>new K(o))})},E=e=>{let o="";return c=="fr"?o=e.name_fr:c=="es"?o=e.name_es:o=e.name_en,o},I=()=>{p.value="",b.splice(0)},Z=e=>{t.job_reference.name=E(e),t.job_reference.id=e._id,I()},ee=()=>{if(V.value){const e={};t.remote!=""&&(e.remote=t.remote),t.job_reference.id!=""&&(e.job_reference=t.job_reference.id),t.location.id!=""&&t.location.model!=""&&(e[t.location.model]=t.location.id),y.push({name:"TalentOpportunities",query:e})}};return(e,o)=>{const l=B("t"),w=B("debounce");return _(),u("div",ie,[s("div",de,[s("div",_e,[s("div",ue,[s("div",me,[r(s("p",pe,null,512),[[l,"SearchBar.remote.title"]]),s("div",he,[z(ce,null,{dropdown_btn:O(()=>[s("div",fe,[s("span",null,$(n(t).remote==""?e.$t("SearchBar.remote.select"):e.$t(`SearchBar.remote.${n(t).remote}_title`)),1)])]),dropdown_li:O(()=>[s("ul",be,[s("li",{class:"clickable break-spaces dropdown-item fs-14 my-2 rounded mt-1",onClick:o[0]||(o[0]=a=>L("full_remote"))},[r(s("span",ge,null,512),[[l,"SearchBar.remote.full_remote_title"]]),ve,we,r(s("span",ye,null,512),[[l,"SearchBar.remote.full_remote_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:o[1]||(o[1]=a=>L("hybrid"))},[r(s("span",xe,null,512),[[l,"SearchBar.remote.hybrid_title"]]),Se,ke,r(s("span",je,null,512),[[l,"SearchBar.remote.hybrid_sub-title"]])]),s("li",{class:"clickable break-spaces dropdown-item fs-14 mb-2 rounded",onClick:P},[r(s("span",Be,null,512),[[l,"SearchBar.remote.nomad_title"]]),$e,Ce,r(s("span",De,null,512),[[l,"SearchBar.remote.nomad_sub-title"]])])])]),_:1})])]),s("div",Ve,[s("div",Le,[r(s("p",Ae,null,512),[[l,"SearchBar.location.title"]]),s("div",Ee,[r(s("input",{type:"text",id:"location-search",ref:(a,d)=>{d.location_input=a,v.value=a},"onUpdate:modelValue":o[2]||(o[2]=a=>F(m)?m.value=a:m=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(t).location.name==""?e.$t("SearchBar.location.select"):n(t).location.name,disabled:n(t).remote=="nomad"},null,8,Ie),[[R,n(m)],[w,Q,"500ms"]])]),s("div",{class:C(["position-absolute custom-scroll w-100",{h_0:n(f).length<=0}])},[n(f).length>0?r((_(),u("div",Ne,[s("ul",qe,[(_(!0),u(U,null,J(n(f),(a,d)=>(_(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:k=>X(a)},[s("span",null,$(W(a)),1)],8,Te))),256))])],512)),[[n(M.exports.directive),A]]):G("",!0)],2)])]),s("div",ze,[s("div",Oe,[r(s("p",Re,null,512),[[l,"SearchBar.job_reference.title"]]),r(s("input",{type:"text",id:"job_reference-search",ref:(a,d)=>{d.job_reference_input=a,i.value=a},"onUpdate:modelValue":o[3]||(o[3]=a=>F(p)?p.value=a:p=a),style:{"padding-top":"12px","padding-bottom":"12px"},class:"form-control searchable-list__input",autocomplete:"off",placeholder:n(t).job_reference.name==""?e.$t("SearchBar.job_reference.select"):n(t).job_reference.name},null,8,Fe),[[R,n(p)],[w,Y,"500ms"]]),s("div",{class:C(["position-absolute custom-scroll w-100",{h_0:n(b).length<=0}])},[n(b).length>0?r((_(),u("div",Me,[s("ul",Ue,[(_(!0),u(U,null,J(n(b),a=>(_(),u("li",{class:"clickable break-spaces dropdown-item fs-14 mb-0",onClick:d=>Z(a)},[s("span",null,$(E(a)),1)],8,Je))),256))])],512)),[[n(M.exports.directive),I]]):G("",!0)],2)])])])]),s("div",Ge,[s("button",{type:"button",class:C(["btn text-white bg-green-app w-100 px-2 py-2 search-bar-button",{disabled:!n(V)}]),style:{height:"47px"},onClick:ee},[r(s("span",He,null,512),[[l,"SearchBar.search_button"]]),Ke],2)])])])}}});var Qe=re(Pe,[["__scopeId","data-v-2e84d74b"]]);const We={id:"searh_bar_page",class:"container my-auto"},Xe={class:"row"},Ye={class:"text-center text-white pb-1 ff-nexa-bold fs-48"},Ze={class:"text-center text-white pb-2 mb-5 ff-nexa fs-20"},es={class:"col-10 col-md-12 col-xl-10 offset-xl-1"},as=N({setup(g){const y=ne(),v=q();y.commit("setLayout","BaseLayout");const i=T(()=>y.state.auth.userData);return i.value.filters&&i.value.filters.length>0&&v.push({name:"TalentOpportunities"}),(t,h)=>{const c=B("t");return _(),u("div",We,[s("div",Xe,[r(s("h2",Ye,null,512),[[c,"searchEngine.title"]]),r(s("p",Ze,null,512),[[c,"searchEngine.sub_title"]]),s("div",es,[z(Qe)])])])}}});export{as as default};
