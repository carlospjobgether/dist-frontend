import{d as Z,y as ee,z as h,A as te,r as ae,b as se,o as m,e as d,h as r,aC as z,u as g,t as _,av as c,g as w,s as F,ak as C,j as p,f as R,al as oe,n as re}from"./vendor.ed4525a9.js";import{b as ne}from"./bootstrap.bundle.min.b22c95e0.js";import{h as le}from"./moment.08a7f518.js";import{r as I}from"./index.24564085.js";import{g as M}from"./utils.1fce72cf.js";var D;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(D||(D={}));var P;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(P||(P={}));var $;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})($||($={}));var j;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(j||(j={}));const ie={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const ce=["id"],fe={class:"row mx-0"},me={class:"col-9 pt-3 pb-2"},de={class:"d-flex px-2 flex-column-reverse flex-md-row"},he={class:"flex-grow-1 pb-2"},_e={class:"mb-1 fs-20 d-flex flex-column flex-md-row align-items-start"},ue={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 bg-light-yellow rounded-8 fs-14"},pe={class:"d-flex align-items-center mb-0 justify-content-between"},be={class:"fs-12"},ge={key:0,class:"fav_group_icon"},ve=r("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),ye=[ve],Ee=r("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),Oe=[Ee],xe={key:1,class:"archived_group_icon"},ke=["data-bs-content"],we={class:"px-2"},De={class:"mb-1 fw-light"},Te={key:0,class:"bg-blue-app-20 me-2 ms-3 px-2 py-1 rounded-8 fs-14 fw-500"},Ne=r("em",{class:"fas fa-star"},null,-1),Ce=g(" Top flex "),Re=[Ne,Ce],$e={class:"d-flex px-2 mb-1 flex-column flex-md-row"},Ae={class:"flex-grow-1 offer-content pt-1 mb-2 mb-md-0"},je={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},Le=["data-bs-content"],Be={key:1,class:"ms-1"},Se=["data-bs-content"],Ye={key:2},Je={class:"mt-n1 d-flex align-items-center"},qe=["data-bs-content"],Ue={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},Ve=["data-bs-content"],ze={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},Fe={class:"matching d-none"},Ie={class:"me-2 matching__text d-none d-sm-inline"},Me=["data-bs-content"],Pe={key:1,class:"fas fa-lock"},Qe=g(" % "),Ze=Z({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo"],setup(e,{emit:Q}){const a=e,u=ee();let L=h(()=>u.state.auth.userData.favorites?u.state.auth.userData.favorites:[]),B=h(()=>u.state.auth.userData._id),S=h(()=>u.state.auth.accessToken!=null);h(()=>{var t,s,o,l,n,f;return((o=(s=(t=a.matchOffer)==null?void 0:t.company)==null?void 0:s.meta)==null?void 0:o.flex_score)?(f=(n=(l=a.matchOffer)==null?void 0:l.company)==null?void 0:n.meta)==null?void 0:f.flex_score:0});let T=h(()=>{var s;let t=[];if(((s=a.query_api)==null?void 0:s.flexibility)&&(t=a.query_api.flexibility.filter(o=>{var l,n;return(n=(l=a.matchOffer)==null?void 0:l.company)==null?void 0:n.meta[o]})),t.length==0){let o=Object.keys(ie).filter(l=>{var n,f;return(f=(n=a.matchOffer)==null?void 0:n.company)==null?void 0:f.meta[l]});if(o.length>0){let l=M(0,o.length-1);t=[o[l-1]]}}return t}),N=h(()=>{var s,o,l;let t=[];if(((s=a.query_api)==null?void 0:s.remote)&&(t=a.query_api.remote.filter(n=>{var f;return(f=a.matchOffer)==null?void 0:f.meta.remote.some(b=>b==n)})),t.length==0){let n=(l=(o=a.matchOffer)==null?void 0:o.meta)==null?void 0:l.remote;if(n.length>0){let f=M(0,n.length-1);t=[n[f-1]]}}return t});te(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${a.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(s=>new ne.exports.Popover(s));let t=document.getElementById("myPopover");t==null||t.addEventListener("hidden.bs.popover",function(){})});const G=h(()=>{var s,o;let t="";switch((o=(s=a.matchOffer)==null?void 0:s.meta)==null?void 0:o.currency){case"EUR":t="euro-sign";break;case"USD":t="dollar-sign";break;default:t="question"}return t}),A=h(()=>{var t,s,o;return((s=(t=a.matchOffer)==null?void 0:t.meta)==null?void 0:s.contractType)?(o=a.matchOffer.meta)==null?void 0:o.contractType:""}),Y=h(()=>{var s,o,l,n,f,b,v,y,E,O,x,k;let t="";return((o=(s=a.matchOffer)==null?void 0:s.meta)==null?void 0:o.salary)&&((f=(n=(l=a.matchOffer)==null?void 0:l.meta)==null?void 0:n.salary)==null?void 0:f.min)&&((y=(v=(b=a.matchOffer)==null?void 0:b.meta)==null?void 0:v.salary)==null?void 0:y.max)&&(t=`${((O=(E=a.matchOffer.meta)==null?void 0:E.salary)==null?void 0:O.min)/1e3} - ${((k=(x=a.matchOffer.meta)==null?void 0:x.salary)==null?void 0:k.max)/1e3}K`),t}),H=h(()=>{let t=!1;return a.matchOfferType==D.Opportunity&&(t=a.matchOffer.companyInterest==$.REJECTED||a.matchOffer.companyInterest==$.REJECTED_BY_QA||a.matchOffer.userInterest==j.NOT_INTERESTED||a.matchOffer.archived==!0),a.matchOfferType==D.Interview&&(t=!1),a.matchOfferType==D.Archived&&(t=a.matchOffer.archived==!0),t}),K=h(()=>`opacity: ${a.matchOffer.percentage}%`);h(()=>{var s,o,l,n;let t="";return a.matchOffer.meta.locations&&((s=a.matchOffer.meta.locations)==null?void 0:s.length)!=0?(t=(n=(l=(o=a.matchOffer)==null?void 0:o.meta)==null?void 0:l.locations)==null?void 0:n.map(f=>f.name).join(", "),t):"N/A"});function W(){Q("click",a.matchOffer)}function J(){if(S)I.push({name:"TalentLogin"});else{let t={id:B.value,type:"favorites",value:a.matchOffer._id};u.commit("auth/update_user_data_array",t),u.dispatch("talent/update_profile_favorites",t)}}function X(){if(S){let t={id:B.value,type:"archived_offers",value:a.matchOffer._id};u.commit("auth/update_user_data_array",t),u.dispatch("talent/update_profile_archived_offers",t)}else I.push({name:"TalentLogin"})}return(t,s)=>{var n,f,b,v,y,E,O,x,k,q,U,V;const o=ae("font-awesome-icon"),l=se("t");return m(),d("div",{class:re(["card match-card shadow-sm w-100 clickable p-0",{disabled:c(H)}]),onClick:s[4]||(s[4]=i=>W()),id:`match-offer-card-${a.matchOffer._id}`},[r("div",fe,[r("div",{class:"col-3 border-end p-4 card-image",style:z({"background-image":((b=(f=(n=e.matchOffer)==null?void 0:n.company)==null?void 0:f.meta)==null?void 0:b.picture)?`url(${(E=(y=(v=e.matchOffer)==null?void 0:v.company)==null?void 0:y.meta)==null?void 0:E.picture})`:""})},null,4),r("div",me,[r("div",de,[r("div",he,[r("h4",_e,[g(_(e.matchOffer.title)+" ",1),r("span",ue,_(((x=(O=e.matchOffer.company)==null?void 0:O.meta)==null?void 0:x.flex_score)?(q=(k=e.matchOffer.company)==null?void 0:k.meta)==null?void 0:q.flex_score:0)+"% Flex ",1)])]),r("div",null,[r("p",pe,[r("span",be,_(c(le)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?p("",!0):(m(),d("div",ge,[w(r("div",{class:"fav_icon",onClick:s[0]||(s[0]=C(i=>J(),["stop"]))},ye,512),[[F,c(L).some(i=>i==a.matchOffer._id)]]),w(r("div",{class:"fav_icon",onClick:s[1]||(s[1]=C(i=>J(),["stop"]))},Oe,512),[[F,!c(L).some(i=>i==a.matchOffer._id)]])])),e.is_archived_view?(m(),d("div",xe,[r("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":t.$t("widget.matchOfferCard.unarchive"),onClick:s[2]||(s[2]=C(i=>X(),["stop"]))},[R(o,{icon:"undo",class:"mr-1 text-primary"})],8,ke)])):p("",!0)])])]),r("div",we,[r("p",De,[g(_((V=(U=e.matchOffer)==null?void 0:U.company)==null?void 0:V.name)+" ",1),!!e.matchOffer&&!!e.matchOffer.company&&!!e.matchOffer.company.meta&&!!e.matchOffer.company.meta.flex_score&&e.matchOffer.company.meta.flex_score>=90?(m(),d("span",Te,Re)):p("",!0)])]),r("div",$e,[r("div",Ae,[r("ul",{class:"icon-list mt-0",onClick:s[3]||(s[3]=C(()=>{},["stop"]))},[e.matchOffer.meta.locations&&e.matchOffer.meta.locations.length>0?(m(),d("li",je,[R(o,{icon:"map-marker-alt",class:"text-dark-gray"}),e.matchOffer.meta.locations.length>3?(m(),d("span",{key:0,class:"ms-1","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.matchOffer.meta.locations.map(i=>i.name).join(", ")},_(e.matchOffer.meta.locations.map(i=>i.name).slice(0,3).join(", "))+"... ",9,Le)):(m(),d("span",Be,_(e.matchOffer.meta.locations.map(i=>i.name).join(", ")),1))])):p("",!0),c(A)!=""?(m(),d("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":t.$t(`dashboard.opportunities.contractType.${c(A)}`)},[R(o,{icon:"file-alt",class:"text-dark-gray"}),r("span",null,_(t.$t(`dashboard.opportunities.contractType.${c(A)}`).split(" ").map(i=>i.charAt(0).toUpperCase()).join("")),1)],8,Se)):p("",!0),c(Y)!=""?(m(),d("li",Ye,[R(o,{icon:c(G),class:"text-dark-gray"},null,8,["icon"]),g(" "+_(c(Y)),1)])):p("",!0)])]),r("div",Je,[c(N).length>1?(m(),d("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":c(N).map(i=>t.$t(`searchEngine.filters.remote.${i}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,qe)):c(N).length==1?w((m(),d("span",Ue,null,512)),[[l,`searchEngine.filters.remote.${c(N)[0]}`]]):p("",!0),c(T).length>1?(m(),d("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":c(T).map(i=>t.$t(`searchEngine.filters.flexibility.${i}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,Ve)):c(T).length==1?w((m(),d("span",ze,null,512)),[[l,`searchEngine.filters.flexibility.${c(T)[0]}`]]):p("",!0),r("div",Fe,[w(r("span",Ie,null,512),[[l,"widget.matchOfferCard.matching"]]),r("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":t.$t("widget.matchOfferCard.matching-popover"),style:z(c(K))},[e.user?(m(),d(oe,{key:0},[g(_(e.matchOffer.percentage),1)],64)):(m(),d("i",Pe)),Qe],12,Me)])])])])])],10,ce)}}});export{ie as M,Ze as _,D as a};
