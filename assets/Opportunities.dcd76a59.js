var Ae=Object.defineProperty,je=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var pe=(e,s,l)=>s in e?Ae(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,M=(e,s)=>{for(var l in s||(s={}))Le.call(s,l)&&pe(e,l,s[l]);if(fe)for(var l of fe(s))Ce.call(s,l)&&pe(e,l,s[l]);return e},oe=(e,s)=>je(e,Ee(s));import{d as T,am as Te,ai as x,ah as _e,r as E,e as D,o,f as c,i as t,an as me,p as R,t as y,ao as _,h as r,l as v,aa as se,q as L,g as $,ab as A,n as X,j as De,ap as Z,ae as V,s as N,w as S,ac as I,v as Re,aq as ge,m as ee,ar as le,as as ae,k as ye}from"./vendor.8ecd296d.js";import{b as Ie}from"./bootstrap.bundle.min.6f8196e0.js";import{h as xe}from"./moment.08a7f518.js";import{r as be,_ as Q}from"./index.20c10a12.js";import{g as ve}from"./utils.1fce72cf.js";import{D as Ne,P as Fe,M as $e}from"./bootstrap.esm.f2db94b8.js";import{D as te,S as ke}from"./simplebar.580e3fe0.js";import{A as Oe}from"./alertify.ea48158f.js";var P;(function(e){e[e.Opportunity=0]="Opportunity",e[e.Interview=1]="Interview",e[e.Archived=2]="Archived"})(P||(P={}));var Se;(function(e){e[e.DECLINED_BY_JOBGETHER=-2]="DECLINED_BY_JOBGETHER",e[e.DECLINE=-1]="DECLINE",e[e.NEUTRAL=0]="NEUTRAL",e[e.ACCEPT=1]="ACCEPT",e[e.SENT=3]="SENT"})(Se||(Se={}));var ie;(function(e){e[e.REJECTED=-2]="REJECTED",e[e.REJECTED_BY_QA=-1]="REJECTED_BY_QA",e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED"})(ie||(ie={}));var re;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.INTERESTED=1]="INTERESTED",e[e.NOT_INTERESTED=2]="NOT_INTERESTED"})(re||(re={}));const we={additional_parental_leave:!1,child_care_assistance:!1,daily_lunch_meal_card:!1,digital_coaching:!1,extra_holidays:!1,four_day_week:!1,full_remote:!1,gym_reimbursement:!1,international_insurance:!1,long_remote_period:!1,mentorship_programs:!1,mobility_allowance:!1,open_to_long_term_freelancing:!1,open_to_part_time:!1,open_to_slashing:!1,parental_perks:!1,pet_friendly:!1,private_health_insurance:!1,private_pension:!1,remote_allowance:!1,seasonal_social_events:!1,time_to_work_on_a_side_project:!1,tuition_reimbursement:!1,unlimited_holidays:!1,wellness_program:!1};const Qe=["id"],Ue={class:"row mx-0"},Me={class:"col-9 pt-3 pb-2"},Be={class:"d-flex px-2 flex-column-reverse flex-md-row"},Ve={class:"flex-grow-1 pb-2"},Pe={class:"mb-1 fs-20 d-flex flex-column flex-md-row align-items-start"},Je={class:"ms-md-2 me-1 p-1 mt-1 mt-md-0 bg-light-yellow rounded-8 fs-14"},ze={class:"d-flex align-items-center mb-0 justify-content-between"},Ye={class:"fs-12"},Ge={key:0,class:"fav_group_icon"},He=t("em",{class:"fas fa-heart ms-3 fs-20 mb-n1 text-blue-app"},null,-1),Ke=[He],We=t("em",{class:"far fa-heart ms-3 fs-20 mb-n1"},null,-1),Xe=[We],Ze={key:1,class:"archived_group_icon"},et=["data-bs-content"],tt={class:"px-2"},st={class:"mb-1 fw-light"},lt={key:0,class:"bg-blue-app-20 me-2 ms-3 px-2 py-1 rounded-8 fs-14 fw-500"},at=t("em",{class:"fas fa-star"},null,-1),it=R(" Top flex "),nt=[at,it],ot={class:"d-flex px-2 mb-1 flex-column flex-md-row"},rt={class:"flex-grow-1 offer-content pt-1 mb-2 mb-md-0"},ct={key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom"},dt=["data-bs-content"],ut={key:1,class:"ms-1"},ht=["data-bs-content"],ft={key:2},pt={class:"mt-n1 d-flex align-items-center"},_t=["data-bs-content"],mt={key:1,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},gt=["data-bs-content"],yt={key:3,class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},bt={class:"matching d-none"},vt={class:"me-2 matching__text d-none d-sm-inline"},$t=["data-bs-content"],kt={key:1,class:"fas fa-lock"},Ot=R(" % "),St=T({props:{matchOffer:null,matchOfferType:null,user:null,is_archived_view:null,query_api:null},emits:["click","validate","archive","unarchive","acceptInterview","favorite","goTo"],setup(e,{emit:s}){const l=e,a=Te();let f=x(()=>a.state.auth.userData.favorites?a.state.auth.userData.favorites:[]),m=x(()=>a.state.auth.userData._id),d=x(()=>a.state.auth.accessToken!=null);x(()=>{var p,b,k,w,O,C;return((k=(b=(p=l.matchOffer)==null?void 0:p.company)==null?void 0:b.meta)==null?void 0:k.flex_score)?(C=(O=(w=l.matchOffer)==null?void 0:w.company)==null?void 0:O.meta)==null?void 0:C.flex_score:0});let h=x(()=>{var b;let p=[];if(((b=l.query_api)==null?void 0:b.flexibility)&&(p=l.query_api.flexibility.filter(k=>{var w,O;return(O=(w=l.matchOffer)==null?void 0:w.company)==null?void 0:O.meta[k]})),p.length==0){let k=Object.keys(we).filter(w=>{var O,C;return(C=(O=l.matchOffer)==null?void 0:O.company)==null?void 0:C.meta[w]});if(k.length>0){let w=ve(0,k.length-1);p=[k[w-1]]}}return p}),n=x(()=>{var b,k,w;let p=[];if(((b=l.query_api)==null?void 0:b.remote)&&(p=l.query_api.remote.filter(O=>{var C;return(C=l.matchOffer)==null?void 0:C.meta.remote.some(B=>B==O)})),p.length==0){let O=(w=(k=l.matchOffer)==null?void 0:k.meta)==null?void 0:w.remote;if(O.length>0){let C=ve(0,O.length-1);p=[O[C-1]]}}return p});_e(()=>{Array.from(document.querySelectorAll(`#match-offer-card-${l.matchOffer._id} [data-bs-toggle="popover"]`)).forEach(b=>new Ie.exports.Popover(b));let p=document.getElementById("myPopover");p==null||p.addEventListener("hidden.bs.popover",function(){})});const i=x(()=>{var b,k;let p="";switch((k=(b=l.matchOffer)==null?void 0:b.meta)==null?void 0:k.currency){case"EUR":p="euro-sign";break;case"USD":p="dollar-sign";break;default:p="question"}return p}),u=x(()=>{var p,b,k;return((b=(p=l.matchOffer)==null?void 0:p.meta)==null?void 0:b.contractType)?(k=l.matchOffer.meta)==null?void 0:k.contractType:""}),g=x(()=>{var b,k,w,O,C,B,z,Y,G,H,K,W;let p="";return((k=(b=l.matchOffer)==null?void 0:b.meta)==null?void 0:k.salary)&&((C=(O=(w=l.matchOffer)==null?void 0:w.meta)==null?void 0:O.salary)==null?void 0:C.min)&&((Y=(z=(B=l.matchOffer)==null?void 0:B.meta)==null?void 0:z.salary)==null?void 0:Y.max)&&(p=`${((H=(G=l.matchOffer.meta)==null?void 0:G.salary)==null?void 0:H.min)/1e3} - ${((W=(K=l.matchOffer.meta)==null?void 0:K.salary)==null?void 0:W.max)/1e3}K`),p}),q=x(()=>{let p=!1;return l.matchOfferType==P.Opportunity&&(p=l.matchOffer.companyInterest==ie.REJECTED||l.matchOffer.companyInterest==ie.REJECTED_BY_QA||l.matchOffer.userInterest==re.NOT_INTERESTED||l.matchOffer.archived==!0),l.matchOfferType==P.Interview&&(p=!1),l.matchOfferType==P.Archived&&(p=l.matchOffer.archived==!0),p}),U=x(()=>`opacity: ${l.matchOffer.percentage}%`);x(()=>{var b,k,w,O;let p="";return l.matchOffer.meta.locations&&((b=l.matchOffer.meta.locations)==null?void 0:b.length)!=0?(p=(O=(w=(k=l.matchOffer)==null?void 0:k.meta)==null?void 0:w.locations)==null?void 0:O.map(C=>C.name).join(", "),p):"N/A"});function ne(){s("click",l.matchOffer)}function ce(){if(d)be.push({name:"TalentLogin"});else{let p={id:m.value,type:"favorites",value:l.matchOffer._id};a.commit("auth/update_user_data_array",p),a.dispatch("talent/update_profile_favorites",p)}}function qe(){if(d){let p={id:m.value,type:"archived_offers",value:l.matchOffer._id};a.commit("auth/update_user_data_array",p),a.dispatch("talent/update_profile_archived_offers",p)}else be.push({name:"TalentLogin"})}return(p,b)=>{var O,C,B,z,Y,G,H,K,W,de,ue,he;const k=E("font-awesome-icon"),w=D("t");return o(),c("div",{class:X(["card match-card shadow-sm w-100 clickable p-0",{disabled:_(q)}]),onClick:b[4]||(b[4]=j=>ne()),id:`match-offer-card-${l.matchOffer._id}`},[t("div",Ue,[t("div",{class:"col-3 border-end p-4 card-image",style:me({"background-image":((B=(C=(O=e.matchOffer)==null?void 0:O.company)==null?void 0:C.meta)==null?void 0:B.picture)?`url(${(G=(Y=(z=e.matchOffer)==null?void 0:z.company)==null?void 0:Y.meta)==null?void 0:G.picture})`:""})},null,4),t("div",Me,[t("div",Be,[t("div",Ve,[t("h4",Pe,[R(y(e.matchOffer.title)+" ",1),t("span",Je,y(((K=(H=e.matchOffer.company)==null?void 0:H.meta)==null?void 0:K.flex_score)?(de=(W=e.matchOffer.company)==null?void 0:W.meta)==null?void 0:de.flex_score:0)+"% Flex ",1)])]),t("div",null,[t("p",ze,[t("span",Ye,y(_(xe)(e.matchOffer.updated_at).format("DD/MM/YYYY")),1),e.is_archived_view?L("",!0):(o(),c("div",Ge,[r(t("div",{class:"fav_icon",onClick:b[0]||(b[0]=se(j=>ce(),["stop"]))},Ke,512),[[v,_(f).some(j=>j==l.matchOffer._id)]]),r(t("div",{class:"fav_icon",onClick:b[1]||(b[1]=se(j=>ce(),["stop"]))},Xe,512),[[v,!_(f).some(j=>j==l.matchOffer._id)]])])),e.is_archived_view?(o(),c("div",Ze,[t("span",{class:"ms-2 py-1 badge bg-light-blue clickable undo_archive","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"top","data-bs-content":p.$t("widget.matchOfferCard.unarchive"),onClick:b[2]||(b[2]=se(j=>qe(),["stop"]))},[$(k,{icon:"undo",class:"mr-1 text-primary"})],8,et)])):L("",!0)])])]),t("div",tt,[t("p",st,[R(y((he=(ue=e.matchOffer)==null?void 0:ue.company)==null?void 0:he.name)+" ",1),!!e.matchOffer&&!!e.matchOffer.company&&!!e.matchOffer.company.meta&&!!e.matchOffer.company.meta.flex_score&&e.matchOffer.company.meta.flex_score>=90?(o(),c("span",lt,nt)):L("",!0)])]),t("div",ot,[t("div",rt,[t("ul",{class:"icon-list mt-0",onClick:b[3]||(b[3]=se(()=>{},["stop"]))},[e.matchOffer.meta.locations&&e.matchOffer.meta.locations.length>0?(o(),c("li",ct,[$(k,{icon:"map-marker-alt",class:"text-dark-gray"}),e.matchOffer.meta.locations.length>3?(o(),c("span",{key:0,class:"ms-1","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":e.matchOffer.meta.locations.map(j=>j.name).join(", ")},y(e.matchOffer.meta.locations.map(j=>j.name).slice(0,3).join(", "))+"... ",9,dt)):(o(),c("span",ut,y(e.matchOffer.meta.locations.map(j=>j.name).join(", ")),1))])):L("",!0),_(u)!=""?(o(),c("li",{key:1,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t(`dashboard.opportunities.contractType.${_(u)}`)},[$(k,{icon:"file-alt",class:"text-dark-gray"}),t("span",null,y(p.$t(`dashboard.opportunities.contractType.${_(u)}`).split(" ").map(j=>j.charAt(0).toUpperCase()).join("")),1)],8,ht)):L("",!0),_(g)!=""?(o(),c("li",ft,[$(k,{icon:_(i),class:"text-dark-gray"},null,8,["icon"]),R(" "+y(_(g)),1)])):L("",!0)])]),t("div",pt,[_(n).length>1?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(n).map(j=>p.$t(`searchEngine.filters.remote.${j}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,_t)):_(n).length==1?r((o(),c("span",mt,null,512)),[[w,`searchEngine.filters.remote.${_(n)[0]}`]]):L("",!0),_(h).length>1?(o(),c("span",{key:2,"data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":_(h).map(j=>p.$t(`searchEngine.filters.flexibility.${j}`)),class:"badge rounded-pill border border-2 me-2 py-2 text-blue-app fw-500"},"+2",8,gt)):_(h).length==1?r((o(),c("span",yt,null,512)),[[w,`searchEngine.filters.flexibility.${_(h)[0]}`]]):L("",!0),t("div",bt,[r(t("span",vt,null,512),[[w,"widget.matchOfferCard.matching"]]),t("span",{class:"matching__percent-4","data-bs-toggle":"popover","data-bs-trigger":"hover","data-bs-placement":"bottom","data-bs-content":p.$t("widget.matchOfferCard.matching-popover"),style:me(_(U))},[e.user?(o(),c(A,{key:0},[R(y(e.matchOffer.percentage),1)],64)):(o(),c("i",kt)),Ot],12,$t)])])])])])],10,Qe)}}}),F=T({props:{hideBorder:null},setup(e){return(s,l)=>(o(),c("div",{class:X(["py-3 position-relative",{"border-bottom":!e.hideBorder}])},[De(s.$slots,"default")],2))}}),wt={class:"mb-2"},qt={class:"fs-16 fw-bold"},At={class:"py-2 fs-14"},jt={class:"fs-14"},Et={class:"dropdown-item py-2"},Lt={class:"dropdown-item py-2"},Ct={class:"dropdown-item py-2"},Tt={class:"mb-0"},Dt=["onClick"],Rt=t("i",{class:"fas fa-times ms-1"},null,-1),It=T({emits:["updateApiQuery"],setup(e,{emit:s}){const l=Z();let a=V([]);const f="remote";if(l.query.remote){let n=[];typeof l.query.remote=="string"?n.push(l.query.remote):n=l.query.remote,a.splice(0,0,...n)}_e(()=>{[].slice.call(document.querySelectorAll(".filter-remote__dropdown-toggle")).map(function(i){return new Ne(i)})});const m=async n=>{let i=Object.assign({},l.query);a.indexOf(n)===-1?(a.push(n),i[f]=a.toString()):(a.splice(n,1),a.length==0?delete i[f]:i[f]=a.toString()),h()},d=n=>{let i=Object.assign({},l.query);const u=a.indexOf(n);a.splice(u,1),a.length==0?delete i[f]:i[f]=a.toString(),h()},h=async n=>{s("updateApiQuery",f,a)};return(n,i)=>{const u=D("t");return o(),N(F,null,{default:S(()=>[t("p",wt,[r(t("span",qt,null,512),[[u,"searchEngine.filters.remote.title"]])]),$(te,null,{dropdown_btn:S(()=>[t("div",At,[r(t("span",null,null,512),[[u,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",jt,[t("li",{class:"clickable",onClick:i[0]||(i[0]=g=>m("full_remote"))},[r(t("span",Et,null,512),[[u,"searchEngine.filters.remote.full_remote"]])]),t("li",{class:"clickable",onClick:i[1]||(i[1]=g=>m("hybrid"))},[r(t("span",Lt,null,512),[[u,"searchEngine.filters.remote.hybrid"]])]),t("li",{class:"clickable",onClick:i[2]||(i[2]=g=>m("nomad"))},[r(t("span",Ct,null,512),[[u,"searchEngine.filters.remote.nomad"]])])])]),_:1}),r(t("p",Tt,[(o(!0),c(A,null,I(_(a),(g,q)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:q,onClick:U=>d(g)},[R(y(n.$t(`searchEngine.filters.remote.${g}`))+" ",1),Rt],8,Dt))),128))],512),[[v,_(a).length!=0]])]),_:1})}}}),xt=T({data(){return{lang:"",search:"",awaitingSearch:!1,results:[],optionsActives:[[]],selectedOptionsActives:[],open:!1}},directives:{clickOutside:Re.directive,debounce:ge.exports.getDirective("3")},props:{options:{type:Array,default:[]},values:{type:Array,default:[]},propertyToValidate:{type:String,default:"_id"},propertyName:{type:String,default:"name"},placeholder:{type:String,default:""},requestLevel:{type:Array,default:[]},replaceURL:{type:String,default:":id"},attrToReplaceRequestURL:{type:String,default:"_id"},searchURL:{type:String,default:"/locations/searchLocation/"},allItems:{type:Array,default:[]},allItemsSelectable:{type:Boolean,default:!1},saveObject:{type:Boolean,default:!1},closeOnSaveSearched:{type:Boolean,default:!1}},watch:{options:function(e){this.optionsActives[0]=e}},computed:oe(M({},ee("auth",["userData"])),{itemsList(){return this.optionsActives[this.level-1]},level(){return this.optionsActives.length},selectedOptionActive(){return this.level<=1?{}:this.selectedOptionsActives[this.level-2]}}),mounted(){let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),Array.prototype.forEach.call(document.querySelectorAll(".custom-scroll"),s=>new ke(s)),this.optionsActives[0]=this.options},methods:{openOptions(){this.open=!0},closeOptions(){this.open=!1},scrollToTop(){Array.prototype.forEach.call(document.querySelectorAll("#searchable-list__content-scroll .simplebar-content-wrapper"),e=>e.scrollTop=0)},validateClassOrder1(e){return this.allItems.includes(e[this.propertyName])||this.allItems.includes(e==null?void 0:e.name_en)||this.allItems.includes(e==null?void 0:e._id)},fetchResults(){this.axios.get(this.searchURL+this.search,{params:{lang:this.lang}}).then(e=>{this.results=(e==null?void 0:e.data)?e.data:[]}).then(()=>{Array.prototype.forEach.call(document.querySelectorAll(".searched-scroll"),e=>new ke(e))})},validateSearchedItem(e,s){if(this.results.length==1)return this.values[this.values.length-1].includes(e[this.propertyToValidate].toString());if(this.values[s])return this.values[s].includes(e[this.propertyToValidate].toString())},closeSearchedList(){this.search="",this.results=[]},async clickItem(e){if(this.requestLevel.length>this.level-1){if(e.subMenu){const l=e.subMenu;this.optionsActives.push(l)}else{const l=this.requestLevel[this.level-1].replace(this.replaceURL,e[this.attrToReplaceRequestURL]);await this.axios.get(l,{params:{lang:this.lang}}).then(a=>{const f=a.data;this.optionsActives.push(f)})}let s=Object.assign({},e);delete s.subMenu,this.selectedOptionsActives.push(s),this.scrollToTop()}else this.saveData(e)},returnTitleName(e){return this.level<=1?this.returnNameItem(e):this.returnNameItem(this.selectedOptionActive)},returnNameItem(e){let s="";return e&&(e.hasOwnProperty(this.propertyName)?s=e[this.propertyName]:(e==null?void 0:e.name_fr)&&this.lang=="fr"?s=e.name_fr:(e==null?void 0:e.name_en)&&this.lang=="en"?s=e.name_en:(e==null?void 0:e.name_es)&&this.lang=="es"&&(s=e.name_es)),s},returnLevel(){this.optionsActives.pop(),this.selectedOptionsActives.pop()},saveData(e){let s=this.selectedOptionsActives;s.push(e),this.saveObject&&(s=e),this.$emit("selectOption",s)},saveSearched(e,s){this.closeOnSaveSearched&&this.closeSearchedList(),this.$emit("selectSearchedOption",e,s)}}}),Nt={class:"searchable-list position-relative"},Ft=["placeholder"],Qt={class:"position-absolute w-100 bg-white",style:{"z-index":"1"}},Ut={key:0,class:"list-group searched-scroll",style:{height:"250px",overflow:"auto"}},Mt=["onClick"],Bt={class:"ms-2 me-auto"},Vt=t("i",{class:"far fa-square"},null,-1),Pt=[Vt],Jt=t("i",{class:"fas fa-check-square"},null,-1),zt=[Jt],Yt=["id"],Gt=t("span",{class:"ps-3 pe-2"},[t("i",{class:"far fa-angle-left"})],-1),Ht={class:"ms-2 me-auto"},Kt={key:0,class:"order-12 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable"},Wt=t("i",{class:"far fa-angle-left"},null,-1),Xt=[Wt],Zt=["onClick"],es={class:"ms-2 me-auto"},ts=t("i",{class:"far fa-square"},null,-1),ss=[ts],ls=t("i",{class:"fas fa-check-square"},null,-1),as=[ls],is=["onClick"],ns={class:"ms-2 me-auto"},os=t("i",{class:"far fa-square"},null,-1),rs=[os],cs=t("i",{class:"fas fa-check-square"},null,-1),ds=[cs],us=t("i",{class:"far fa-angle-right"},null,-1),hs=[us];function fs(e,s,l,a,f,m){const d=D("debounce"),h=D("click-outside");return r((o(),c("div",Nt,[r(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=n=>e.search=n),class:"form-control searchable-list__input mb-1",placeholder:e.placeholder,onFocus:s[1]||(s[1]=(...n)=>e.openOptions&&e.openOptions(...n))},null,40,Ft),[[le,e.search],[d,e.fetchResults,"1s"]]),r(t("div",Qt,[e.results.length!=0?(o(),c("ul",Ut,[(o(!0),c(A,null,I(e.results,(n,i)=>r((o(),c("li",{key:"results-"+i,class:"list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:u=>e.saveSearched(n,i)},[t("div",Bt,y(e.returnNameItem(n)),1),r(t("span",null,Pt,512),[[v,!e.validateSearchedItem(n,i)]]),r(t("span",null,zt,512),[[v,e.validateSearchedItem(n,i)]])],8,Mt)),[[v,n]])),128))])):L("",!0)],512),[[v,e.results.length!=0],[h,e.closeSearchedList]]),t("div",{class:X(["searchable-list__options",{open:e.open}])},[t("ul",{id:e.open?"searchable-list__content-scroll":"",class:"list-group custom-scroll",style:{height:"100%",overflow:"auto"}},[e.open?(o(),c(A,{key:0},[e.allItems.length==0&&e.level>1?(o(),c("li",{key:0,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:s[2]||(s[2]=(...n)=>e.returnLevel&&e.returnLevel(...n))},[Gt,t("div",Ht,y(e.returnNameItem(e.selectedOptionsActives[e.level-2])),1)])):L("",!0),(o(!0),c(A,null,I(e.itemsList,(n,i)=>(o(),c(A,{key:"list-"+i},[n&&e.validateClassOrder1(n)?(o(),c("li",Kt,[e.level>1?(o(),c("span",{key:0,class:"ps-3 pe-2",onClick:s[3]||(s[3]=(...u)=>e.returnLevel&&e.returnLevel(...u))},Xt)):L("",!0),t("div",{class:"d-flex flex-grow-1",onClick:u=>e.saveData(n)},[t("div",es,y(e.returnTitleName(n)),1),r(t("span",null,ss,512),[[v,e.allItemsSelectable&&!e.values[e.level-1].includes(n[e.propertyToValidate].toString())]]),r(t("span",null,as,512),[[v,e.allItemsSelectable&&e.values[e.level-1].includes(n[e.propertyToValidate].toString())]])],8,Zt)])):n&&!e.validateClassOrder1(n)?(o(),c("li",{key:1,class:"order-1 list-group-item d-flex justify-content-between align-items-start mb-1 border-0 bg-light-gray ps-1 clickable",onClick:u=>e.clickItem(n)},[t("div",ns,y(e.returnNameItem(n)),1),r(t("span",null,rs,512),[[v,e.requestLevel.length==e.level-1&&!e.values[e.level-1].includes(n[e.propertyToValidate].toString())]]),r(t("span",null,ds,512),[[v,e.requestLevel.length==e.level-1&&e.values[e.level-1].includes(n[e.propertyToValidate].toString())]]),r(t("span",null,hs,512),[[v,e.requestLevel.length!=e.level-1]])],8,is)):L("",!0)],64))),128))],64)):L("",!0)],8,Yt)],2)],512)),[[h,e.closeOptions]])}var J=Q(xt,[["render",fs]]);const ps=T({components:{FilterLayout:F,SearchableList:J},data(){return{options:[],filtersNames:[],filters:[]}},async created(){if(this.axios.get("/locations/getContinents").then(e=>{this.options=e.data}),this.$route.query.locations){let e=[];typeof this.$route.query.locations=="string"?e.push(this.$route.query.locations):e=this.$route.query.locations,this.filters=this.filters.concat(e)}this.filters.length>0&&await this.check_filter_obj()},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.filters.indexOf(e._id.toString());console.log(e),l===-1?(this.filters.push(e._id.toString()),s.locations=this.filters.toString(),this.check_filter_obj()):(this.filters.splice(l,1),this.check_filter_obj(),this.filters.length==0?delete s.locations:s.locations=this.filters.toString()),this.$emit("updateApiQuery","locations",this.filters)},save_data(e){const s=e.pop();this.filter(s)},save_searched_data(e){this.filter(e)},removeFilter(e){this.filter(e)},async check_filter_obj(){await this.axios.get("/locations/by-ids",{params:{locations:this.filters}}).then(e=>{this.filtersNames=[...e.data.contients,...e.data.countries,...e.data.regions,...e.data.cities]})},getNameLocationAll(e){let s="";return e.name.includes("All countries")||e.name.includes("All location_regions")||e.name.includes("All location_cities")?e.continent?s=e.continent.name:e.country?s=e.country.name:e.region&&(s=e.region.name):s=e.name,s}}}),_s={class:"mb-2"},ms={class:"fs-16 fw-bold"},gs={class:"mb-0"},ys=["onClick"],bs=t("i",{class:"fas fa-times ms-1"},null,-1);function vs(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",_s,[r(t("span",ms,null,512),[[n,"searchEngine.filters.location.title"]])]),$(d,{options:e.options,requestLevel:["/locations/continent/:id/countries","/locations/country/:id/regions","/locations/region/:id/cities"],allItems:["Worldwide","All countries","All location_regions","All location_cities"],allItemsSelectable:!0,propertyToValidate:"_id",values:[e.filters,e.filters,e.filters,e.filters],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.save_data,onSelectSearchedOption:e.save_searched_data},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",gs,[(o(!0),c(A,null,I(e.filtersNames,(i,u)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_remote-"+u,onClick:g=>e.removeFilter(i)},[R(y(e.getNameLocationAll(i))+" ",1),bs],8,ys))),128))],512),[[v,e.filtersNames.length!=0]])]),_:1})}var $s=Q(ps,[["render",vs]]);const ks=T({components:{FilterLayout:F,SearchableList:J},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"job_reference",filterObjs:[],job_reference:[],lang:"fr",activeDevfilter:!1}},watch:{clear:function(){this.clear&&(this.filterObjs=[],this.job_reference=[],this.$emit("clearLock"),this.$emit("activeDevelopment",!1))}},mounted(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(s){return new Fe(s)})},async created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/job-reference/categories").then(s=>{this.options=s.data}),this.$route.query.job_reference){let s=[];typeof this.$route.query.job_reference=="string"?s.push(this.$route.query.job_reference):s=this.$route.query.job_reference,this.job_reference=this.job_reference.concat(s)}this.job_reference.length>0&&await this.check_filter_obj(),this.filterObjs.length>0&&(this.filterObjs.some(s=>s.job_reference_sub_category=="62312eb71cccbfccd84b3ced")||this.filterObjs.some(s=>s.name_en=="Development"))&&(this.activeDevfilter=!0,this.$emit("activeDevelopment",this.activeDevfilter))},methods:{async filter(e){var f;let s="";this.job_reference.indexOf(e._id.toString())!==-1&&(s="delete"),console.log(e);let l=Object.assign({},this.$route.query);e.name_en.includes("All categories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All subcategories")?s!="delete"&&(this.job_reference=[],this.filterObjs=[]):e.name_en.includes("All references")&&s!="delete"&&(this.job_reference=[],this.filterObjs=[]),(e._id=="62312eb71cccbfccd84b3ced"||((f=e.job_reference_sub_category)==null?void 0:f.name_en)=="Development")&&(this.activeDevfilter=!0);const a=this.job_reference.indexOf(e._id.toString());a===-1?(this.job_reference.push(e._id.toString()),l[this.filter_name]=this.job_reference.toString(),this.check_filter_obj()):(this.job_reference.splice(a,1),this.check_filter_obj(),this.job_reference.length==0?delete l[this.filter_name]:l[this.filter_name]=this.job_reference.toString()),this.$emit("activeDevelopment",this.activeDevfilter),this.$emit("updateApiQuery",this.filter_name,this.job_reference)},clear_oid(e){let s="";return e.includes("0-")&&(s=e.split("-")[1]),s},async check_filter_obj(){await this.axios.get("/job-reference/by-ids",{params:{job_reference:this.job_reference}}).then(e=>{this.filterObjs=e.data})},show_item(e,s){if(e=="fr")return s.name_fr;if(e=="en")return s.name_en;if(e=="es")return s.name_es}}}),Os={class:"mb-2"},Ss={class:"fs-16 fw-bold"},ws={class:"mb-0"},qs=["onClick"],As=["data-bs-content"],js={key:1},Es=t("i",{class:"fas fa-times ms-1"},null,-1);function Ls(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",Os,[r(t("span",Ss,null,512),[[n,"searchEngine.filters.job_refence.title"]])]),$(d,{saveObject:!0,options:e.options,values:[[],[],e.job_reference],requestLevel:["/job-reference/subcategory/:id/categories","/job-reference/reference/:id/subcategory"],allItems:["All categories","All subcategories","All references"],allItemsSelectable:!0,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/job-reference/searchJobreference/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",ws,[(o(!0),c(A,null,I(e.filterObjs,i=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_JR-"+i._id,onClick:u=>e.filter(i)},[e.show_item(e.lang,i).length>10?(o(),c("span",{key:0,"data-bs-toggle":"popover","data-bs-trigger":"hover focus","data-bs-placement":"bottom","data-bs-content":e.show_item(e.lang,i)},y(e.show_item(e.lang,i).substr(0,10))+"... ",9,As)):(o(),c("span",js,y(e.show_item(e.lang,i)),1)),Es],8,qs))),128))],512),[[v,e.filterObjs.length!=0]])]),_:1})}var Cs=Q(ks,[["render",Ls]]);const Ts=T({components:{FilterLayout:F,SearchableList:J},data(){return{options:[],filter_name:"industries",industries_objs:[],industries:[],lang:"fr"}},created(){if(this.$route.query.industries)if(typeof this.$route.query.industries=="string"){const s=[];s.push(this.$route.query.industries),this.industries=s}else this.industries=this.$route.query.industries;let e=window.localStorage.getItem("userLang");e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/industry/categories").then(s=>{this.options=s.data}),this.axios.get("/industry/by-ids",{params:{industries:this.industries}}).then(s=>{this.industries_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.industries.indexOf(e._id.toString());l===-1?(this.industries.push(e._id.toString()),s[this.filter_name]=this.industries.toString(),this.industries_objs.push(e)):(this.industries.splice(l,1),this.industries_objs=this.industries_objs.filter(a=>a._id!=e._id),this.industries.length==0?delete s[this.filter_name]:s[this.filter_name]=this.industries.toString()),this.$emit("updateApiQuery",this.filter_name,this.industries)}}}),Ds={class:"mb-2"},Rs={class:"fs-16 fw-bold"},Is={class:"mb-0"},xs=["onClick"],Ns=t("i",{class:"fas fa-times ms-1"},null,-1);function Fs(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",Ds,[r(t("span",Rs,null,512),[[n,"searchEngine.filters.industries.title"]])]),$(d,{options:e.options,values:[[],e.industries],requestLevel:["/industry/:id/categories"],allItems:["All Industries"],allItemsSelectable:!1,placeholder:e.$t("searchEngine.filters.searchOrSelect"),searchURL:"/industry/searchIndustries/",saveObject:!0,onSelectSearchedOption:e.filter,onSelectOption:e.filter},null,8,["options","values","placeholder","onSelectSearchedOption","onSelectOption"]),r(t("p",Is,[(o(!0),c(A,null,I(e.industries_objs,i=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_industry-"+i._id,onClick:u=>e.filter(i)},[r(t("span",null,y(i.name_fr),513),[[v,e.lang=="fr"]]),r(t("span",null,y(i.name_en),513),[[v,e.lang=="en"]]),r(t("span",null,y(i.name_es),513),[[v,e.lang=="es"]]),Ns],8,xs))),128))],512),[[v,e.industries_objs.length!=0]])]),_:1})}var Qs=Q(Ts,[["render",Fs]]);const Us=T({components:{FilterLayout:F,SearchableList:J},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"companies",companies_objs:[],companies:[],value_top:!1}},watch:{clear:function(){this.clear&&(this.companies_objs=[],this.companies=[],this.$emit("clearLock"))}},created(){if(this.axios.get("/company/list/top").then(e=>{this.options=e.data}),this.$route.query.companies)if(typeof this.$route.query.companies=="string"){const e=[];e.push(this.$route.query.companies),this.companies=e}else this.companies=this.$route.query.companies;this.axios.get("/company/list/by-ids",{params:{companies:this.companies}}).then(e=>{this.companies_objs=e.data})},computed:{valueCheck(){let e=!1;return this.$route.query.top_flex&&(e=!0),e}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.companies.indexOf(e._id.toString());l===-1?(this.companies.push(e._id.toString()),s[this.filter_name]=this.companies.toString(),this.companies_objs.push(e)):(this.companies.splice(l,1),this.companies_objs=this.companies_objs.filter(a=>a._id!=e._id),this.companies.length==0?delete s[this.filter_name]:s[this.filter_name]=this.companies.toString()),this.$emit("updateApiQuery",this.filter_name,this.companies)},topFlex(e){this.companies=[],this.companies_objs=[],this.value_top=!e,e?this.$emit("updateApiQuery","top_flex",e):this.$emit("updateApiQuery","top_flex","")}}}),Ms={class:"mb-2"},Bs={class:"fs-16 fw-bold"},Vs={class:"mb-0"},Ps=["onClick"],Js=t("i",{class:"fas fa-times ms-1"},null,-1),zs={class:"form-check mt-2 d-flex"},Ys=["checked"],Gs=t("label",{class:"form-check-label fs-14 fw-bold",for:"check_top"},[t("em",{class:"fas fa-star me-1"}),R(" Top flex company only")],-1);function Hs(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",Ms,[r(t("span",Bs,null,512),[[n,"searchEngine.filters.company.title"]])]),$(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.companies],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,searchURL:"/company/searchCompanies/",onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",Vs,[(o(!0),c(A,null,I(e.companies_objs,i=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+i._id,onClick:u=>e.filter(i)},[R(y(i.name)+" ",1),Js],8,Ps))),128))],512),[[v,e.companies_objs.length!=0]]),t("div",zs,[t("input",{class:"form-check-input",checked:e.valueCheck,type:"checkbox",id:"check_top",onClick:s[0]||(s[0]=i=>e.topFlex(!e.valueCheck))},null,8,Ys),Gs])]),_:1})}var Ks=Q(Us,[["render",Hs]]);const Ws={class:"mb-2"},Xs={class:"fs-16 fw-bold"},Zs={class:"py-2 fs-14"},el={class:"fs-14"},tl=["onClick"],sl={class:"dropdown-item py-2"},ll={class:"mb-0"},al=["onClick"],il=R(),nl=t("i",{class:"fas fa-times ms-1"},null,-1),ol=T({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=Z();let a=V([]);const f=["CONTRACT_DEF","CONTRACT_INDEF","CONTRACT_FREE","CONTRACT_PART"],m="contract";if(l.query.contract){let i=[];typeof l.query.contract=="string"?i.push(l.query.contract):i=l.query.contract,a.splice(0,0,...i)}const d=async i=>{let u=Object.assign({},l.query);const g=a.indexOf(i);g===-1?(a.push(i),u[m]=a.toString()):(a.splice(g,1),a.length==0?delete u[m]:u[m]=a.toString()),n()},h=i=>{let u=Object.assign({},l.query);const g=a.indexOf(i);a.splice(g,1),a.length==0?delete u[m]:u[m]=a.toString(),n()},n=async i=>{s("updateApiQuery",m,a)};return(i,u)=>{const g=D("t");return o(),N(F,{id:"filter-contrat"},{default:S(()=>[t("p",Ws,[r(t("span",Xs,null,512),[[g,"searchEngine.filters.contract.title"]])]),$(te,null,{dropdown_btn:S(()=>[t("div",Zs,[r(t("span",null,null,512),[[g,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",el,[(o(),c(A,null,I(f,q=>t("li",{class:"clickable",onClick:U=>d(q)},[r(t("span",sl,null,512),[[g,`searchEngine.filters.contract.${q}`]])],8,tl)),64))])]),_:1}),r(t("p",ll,[(o(!0),c(A,null,I(_(a),(q,U)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:U,onClick:ne=>h(q)},[r(t("span",null,null,512),[[g,`searchEngine.filters.contract.${q}`]]),il,nl],8,al))),128))],512),[[v,_(a).length!=0]])]),_:1})}}}),rl={class:"mb-2"},cl={class:"fs-16 fw-bold"},dl={class:"custom-scroll",style:{"max-height":"205px"}},ul={class:"form-check mt-2 d-flex fs-14"},hl=["checked","id","value","onClick"],fl=["for"],pl=T({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=Z();let a=V([]);const f="flexibility";if(l.query.flexibility){let d=[];typeof l.query.flexibility=="string"?d.push(l.query.flexibility):d=l.query.flexibility,a.splice(0,0,...d)}const m=async d=>{let h=Object.assign({},l.query);const n=a.indexOf(d);n===-1?(a.push(d),h[f]=a.toString()):(a.splice(n,1),a.length==0?delete h[f]:h[f]=a.toString()),s("updateApiQuery",f,a)};return(d,h)=>{const n=D("t");return o(),N(F,null,{default:S(()=>[t("p",rl,[r(t("span",cl,null,512),[[n,"searchEngine.filters.flexibility.title"]]),t("span",{class:X(["badge rounded-pill bg-blue-app-20 text-blue-app fs-12 ms-2",_(a).length>9?"px-1":"px-2"])},y(_(a).length),3)]),t("div",dl,[(o(!0),c(A,null,I(Object.keys(_(we)),i=>(o(),c("div",ul,[t("input",{class:"form-check-input",checked:_(a).includes(i),type:"checkbox",id:i,value:i,onClick:u=>m(i)},null,8,hl),r(t("label",{class:"form-check-label",for:i},null,8,fl),[[n,`searchEngine.filters.flexibility.${i}`]])]))),256))])]),_:1})}}}),_l={class:"mb-2"},ml={class:"fs-16 fw-bold"},gl={class:"py-2 fs-14"},yl={class:"fs-14"},bl=["onClick"],vl={class:"dropdown-item"},$l={class:"mb-0"},kl=["onClick"],Ol=R(),Sl=t("i",{class:"fas fa-times ms-1"},null,-1),wl=T({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=Z();let a=V([]);const f=["internships","entry_level","junior","mid_level","senior","expert"],m="experience";if(l.query.experience){let i=[];typeof l.query.experience=="string"?i.push(l.query.experience):i=l.query.experience,a.splice(0,0,...i)}const d=async i=>{let u=Object.assign({},l.query);const g=a.indexOf(i);g===-1?(a.push(i),u[m]=a.toString()):(a.splice(g,1),a.length==0?delete u[m]:u[m]=a.toString()),n()},h=i=>{let u=Object.assign({},l.query);const g=a.indexOf(i);a.splice(g,1),a.length==0?delete u[m]:u[m]=a.toString(),n()},n=async i=>{s("updateApiQuery",m,a)};return(i,u)=>{const g=D("t");return o(),N(F,null,{default:S(()=>[t("p",_l,[r(t("span",ml,null,512),[[g,"searchEngine.filters.experience.title"]])]),$(te,null,{dropdown_btn:S(()=>[t("div",gl,[r(t("span",null,null,512),[[g,"searchEngine.filters.select"]])])]),dropdown_li:S(()=>[t("ul",yl,[(o(),c(A,null,I(f,q=>t("li",{class:"clickable",onClick:U=>d(q)},[r(t("span",vl,null,512),[[g,`searchEngine.filters.experience.${q}`]])],8,bl)),64))])]),_:1}),r(t("p",$l,[(o(!0),c(A,null,I(_(a),(q,U)=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:U,onClick:ne=>h(q)},[r(t("span",null,null,512),[[g,`searchEngine.filters.experience.${q}`]]),Ol,Sl],8,kl))),128))],512),[[v,_(a).length!=0]])]),_:1})}}}),ql=T({components:{FilterLayout:F,SearchableList:J},data(){return{options:[],filter_name:"languages",filter_objs:[],languages:[],lang:"fr"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/language/getLanguages").then(s=>{this.options=s.data}),this.$route.query.languages)if(typeof this.$route.query.languages=="string"){const s=[];s.push(this.$route.query.languages),this.languages=s}else this.languages=this.$route.query.languages;this.axios.get("/language/by-ids",{params:{languages:this.languages}}).then(s=>{this.filter_objs=s.data})},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.languages.indexOf(e._id.toString());l===-1?(this.languages.push(e._id.toString()),s[this.filter_name]=this.languages.toString(),this.filter_objs.push(e)):(this.languages.splice(l,1),this.filter_objs=this.filter_objs.filter(a=>a._id!=e._id),this.languages.length==0?delete s[this.filter_name]:s[this.filter_name]=this.languages.toString()),this.$emit("updateApiQuery",this.filter_name,this.languages)}}}),Al={class:"mb-2"},jl={class:"fs-16 fw-bold"},El={class:"mb-0"},Ll=["onClick"],Cl=t("i",{class:"fas fa-times ms-1"},null,-1);function Tl(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",Al,[r(t("span",jl,null,512),[[n,"searchEngine.filters.languages.title"]])]),$(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.languages],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",El,[(o(!0),c(A,null,I(e.filter_objs,i=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+i._id,onClick:u=>e.filter(i)},[r(t("span",null,y(i.name_fr),513),[[v,e.lang=="fr"]]),r(t("span",null,y(i.name_en),513),[[v,e.lang=="en"]]),r(t("span",null,y(i.name_es),513),[[v,e.lang=="es"]]),Cl],8,Ll))),128))],512),[[v,e.filter_objs.length!=0]])]),_:1})}var Dl=Q(ql,[["render",Tl]]);const Rl={class:"mb-2"},Il={class:"fs-16 fw-bold"},xl={class:"py-2 fs-14"},Nl={class:"fs-14"},Fl=t("span",{class:"dropdown-item"},"Euros (\u20AC) / an",-1),Ql=[Fl],Ul=t("span",{class:"dropdown-item"},"USD ($)",-1),Ml=[Ul],Bl={class:"input-group my-2 position-relative"},Vl=["placeholder"],Pl={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Jl={class:"my-1"},zl={class:"input-group mb-1 position-relative"},Yl=["min","placeholder"],Gl={class:"position-absolute",style:{right:"15px",top:"50%",transform:"translateY(-50%)"}},Hl=T({emits:["updateApiQuery"],setup(e,{emit:s}){ae();const l=Z();let a=V({currency:"Euro",salary_min:null,salary_max:null});const f=x(()=>a.currency=="Euro"?"\u20AC":"$");l.query.currency&&(a.currency=l.query.currency.toString()),l.query.salary_min&&(a.salary_min=l.query.salary_min.toString()),l.query.salary_max&&(a.salary_max=l.query.salary_max.toString());const m=h=>{a.currency=h,d("currency")},d=async h=>{let n=Object.assign({},l.query);!a[h]||a[h].length==0?delete n[h]:n[h]=a[h],h!="currency"&&s("updateApiQuery","currency",a.currency),s("updateApiQuery",h,a[h])};return(h,n)=>{const i=D("t");return o(),N(F,{hideBorder:!0},{default:S(()=>[t("p",Rl,[r(t("span",Il,null,512),[[i,"searchEngine.filters.salary.title"]])]),$(te,null,{dropdown_btn:S(()=>[t("div",xl,[t("span",null,y(_(a).currency=="Euro"?"Euros (\u20AC) / an":"USD ($)"),1)])]),dropdown_li:S(()=>[t("ul",Nl,[t("li",{class:"clickable",onClick:n[0]||(n[0]=u=>m("EUR"))},Ql),t("li",{class:"clickable",onClick:n[1]||(n[1]=u=>m("USD"))},Ml)])]),_:1}),t("div",Bl,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":n[2]||(n[2]=u=>_(a).salary_min=u),onBlur:n[3]||(n[3]=u=>d("salary_min")),placeholder:h.$t("searchEngine.filters.salary.min")},null,40,Vl),[[le,_(a).salary_min]]),t("span",Pl,y(_(f)),1)]),r(t("p",Jl,null,512),[[i,"searchEngine.filters.salary.to"]]),t("div",zl,[r(t("input",{type:"number",class:"form-control mb-1","onUpdate:modelValue":n[4]||(n[4]=u=>_(a).salary_max=u),min:_(a).salary_min?_(a).salary_min:"1000",onBlur:n[5]||(n[5]=u=>d("salary_max")),placeholder:h.$t("searchEngine.filters.salary.max")},null,40,Yl),[[le,_(a).salary_max]]),t("span",Gl,y(_(f)),1)])]),_:1})}}}),Kl=T({components:{FilterLayout:F,SearchableList:J},props:{clear:{type:Boolean,default:!1}},data(){return{options:[],filter_name:"technology",filter_objs:[],technology:[],lang:"en"}},created(){let e=window.localStorage.getItem("userLang");if(e?this.lang=window.localStorage.getItem("userLang"):(e=navigator.language,e.includes("es")?this.lang="es":e.includes("fr")?this.lang="fr":this.lang="en"),this.axios.get("/technology/getTechnologies").then(s=>{this.options=s.data}),this.$route.query.technology)if(typeof this.$route.query.technology=="string"){const s=[];s.push(this.$route.query.technology),this.technology=s}else this.technology=this.$route.query.technology;this.axios.get("/technology/by-ids",{params:{technology:this.technology}}).then(s=>{this.filter_objs=s.data})},watch:{clear:function(){this.clear&&(this.filter_objs=[],this.technology=[],this.$emit("clearLock"))}},methods:{async filter(e){let s=Object.assign({},this.$route.query);const l=this.technology.indexOf(e._id.toString());l===-1?(this.technology.push(e._id.toString()),s[this.filter_name]=this.technology.toString(),this.filter_objs.push(e)):(this.technology.splice(l,1),this.filter_objs=this.filter_objs.filter(a=>a._id!=e._id),this.technology.length==0?delete s[this.filter_name]:s[this.filter_name]=this.technology.toString()),this.$emit("updateApiQuery",this.filter_name,this.technology)}}}),Wl={class:"mb-2"},Xl={class:"fs-16 fw-bold"},Zl={class:"mb-0"},ea=["onClick"],ta=t("i",{class:"fas fa-times ms-1"},null,-1);function sa(e,s,l,a,f,m){const d=E("SearchableList"),h=E("FilterLayout"),n=D("t");return o(),N(h,null,{default:S(()=>[t("p",Wl,[r(t("span",Xl,null,512),[[n,"searchEngine.filters.technology.title"]])]),$(d,{saveObject:!0,options:e.options,requestLevel:[],allItems:[],allItemsSelectable:!1,values:[e.technology],placeholder:e.$t("searchEngine.filters.searchOrSelect"),closeOnSaveSearched:!1,onSelectOption:e.filter,onSelectSearchedOption:e.filter},null,8,["options","values","placeholder","onSelectOption","onSelectSearchedOption"]),r(t("p",Zl,[(o(!0),c(A,null,I(e.filter_objs,i=>(o(),c("span",{class:"badge clickable rounded-pill fs-14 me-2 py-2 mt-2 bg-blue-app-20 text-blue-app",key:"filter_lang-"+i._id,onClick:u=>e.filter(i)},[r(t("span",null,y(i.name_fr),513),[[v,e.lang=="fr"]]),r(t("span",null,y(i.name_en),513),[[v,e.lang=="en"]]),r(t("span",null,y(i.name_es),513),[[v,e.lang=="es"]]),ta],8,ea))),128))],512),[[v,e.filter_objs.length!=0]])]),_:1})}var la=Q(Kl,[["render",sa]]);const aa={id:"search-engine__filters",class:"bg-white p-3 card"},ia={class:"filters__header border-bottom"},na={class:"mb-2"},oa={class:"fs-16 fw-bold ff-nexa"},ra={class:"text-center filters__btn-filter px-4"},ca={key:0,class:"btn btn-primary w-100 py-2"},da={key:1,class:"btn btn-primary w-100 py-2"},ua=T({props:{countResult:null},emits:["updateApiQuery","clearApiQuery"],setup(e,{emit:s}){const l=window.localStorage.getItem("accessToken");let a=V({active:!1}),f=V({active:!1});const m=()=>{console.log("me puse false"),f.active=!1},d=(i,u)=>{s("updateApiQuery",i,u)},h=i=>{a.active=i},n=()=>{console.log("me puse true"),f.active=!0,s("clearApiQuery")};return(i,u)=>{const g=E("i18n-t"),q=D("t");return o(),c("div",aa,[t("div",ia,[t("p",na,[r(t("span",oa,null,512),[[q,"searchEngine.filters.title"]]),r(t("span",{class:"fs-12 float-end clickable",onClick:n},null,512),[[q,"searchEngine.filters.erase"]])])]),$(It,{onUpdateApiQuery:d}),$($s,{onUpdateApiQuery:d,clear:_(f).active,onClearLock:m},null,8,["clear"]),$(Cs,{onUpdateApiQuery:d,onActiveDevelopment:h,clear:_(f).active,onClearLock:m},null,8,["clear"]),_(a).active?(o(),N(la,{key:0,onUpdateApiQuery:d,clear:_(f).active,onClearLock:m},null,8,["clear"])):L("",!0),$(Qs,{onUpdateApiQuery:d,clear:_(f).active,onClearLock:m},null,8,["clear"]),$(Ks,{onUpdateApiQuery:d,clear:_(f).active,onClearLock:m},null,8,["clear"]),$(ol,{onUpdateApiQuery:d}),$(pl,{onUpdateApiQuery:d}),$(wl,{onUpdateApiQuery:d}),$(Dl,{onUpdateApiQuery:d,clear:_(f).active,onClearLock:m},null,8,["clear"]),$(Hl,{onUpdateApiQuery:d}),t("div",ra,[_(l)?r((o(),c("button",da,null,512)),[[q,"searchEngine.filters.save_filters"]]):(o(),c("button",ca,[$(g,{keypath:"searchEngine.filters.filter"},{cant:S(()=>[t("span",null,y(e.countResult),1)]),_:1})]))])])}}}),ha=T({name:"ModalEmailAlerts",props:{query_alert:{type:Object,required:!0}},directives:{debounce:ge.exports.getDirective("3")},data(){return{email:"",valid_email:0,modalAlertShow:!1,error:!1}},computed:M({},ee("auth",["userData","accessToken"])),mounted(){this.accessToken||this.delayModalEmailAlert()},methods:{showModal(e){new $e(document.getElementById(e)).show()},hideModal(e){new $e(document.getElementById(e)).hide()},delayModalEmailAlert(){setInterval(()=>{!this.accessToken&&this.modalAlertShow==!1&&(this.showModal("saveAlertModal"),this.modalAlertShow=!0)},5e3)},validate_email(){console.log("validate_email");const e=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g;this.email.match(e)?this.valid_email=1:this.valid_email=0},async createFirstAlert(e,s){let l={alert:this.query_alert,email:e.email,email_verified:e.email_verified,authid:e._id,password:s};await this.axios.patch("/alert/create_first_alert",l).then(a=>{console.log(a)}).catch(a=>{Oe.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},async signupUser(){let e=await this.randomPassword(),s={client_id:"6VKHb2a9Pvx2D5J2jvshDpx8nIQwok5p",connection:"Username-Password-Authentication",email:this.email,password:e,username:this.email.split("@",8)[0].substring(0,15)};this.axios({method:"POST",headers:{"Content-Type":"application/json"},url:"/dbconnections/signup",baseURL:"https://dev-2uyy20kk.us.auth0.com",data:s}).then(l=>this.createFirstAlert(l.data,e)).catch(l=>{this.error=!0,Oe.notify(this.$t("emailAlert.error"),"error",5,()=>{})})},randomPassword(){var e=`${Math.random().toString(36).slice(-6)}3$`;return e}}}),fa={class:"modal fade",id:"saveAlertModal",tabindex:"-1","aria-labelledby":"saveAlertModalLabel","aria-hidden":"true"},pa={class:"modal-dialog modal-dialog-centered modal-lg"},_a={class:"modal-content"},ma={class:"modal-header border-transparent pb-0"},ga={class:"modal-body px-5"},ya={class:"text-left fw-bold fs-16"},ba=R(" \xA0 "),va=t("u",null,"Gerente IT ",-1),$a=R(" - "),ka=t("u",null,"Remote",-1),Oa=R(" - "),Sa=t("u",null,"France",-1),wa={class:"text-left fs-14"},qa={class:"w-50"},Aa={class:"form-label text-primary fw-bold"},ja={class:"input-group mb-3"},Ea={class:"text-left"},La={class:"modal-footer fs-12"},Ca={class:"modal fade",id:"alertMerciModal",tabindex:"-1","aria-labelledby":"alertMerciModalLabel","aria-hidden":"true"},Ta={class:"modal-dialog modal-dialog-centered modal-lg"},Da={class:"modal-content"},Ra={class:"modal-header"},Ia={key:0,class:"modal-title fw-bold fs-16"},xa={key:1,class:"modal-title fw-bold fs-16"},Na=t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Fa={class:"modal-body"},Qa={key:0,class:"text-left fs-14"},Ua={key:1,class:"text-left fs-14"},Ma={key:2,class:"text-left fs-14"};function Ba(e,s,l,a,f,m){const d=D("t"),h=D("debounce");return o(),c(A,null,[t("div",fa,[t("div",pa,[t("div",_a,[t("div",ma,[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:s[0]||(s[0]=n=>e.modalAlertShow=!1)})]),t("div",ga,[t("p",ya,[r(t("span",null,null,512),[[d,"emailAlert.modalAlert.title"]]),ba,va,$a,ka,Oa,Sa]),r(t("p",wa,null,512),[[d,"emailAlert.modalAlert.subTitle"]]),t("div",qa,[r(t("label",Aa,null,512),[[d,"emailAlert.modalAlert.label"]]),t("div",ja,[r(t("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=n=>e.email=n),class:"form-control",name:"email"},null,512),[[h,e.validate_email,"700ms"],[le,e.email]])])]),t("div",Ea,[r(t("button",{class:X(["btn btn-primary",{disabled:!e.valid_email}]),type:"button","data-bs-toggle":"modal","data-bs-target":"#alertMerciModal",onClick:s[2]||(s[2]=n=>e.signupUser())},null,2),[[d,"emailAlert.modalAlert.send"]])])]),t("div",La,[r(t("p",null,null,512),[[d,"emailAlert.modalAlert.footer"]])])])])]),t("div",Ca,[t("div",Ta,[t("div",Da,[t("div",Ra,[e.error?r((o(),c("p",xa,null,512)),[[d,"emailAlert.error"]]):r((o(),c("p",Ia,null,512)),[[d,"emailAlert.modalMerci.title"]]),Na]),t("div",Fa,[e.error?L("",!0):r((o(),c("p",Qa,null,512)),[[d,"emailAlert.modalMerci.text1"]]),e.error?r((o(),c("p",Ma,null,512)),[[d,"emailAlert.error"]]):r((o(),c("p",Ua,null,512)),[[d,"emailAlert.modalMerci.text2"]])])])])])],64)}var Va=Q(ha,[["render",Ba]]);const Pa=T({name:"SearchEngine",components:{MatchOfferCard:St,Filters:ua,DropdownVanilla:te,ModalEmailAlerts:Va},props:{filters:{type:Object,required:!1}},setup(){function e(s){let l=s;return function(a,f){clearTimeout(l),l=setTimeout(()=>{a()},f||500)}}return{debounce:e(null)}},data(){return{matchOfferType:P.Opportunity,joboffers:[],query_api:{sort:"Date"},non_array_properties:["sort","currency","salary_min","salary_max"],can_scroll:!0,page:1,loading:!0,loading_more:!1,query_alert:[],countResult:0}},computed:M(M({},ee("auth",["userData","accessToken"])),ee("talent",["favorite_data"])),watch:{query_api:{handler:function(e){this.update_url_query(e),this.debounce(this.fetchOffers,3e3)},deep:!0}},async created(){this.setLayout("BaseLayout"),await this.setquery()},mounted(){},methods:oe(M({},ye(["setLayout"])),{sort(e){this.query_api.sort=e,this.can_scroll&&(this.can_scroll=!1,this.loading=!0,this.update_query_api("sort",e))},update_query_api(e,s){!s||s.length==0?delete this.query_api[e]:this.query_api[e]=s,this.query_alert=this.query_api,this.loading_more||(this.loading=!0,this.query_api.page=1,this.page=1)},fetchOffers(){this.axios({method:"get",url:"/api/offer",baseURL:"https://jobgether-filter-dev.azurewebsites.net",params:this.query_api}).then(e=>{if(this.countResult=e.data.total,this.query_api.top_flex){this.joboffers=e.data.data.filter(l=>{var a,f;return((f=(a=l.company)==null?void 0:a.meta)==null?void 0:f.flex_score)>=90});let s=this.countResult-this.joboffers.length;this.countResult=this.countResult-s}else this.joboffers=e.data.data}).finally(()=>{this.loading=!1,this.loading_more=!1,this.can_scroll=!0;const e=document.getElementById("loading");e&&(e.style.display="none")})},openMatch(e){this.$router.push({name:"TalentOpportunity",params:{id:e._id}})},update_url_query(e){this.$router.push({query:e}).catch(s=>{s.name!=="NavigationDuplicated"&&console.log(s)})},clear_api_query(){this.query_api={sort:"Date"},this.update_url_query(this.query_api)},show_more(){if(this.can_scroll){this.can_scroll=!1,this.loading_more=!0;let e=this.page+1;this.page=e,this.update_query_api("page",e)}},setquery(){if(this.$route.query){const e=this.$route.query;for(const s in e)if(e.hasOwnProperty(s))if(this.non_array_properties.includes(s))this.query_api[s]=e[s];else{let l=[];Array.isArray(e[s])?l=e[s]:l.push(e[s]),this.query_api[s]=l}}}})}),Ja={class:"container"},za={class:"row gx-3"},Ya={class:"col-12 col-lg-10 col-xl-9 offset-lg-2 offset-xl-3 ff-nexa"},Ga={class:"fw-medium mb-2 ff-nexa-bold"},Ha={class:"d-flex flex-column flex-lg-row"},Ka={class:"flex-grow-1"},Wa={class:"mb-1 pt-1"},Xa={class:"d-flex flex-row-reverse"},Za={class:"row"},ei={for:"sort",class:"col col-form-label p-0 pt-1"},ti={class:"col px-0 position-relative"},si={class:"pt-1"},li={class:"text-primary"},ai={class:""},ii={class:"dropdown-item"},ni={class:"dropdown-item"},oi={class:"row gx-3 flex-column-reverse flex-lg-row"},ri={class:"col-10 col-md-6 col-lg-3 offset-1 offset-md-3 offset-lg-0 my-2"},ci={class:"col-12 col-lg-9"},di={key:0,class:"d-flex flex-column"},ui={key:1,class:"col-12 col-lg-12 d-flex justify-content-center align-items-center"},hi=t("div",{class:"spinner-border",role:"status"},null,-1),fi=[hi],pi={key:1,class:"text-center mt-5 fw-medium"},_i={key:1,class:"col-12 col-lg-9 d-flex justify-content-center align-items-center"},mi=t("div",{class:"spinner-border",role:"status"},null,-1),gi=[mi];function yi(e,s,l,a,f,m){const d=E("i18n-t"),h=E("DropdownVanilla"),n=E("Filters"),i=E("MatchOfferCard"),u=D("t");return o(),c("div",Ja,[t("div",za,[t("div",Ya,[t("p",Ga,[$(d,{keypath:"searchEngine.cantJobs"},{cant:S(()=>[t("span",null,y(e.countResult),1)]),_:1})]),t("div",Ha,[t("div",Ka,[r(t("p",Wa,null,512),[[u,"searchEngine.cantJobs_subtitle"]])]),t("div",Xa,[t("div",Za,[r(t("label",ei,null,512),[[u,"searchEngine.sort"]]),t("div",ti,[$(h,{button_bg_color:"transparent"},{dropdown_btn:S(()=>[t("div",si,[t("span",li,y(e.query_api.sort),1)])]),dropdown_li:S(()=>[t("ul",ai,[t("li",{class:"clickbale",onClick:s[0]||(s[0]=g=>e.sort("Date"))},[r(t("span",ii,null,512),[[u,"searchEngine.sort_dropdown.date"]])]),t("li",{class:"clickbale",onClick:s[1]||(s[1]=g=>e.sort("Points"))},[r(t("span",ni,null,512),[[u,"searchEngine.sort_dropdown.points"]])])])]),_:1})])])])])])]),t("div",oi,[t("div",ri,[$(n,{onUpdateApiQuery:e.update_query_api,onClearApiQuery:e.clear_api_query},null,8,["onUpdateApiQuery","onClearApiQuery"])]),t("div",ci,[e.loading?L("",!0):(o(),c("div",di,[e.joboffers.length>0?(o(),c(A,{key:0},[(o(!0),c(A,null,I(e.joboffers,g=>(o(),N(i,{"match-offer":g,"match-offer-type":e.matchOfferType,class:"my-2 new-opportunity",key:g._id,onClick:q=>e.openMatch(g)},null,8,["match-offer","match-offer-type","onClick"]))),128)),e.can_scroll?r((o(),c("p",{key:0,class:"text-center mt-2 text-decoration-underline clickable",onClick:s[2]||(s[2]=(...g)=>e.show_more&&e.show_more(...g))},null,512)),[[u,"searchEngine.show_more"]]):L("",!0),e.loading_more?(o(),c("div",ui,fi)):L("",!0)],64)):r((o(),c("p",pi,null,512)),[[u,"searchEngine.not_found"]])])),e.loading?(o(),c("div",_i,gi)):L("",!0)])])])}var bi=Q(Pa,[["render",yi]]);const vi=T({name:"Opportunities",components:{SearchEngine:bi},computed:M({},ee("auth",["userData"])),beforeCreate(){const e=document.getElementById("loading");e&&(e.style.display="block")},async created(){this.setLayout("BaseLayout"),(!this.userData.filters||this.userData.filters.length===0)&&Object.keys(this.$route.query).length===0&&this.$router.push({name:"TalentSearchBar"})},methods:M({},ye(["setLayout"]))}),$i={id:"opportunities",class:"my-auto"};function ki(e,s,l,a,f,m){const d=E("search-engine");return o(),c("div",$i,[$(d)])}var Ti=Q(vi,[["render",ki]]);export{Ti as default};
